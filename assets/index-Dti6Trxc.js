function Goe(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var a0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hC={exports:{}},Tp={},pC={exports:{}},At={};var TR;function Qoe(){if(TR)return At;TR=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function m(W){return W===null||typeof W!="object"?null:(W=h&&W[h]||W["@@iterator"],typeof W=="function"?W:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function x(W,Y,le){this.props=W,this.context=Y,this.refs=b,this.updater=le||g}x.prototype.isReactComponent={},x.prototype.setState=function(W,Y){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Y,"setState")},x.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function S(){}S.prototype=x.prototype;function N(W,Y,le){this.props=W,this.context=Y,this.refs=b,this.updater=le||g}var T=N.prototype=new S;T.constructor=N,y(T,x.prototype),T.isPureReactComponent=!0;var j=Array.isArray,P=Object.prototype.hasOwnProperty,E={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function _(W,Y,le){var pe,he={},Ae=null,me=null;if(Y!=null)for(pe in Y.ref!==void 0&&(me=Y.ref),Y.key!==void 0&&(Ae=""+Y.key),Y)P.call(Y,pe)&&!O.hasOwnProperty(pe)&&(he[pe]=Y[pe]);var Se=arguments.length-2;if(Se===1)he.children=le;else if(1<Se){for(var ue=Array(Se),Pe=0;Pe<Se;Pe++)ue[Pe]=arguments[Pe+2];he.children=ue}if(W&&W.defaultProps)for(pe in Se=W.defaultProps,Se)he[pe]===void 0&&(he[pe]=Se[pe]);return{$$typeof:t,type:W,key:Ae,ref:me,props:he,_owner:E.current}}function $(W,Y){return{$$typeof:t,type:W.type,key:Y,ref:W.ref,props:W.props,_owner:W._owner}}function B(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function I(W){var Y={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(le){return Y[le]})}var V=/\/+/g;function U(W,Y){return typeof W=="object"&&W!==null&&W.key!=null?I(""+W.key):Y.toString(36)}function L(W,Y,le,pe,he){var Ae=typeof W;(Ae==="undefined"||Ae==="boolean")&&(W=null);var me=!1;if(W===null)me=!0;else switch(Ae){case"string":case"number":me=!0;break;case"object":switch(W.$$typeof){case t:case e:me=!0}}if(me)return me=W,he=he(me),W=pe===""?"."+U(me,0):pe,j(he)?(le="",W!=null&&(le=W.replace(V,"$&/")+"/"),L(he,Y,le,"",function(Pe){return Pe})):he!=null&&(B(he)&&(he=$(he,le+(!he.key||me&&me.key===he.key?"":(""+he.key).replace(V,"$&/")+"/")+W)),Y.push(he)),1;if(me=0,pe=pe===""?".":pe+":",j(W))for(var Se=0;Se<W.length;Se++){Ae=W[Se];var ue=pe+U(Ae,Se);me+=L(Ae,Y,le,ue,he)}else if(ue=m(W),typeof ue=="function")for(W=ue.call(W),Se=0;!(Ae=W.next()).done;)Ae=Ae.value,ue=pe+U(Ae,Se++),me+=L(Ae,Y,le,ue,he);else if(Ae==="object")throw Y=String(W),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return me}function z(W,Y,le){if(W==null)return W;var pe=[],he=0;return L(W,pe,"","",function(Ae){return Y.call(le,Ae,he++)}),pe}function F(W){if(W._status===-1){var Y=W._result;Y=Y(),Y.then(function(le){(W._status===0||W._status===-1)&&(W._status=1,W._result=le)},function(le){(W._status===0||W._status===-1)&&(W._status=2,W._result=le)}),W._status===-1&&(W._status=0,W._result=Y)}if(W._status===1)return W._result.default;throw W._result}var q={current:null},M={transition:null},D={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:M,ReactCurrentOwner:E};function Q(){throw Error("act(...) is not supported in production builds of React.")}return At.Children={map:z,forEach:function(W,Y,le){z(W,function(){Y.apply(this,arguments)},le)},count:function(W){var Y=0;return z(W,function(){Y++}),Y},toArray:function(W){return z(W,function(Y){return Y})||[]},only:function(W){if(!B(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},At.Component=x,At.Fragment=n,At.Profiler=i,At.PureComponent=N,At.StrictMode=r,At.Suspense=l,At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,At.act=Q,At.cloneElement=function(W,Y,le){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var pe=y({},W.props),he=W.key,Ae=W.ref,me=W._owner;if(Y!=null){if(Y.ref!==void 0&&(Ae=Y.ref,me=E.current),Y.key!==void 0&&(he=""+Y.key),W.type&&W.type.defaultProps)var Se=W.type.defaultProps;for(ue in Y)P.call(Y,ue)&&!O.hasOwnProperty(ue)&&(pe[ue]=Y[ue]===void 0&&Se!==void 0?Se[ue]:Y[ue])}var ue=arguments.length-2;if(ue===1)pe.children=le;else if(1<ue){Se=Array(ue);for(var Pe=0;Pe<ue;Pe++)Se[Pe]=arguments[Pe+2];pe.children=Se}return{$$typeof:t,type:W.type,key:he,ref:Ae,props:pe,_owner:me}},At.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:s,_context:W},W.Consumer=W},At.createElement=_,At.createFactory=function(W){var Y=_.bind(null,W);return Y.type=W,Y},At.createRef=function(){return{current:null}},At.forwardRef=function(W){return{$$typeof:a,render:W}},At.isValidElement=B,At.lazy=function(W){return{$$typeof:d,_payload:{_status:-1,_result:W},_init:F}},At.memo=function(W,Y){return{$$typeof:c,type:W,compare:Y===void 0?null:Y}},At.startTransition=function(W){var Y=M.transition;M.transition={};try{W()}finally{M.transition=Y}},At.unstable_act=Q,At.useCallback=function(W,Y){return q.current.useCallback(W,Y)},At.useContext=function(W){return q.current.useContext(W)},At.useDebugValue=function(){},At.useDeferredValue=function(W){return q.current.useDeferredValue(W)},At.useEffect=function(W,Y){return q.current.useEffect(W,Y)},At.useId=function(){return q.current.useId()},At.useImperativeHandle=function(W,Y,le){return q.current.useImperativeHandle(W,Y,le)},At.useInsertionEffect=function(W,Y){return q.current.useInsertionEffect(W,Y)},At.useLayoutEffect=function(W,Y){return q.current.useLayoutEffect(W,Y)},At.useMemo=function(W,Y){return q.current.useMemo(W,Y)},At.useReducer=function(W,Y,le){return q.current.useReducer(W,Y,le)},At.useRef=function(W){return q.current.useRef(W)},At.useState=function(W){return q.current.useState(W)},At.useSyncExternalStore=function(W,Y,le){return q.current.useSyncExternalStore(W,Y,le)},At.useTransition=function(){return q.current.useTransition()},At.version="18.3.1",At}var AR;function fy(){return AR||(AR=1,pC.exports=Qoe()),pC.exports}var jR;function Yoe(){if(jR)return Tp;jR=1;var t=fy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var d,h={},m=null,g=null;c!==void 0&&(m=""+c),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(g=l.ref);for(d in l)r.call(l,d)&&!s.hasOwnProperty(d)&&(h[d]=l[d]);if(a&&a.defaultProps)for(d in l=a.defaultProps,l)h[d]===void 0&&(h[d]=l[d]);return{$$typeof:e,type:a,key:m,ref:g,props:h,_owner:i.current}}return Tp.Fragment=n,Tp.jsx=o,Tp.jsxs=o,Tp}var ER;function Xoe(){return ER||(ER=1,hC.exports=Yoe()),hC.exports}var u=Xoe(),l0={},mC={exports:{}},_i={},gC={exports:{}},yC={};var kR;function Zoe(){return kR||(kR=1,(function(t){function e(M,D){var Q=M.length;M.push(D);e:for(;0<Q;){var W=Q-1>>>1,Y=M[W];if(0<i(Y,D))M[W]=D,M[Q]=Y,Q=W;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var D=M[0],Q=M.pop();if(Q!==D){M[0]=Q;e:for(var W=0,Y=M.length,le=Y>>>1;W<le;){var pe=2*(W+1)-1,he=M[pe],Ae=pe+1,me=M[Ae];if(0>i(he,Q))Ae<Y&&0>i(me,he)?(M[W]=me,M[Ae]=Q,W=Ae):(M[W]=he,M[pe]=Q,W=pe);else if(Ae<Y&&0>i(me,Q))M[W]=me,M[Ae]=Q,W=Ae;else break e}}return D}function i(M,D){var Q=M.sortIndex-D.sortIndex;return Q!==0?Q:M.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,m=3,g=!1,y=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(M){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=M)r(c),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(c)}}function j(M){if(b=!1,T(M),!y)if(n(l)!==null)y=!0,F(P);else{var D=n(c);D!==null&&q(j,D.startTime-M)}}function P(M,D){y=!1,b&&(b=!1,S(_),_=-1),g=!0;var Q=m;try{for(T(D),h=n(l);h!==null&&(!(h.expirationTime>D)||M&&!I());){var W=h.callback;if(typeof W=="function"){h.callback=null,m=h.priorityLevel;var Y=W(h.expirationTime<=D);D=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(l)&&r(l),T(D)}else r(l);h=n(l)}if(h!==null)var le=!0;else{var pe=n(c);pe!==null&&q(j,pe.startTime-D),le=!1}return le}finally{h=null,m=Q,g=!1}}var E=!1,O=null,_=-1,$=5,B=-1;function I(){return!(t.unstable_now()-B<$)}function V(){if(O!==null){var M=t.unstable_now();B=M;var D=!0;try{D=O(!0,M)}finally{D?U():(E=!1,O=null)}}else E=!1}var U;if(typeof N=="function")U=function(){N(V)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,z=L.port2;L.port1.onmessage=V,U=function(){z.postMessage(null)}}else U=function(){x(V,0)};function F(M){O=M,E||(E=!0,U())}function q(M,D){_=x(function(){M(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,F(P))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var Q=m;m=D;try{return M()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Q=m;m=M;try{return D()}finally{m=Q}},t.unstable_scheduleCallback=function(M,D,Q){var W=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?W+Q:W):Q=W,M){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Q+Y,M={id:d++,callback:D,priorityLevel:M,startTime:Q,expirationTime:Y,sortIndex:-1},Q>W?(M.sortIndex=Q,e(c,M),n(l)===null&&M===n(c)&&(b?(S(_),_=-1):b=!0,q(j,Q-W))):(M.sortIndex=Y,e(l,M),y||g||(y=!0,F(P))),M},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(M){var D=m;return function(){var Q=m;m=D;try{return M.apply(this,arguments)}finally{m=Q}}}})(yC)),yC}var OR;function Joe(){return OR||(OR=1,gC.exports=Zoe()),gC.exports}var $R;function eae(){if($R)return _i;$R=1;var t=fy(),e=Joe();function n(f){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+f,v=1;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(f,p){o(f,p),o(f+"Capture",p)}function o(f,p){for(i[f]=p,f=0;f<p.length;f++)r.add(p[f])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function m(f){return l.call(h,f)?!0:l.call(d,f)?!1:c.test(f)?h[f]=!0:(d[f]=!0,!1)}function g(f,p,v,w){if(v!==null&&v.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return w?!1:v!==null?!v.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function y(f,p,v,w){if(p===null||typeof p>"u"||g(f,p,v,w))return!0;if(w)return!1;if(v!==null)switch(v.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function b(f,p,v,w,A,k,R){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=w,this.attributeNamespace=A,this.mustUseProperty=v,this.propertyName=f,this.type=p,this.sanitizeURL=k,this.removeEmptyString=R}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){x[f]=new b(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var p=f[0];x[p]=new b(p,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){x[f]=new b(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){x[f]=new b(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){x[f]=new b(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){x[f]=new b(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){x[f]=new b(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){x[f]=new b(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){x[f]=new b(f,5,!1,f.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function N(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var p=f.replace(S,N);x[p]=new b(p,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var p=f.replace(S,N);x[p]=new b(p,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var p=f.replace(S,N);x[p]=new b(p,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){x[f]=new b(f,1,!1,f.toLowerCase(),null,!1,!1)}),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){x[f]=new b(f,1,!1,f.toLowerCase(),null,!0,!0)});function T(f,p,v,w){var A=x.hasOwnProperty(p)?x[p]:null;(A!==null?A.type!==0:w||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(y(p,v,A,w)&&(v=null),w||A===null?m(p)&&(v===null?f.removeAttribute(p):f.setAttribute(p,""+v)):A.mustUseProperty?f[A.propertyName]=v===null?A.type===3?!1:"":v:(p=A.attributeName,w=A.attributeNamespace,v===null?f.removeAttribute(p):(A=A.type,v=A===3||A===4&&v===!0?"":""+v,w?f.setAttributeNS(w,p,v):f.setAttribute(p,v))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),E=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),I=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),M=Symbol.iterator;function D(f){return f===null||typeof f!="object"?null:(f=M&&f[M]||f["@@iterator"],typeof f=="function"?f:null)}var Q=Object.assign,W;function Y(f){if(W===void 0)try{throw Error()}catch(v){var p=v.stack.trim().match(/\n( *(at )?)/);W=p&&p[1]||""}return`
`+W+f}var le=!1;function pe(f,p){if(!f||le)return"";le=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(re){var w=re}Reflect.construct(f,[],p)}else{try{p.call()}catch(re){w=re}f.call(p.prototype)}else{try{throw Error()}catch(re){w=re}f()}}catch(re){if(re&&w&&typeof re.stack=="string"){for(var A=re.stack.split(`
`),k=w.stack.split(`
`),R=A.length-1,G=k.length-1;1<=R&&0<=G&&A[R]!==k[G];)G--;for(;1<=R&&0<=G;R--,G--)if(A[R]!==k[G]){if(R!==1||G!==1)do if(R--,G--,0>G||A[R]!==k[G]){var Z=`
`+A[R].replace(" at new "," at ");return f.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",f.displayName)),Z}while(1<=R&&0<=G);break}}}finally{le=!1,Error.prepareStackTrace=v}return(f=f?f.displayName||f.name:"")?Y(f):""}function he(f){switch(f.tag){case 5:return Y(f.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return f=pe(f.type,!1),f;case 11:return f=pe(f.type.render,!1),f;case 1:return f=pe(f.type,!0),f;default:return""}}function Ae(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case O:return"Fragment";case E:return"Portal";case $:return"Profiler";case _:return"StrictMode";case U:return"Suspense";case L:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case I:return(f.displayName||"Context")+".Consumer";case B:return(f._context.displayName||"Context")+".Provider";case V:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case z:return p=f.displayName||null,p!==null?p:Ae(f.type)||"Memo";case F:p=f._payload,f=f._init;try{return Ae(f(p))}catch{}}return null}function me(f){var p=f.type;switch(f.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=p.render,f=f.displayName||f.name||"",p.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(p);case 8:return p===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function Se(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function ue(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Pe(f){var p=ue(f)?"checked":"value",v=Object.getOwnPropertyDescriptor(f.constructor.prototype,p),w=""+f[p];if(!f.hasOwnProperty(p)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var A=v.get,k=v.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return A.call(this)},set:function(R){w=""+R,k.call(this,R)}}),Object.defineProperty(f,p,{enumerable:v.enumerable}),{getValue:function(){return w},setValue:function(R){w=""+R},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function Oe(f){f._valueTracker||(f._valueTracker=Pe(f))}function oe(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var v=p.getValue(),w="";return f&&(w=ue(f)?f.checked?"true":"false":f.value),f=w,f!==v?(p.setValue(f),!0):!1}function lt(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function ae(f,p){var v=p.checked;return Q({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??f._wrapperState.initialChecked})}function yt(f,p){var v=p.defaultValue==null?"":p.defaultValue,w=p.checked!=null?p.checked:p.defaultChecked;v=Se(p.value!=null?p.value:v),f._wrapperState={initialChecked:w,initialValue:v,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function ot(f,p){p=p.checked,p!=null&&T(f,"checked",p,!1)}function Ut(f,p){ot(f,p);var v=Se(p.value),w=p.type;if(v!=null)w==="number"?(v===0&&f.value===""||f.value!=v)&&(f.value=""+v):f.value!==""+v&&(f.value=""+v);else if(w==="submit"||w==="reset"){f.removeAttribute("value");return}p.hasOwnProperty("value")?gr(f,p.type,v):p.hasOwnProperty("defaultValue")&&gr(f,p.type,Se(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(f.defaultChecked=!!p.defaultChecked)}function qt(f,p,v){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var w=p.type;if(!(w!=="submit"&&w!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+f._wrapperState.initialValue,v||p===f.value||(f.value=p),f.defaultValue=p}v=f.name,v!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,v!==""&&(f.name=v)}function gr(f,p,v){(p!=="number"||lt(f.ownerDocument)!==f)&&(v==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+v&&(f.defaultValue=""+v))}var yr=Array.isArray;function Fn(f,p,v,w){if(f=f.options,p){p={};for(var A=0;A<v.length;A++)p["$"+v[A]]=!0;for(v=0;v<f.length;v++)A=p.hasOwnProperty("$"+f[v].value),f[v].selected!==A&&(f[v].selected=A),A&&w&&(f[v].defaultSelected=!0)}else{for(v=""+Se(v),p=null,A=0;A<f.length;A++){if(f[A].value===v){f[A].selected=!0,w&&(f[A].defaultSelected=!0);return}p!==null||f[A].disabled||(p=f[A])}p!==null&&(p.selected=!0)}}function X(f,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},p,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function te(f,p){var v=p.value;if(v==null){if(v=p.children,p=p.defaultValue,v!=null){if(p!=null)throw Error(n(92));if(yr(v)){if(1<v.length)throw Error(n(93));v=v[0]}p=v}p==null&&(p=""),v=p}f._wrapperState={initialValue:Se(v)}}function ie(f,p){var v=Se(p.value),w=Se(p.defaultValue);v!=null&&(v=""+v,v!==f.value&&(f.value=v),p.defaultValue==null&&f.defaultValue!==v&&(f.defaultValue=v)),w!=null&&(f.defaultValue=""+w)}function Ie(f){var p=f.textContent;p===f._wrapperState.initialValue&&p!==""&&p!==null&&(f.value=p)}function $e(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Te(f,p){return f==null||f==="http://www.w3.org/1999/xhtml"?$e(p):f==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var Fe,wt=(function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,v,w,A){MSApp.execUnsafeLocalFunction(function(){return f(p,v,w,A)})}:f})(function(f,p){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=p;else{for(Fe=Fe||document.createElement("div"),Fe.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=Fe.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;p.firstChild;)f.appendChild(p.firstChild)}});function Kt(f,p){if(p){var v=f.firstChild;if(v&&v===f.lastChild&&v.nodeType===3){v.nodeValue=p;return}}f.textContent=p}var an={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zy=["Webkit","ms","Moz","O"];Object.keys(an).forEach(function(f){Zy.forEach(function(p){p=p+f.charAt(0).toUpperCase()+f.substring(1),an[p]=an[f]})});function So(f,p,v){return p==null||typeof p=="boolean"||p===""?"":v||typeof p!="number"||p===0||an.hasOwnProperty(f)&&an[f]?(""+p).trim():p+"px"}function Is(f,p){f=f.style;for(var v in p)if(p.hasOwnProperty(v)){var w=v.indexOf("--")===0,A=So(v,p[v],w);v==="float"&&(v="cssFloat"),w?f.setProperty(v,A):f[v]=A}}var Ja=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function el(f,p){if(p){if(Ja[f]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,f));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function $n(f,p){if(f.indexOf("-")===-1)return typeof p.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rs=null;function Uh(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var us=null,tl=null,nl=null;function Or(f){if(f=dp(f)){if(typeof us!="function")throw Error(n(280));var p=f.stateNode;p&&(p=Sv(p),us(f.stateNode,f.type,p))}}function rr(f){tl?nl?nl.push(f):nl=[f]:tl=f}function Wr(){if(tl){var f=tl,p=nl;if(nl=tl=null,Or(f),p)for(f=0;f<p.length;f++)Or(p[f])}}function Ti(f,p){return f(p)}function Jy(){}var qh=!1;function rl(f,p,v){if(qh)return f(p,v);qh=!0;try{return Ti(f,p,v)}finally{qh=!1,(tl!==null||nl!==null)&&(Jy(),Wr())}}function Ec(f,p){var v=f.stateNode;if(v===null)return null;var w=Sv(v);if(w===null)return null;v=w[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(f=f.type,w=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!w;break e;default:f=!1}if(f)return null;if(v&&typeof v!="function")throw Error(n(231,p,typeof v));return v}var kc=!1;if(a)try{var il={};Object.defineProperty(il,"passive",{get:function(){kc=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{kc=!1}function A2(f,p,v,w,A,k,R,G,Z){var re=Array.prototype.slice.call(arguments,3);try{p.apply(v,re)}catch(ve){this.onError(ve)}}var Oc=!1,id=null,sd=!1,Hh=null,j2={onError:function(f){Oc=!0,id=f}};function E2(f,p,v,w,A,k,R,G,Z){Oc=!1,id=null,A2.apply(j2,arguments)}function Zo(f,p,v,w,A,k,R,G,Z){if(E2.apply(this,arguments),Oc){if(Oc){var re=id;Oc=!1,id=null}else throw Error(n(198));sd||(sd=!0,Hh=re)}}function Jo(f){var p=f,v=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(v=p.return),f=p.return;while(f)}return p.tag===3?v:null}function Wh(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function ev(f){if(Jo(f)!==f)throw Error(n(188))}function k2(f){var p=f.alternate;if(!p){if(p=Jo(f),p===null)throw Error(n(188));return p!==f?null:f}for(var v=f,w=p;;){var A=v.return;if(A===null)break;var k=A.alternate;if(k===null){if(w=A.return,w!==null){v=w;continue}break}if(A.child===k.child){for(k=A.child;k;){if(k===v)return ev(A),f;if(k===w)return ev(A),p;k=k.sibling}throw Error(n(188))}if(v.return!==w.return)v=A,w=k;else{for(var R=!1,G=A.child;G;){if(G===v){R=!0,v=A,w=k;break}if(G===w){R=!0,w=A,v=k;break}G=G.sibling}if(!R){for(G=k.child;G;){if(G===v){R=!0,v=k,w=A;break}if(G===w){R=!0,w=k,v=A;break}G=G.sibling}if(!R)throw Error(n(189))}}if(v.alternate!==w)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?f:p}function sl(f){return f=k2(f),f!==null?tv(f):null}function tv(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var p=tv(f);if(p!==null)return p;f=f.sibling}return null}var nv=e.unstable_scheduleCallback,rv=e.unstable_cancelCallback,O2=e.unstable_shouldYield,$2=e.unstable_requestPaint,ln=e.unstable_now,_2=e.unstable_getCurrentPriorityLevel,K=e.unstable_ImmediatePriority,ke=e.unstable_UserBlockingPriority,Tt=e.unstable_NormalPriority,wn=e.unstable_LowPriority,ui=e.unstable_IdlePriority,Ai=null,Bt=null;function Ds(f){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Ai,f,void 0,(f.current.flags&128)===128)}catch{}}var di=Math.clz32?Math.clz32:fse,ea=Math.log,dse=Math.LN2;function fse(f){return f>>>=0,f===0?32:31-(ea(f)/dse|0)|0}var iv=64,sv=4194304;function Kh(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function ov(f,p){var v=f.pendingLanes;if(v===0)return 0;var w=0,A=f.suspendedLanes,k=f.pingedLanes,R=v&268435455;if(R!==0){var G=R&~A;G!==0?w=Kh(G):(k&=R,k!==0&&(w=Kh(k)))}else R=v&~A,R!==0?w=Kh(R):k!==0&&(w=Kh(k));if(w===0)return 0;if(p!==0&&p!==w&&(p&A)===0&&(A=w&-w,k=p&-p,A>=k||A===16&&(k&4194240)!==0))return p;if((w&4)!==0&&(w|=v&16),p=f.entangledLanes,p!==0)for(f=f.entanglements,p&=w;0<p;)v=31-di(p),A=1<<v,w|=f[v],p&=~A;return w}function hse(f,p){switch(f){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pse(f,p){for(var v=f.suspendedLanes,w=f.pingedLanes,A=f.expirationTimes,k=f.pendingLanes;0<k;){var R=31-di(k),G=1<<R,Z=A[R];Z===-1?((G&v)===0||(G&w)!==0)&&(A[R]=hse(G,p)):Z<=p&&(f.expiredLanes|=G),k&=~G}}function M2(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function r4(){var f=iv;return iv<<=1,(iv&4194240)===0&&(iv=64),f}function I2(f){for(var p=[],v=0;31>v;v++)p.push(f);return p}function Gh(f,p,v){f.pendingLanes|=p,p!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,p=31-di(p),f[p]=v}function mse(f,p){var v=f.pendingLanes&~p;f.pendingLanes=p,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=p,f.mutableReadLanes&=p,f.entangledLanes&=p,p=f.entanglements;var w=f.eventTimes;for(f=f.expirationTimes;0<v;){var A=31-di(v),k=1<<A;p[A]=0,w[A]=-1,f[A]=-1,v&=~k}}function R2(f,p){var v=f.entangledLanes|=p;for(f=f.entanglements;v;){var w=31-di(v),A=1<<w;A&p|f[w]&p&&(f[w]|=p),v&=~A}}var Gt=0;function i4(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var s4,D2,o4,a4,l4,L2=!1,av=[],ol=null,al=null,ll=null,Qh=new Map,Yh=new Map,cl=[],gse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c4(f,p){switch(f){case"focusin":case"focusout":ol=null;break;case"dragenter":case"dragleave":al=null;break;case"mouseover":case"mouseout":ll=null;break;case"pointerover":case"pointerout":Qh.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yh.delete(p.pointerId)}}function Xh(f,p,v,w,A,k){return f===null||f.nativeEvent!==k?(f={blockedOn:p,domEventName:v,eventSystemFlags:w,nativeEvent:k,targetContainers:[A]},p!==null&&(p=dp(p),p!==null&&D2(p)),f):(f.eventSystemFlags|=w,p=f.targetContainers,A!==null&&p.indexOf(A)===-1&&p.push(A),f)}function yse(f,p,v,w,A){switch(p){case"focusin":return ol=Xh(ol,f,p,v,w,A),!0;case"dragenter":return al=Xh(al,f,p,v,w,A),!0;case"mouseover":return ll=Xh(ll,f,p,v,w,A),!0;case"pointerover":var k=A.pointerId;return Qh.set(k,Xh(Qh.get(k)||null,f,p,v,w,A)),!0;case"gotpointercapture":return k=A.pointerId,Yh.set(k,Xh(Yh.get(k)||null,f,p,v,w,A)),!0}return!1}function u4(f){var p=$c(f.target);if(p!==null){var v=Jo(p);if(v!==null){if(p=v.tag,p===13){if(p=Wh(v),p!==null){f.blockedOn=p,l4(f.priority,function(){o4(v)});return}}else if(p===3&&v.stateNode.current.memoizedState.isDehydrated){f.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}f.blockedOn=null}function lv(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var v=B2(f.domEventName,f.eventSystemFlags,p[0],f.nativeEvent);if(v===null){v=f.nativeEvent;var w=new v.constructor(v.type,v);Rs=w,v.target.dispatchEvent(w),Rs=null}else return p=dp(v),p!==null&&D2(p),f.blockedOn=v,!1;p.shift()}return!0}function d4(f,p,v){lv(f)&&v.delete(p)}function vse(){L2=!1,ol!==null&&lv(ol)&&(ol=null),al!==null&&lv(al)&&(al=null),ll!==null&&lv(ll)&&(ll=null),Qh.forEach(d4),Yh.forEach(d4)}function Zh(f,p){f.blockedOn===p&&(f.blockedOn=null,L2||(L2=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vse)))}function Jh(f){function p(A){return Zh(A,f)}if(0<av.length){Zh(av[0],f);for(var v=1;v<av.length;v++){var w=av[v];w.blockedOn===f&&(w.blockedOn=null)}}for(ol!==null&&Zh(ol,f),al!==null&&Zh(al,f),ll!==null&&Zh(ll,f),Qh.forEach(p),Yh.forEach(p),v=0;v<cl.length;v++)w=cl[v],w.blockedOn===f&&(w.blockedOn=null);for(;0<cl.length&&(v=cl[0],v.blockedOn===null);)u4(v),v.blockedOn===null&&cl.shift()}var od=j.ReactCurrentBatchConfig,cv=!0;function xse(f,p,v,w){var A=Gt,k=od.transition;od.transition=null;try{Gt=1,F2(f,p,v,w)}finally{Gt=A,od.transition=k}}function bse(f,p,v,w){var A=Gt,k=od.transition;od.transition=null;try{Gt=4,F2(f,p,v,w)}finally{Gt=A,od.transition=k}}function F2(f,p,v,w){if(cv){var A=B2(f,p,v,w);if(A===null)rS(f,p,w,uv,v),c4(f,w);else if(yse(A,f,p,v,w))w.stopPropagation();else if(c4(f,w),p&4&&-1<gse.indexOf(f)){for(;A!==null;){var k=dp(A);if(k!==null&&s4(k),k=B2(f,p,v,w),k===null&&rS(f,p,w,uv,v),k===A)break;A=k}A!==null&&w.stopPropagation()}else rS(f,p,w,null,v)}}var uv=null;function B2(f,p,v,w){if(uv=null,f=Uh(w),f=$c(f),f!==null)if(p=Jo(f),p===null)f=null;else if(v=p.tag,v===13){if(f=Wh(p),f!==null)return f;f=null}else if(v===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null);return uv=f,null}function f4(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_2()){case K:return 1;case ke:return 4;case Tt:case wn:return 16;case ui:return 536870912;default:return 16}default:return 16}}var ul=null,V2=null,dv=null;function h4(){if(dv)return dv;var f,p=V2,v=p.length,w,A="value"in ul?ul.value:ul.textContent,k=A.length;for(f=0;f<v&&p[f]===A[f];f++);var R=v-f;for(w=1;w<=R&&p[v-w]===A[k-w];w++);return dv=A.slice(f,1<w?1-w:void 0)}function fv(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function hv(){return!0}function p4(){return!1}function Vi(f){function p(v,w,A,k,R){this._reactName=v,this._targetInst=A,this.type=w,this.nativeEvent=k,this.target=R,this.currentTarget=null;for(var G in f)f.hasOwnProperty(G)&&(v=f[G],this[G]=v?v(k):k[G]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?hv:p4,this.isPropagationStopped=p4,this}return Q(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=hv)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=hv)},persist:function(){},isPersistent:hv}),p}var ad={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},z2=Vi(ad),ep=Q({},ad,{view:0,detail:0}),wse=Vi(ep),U2,q2,tp,pv=Q({},ep,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W2,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==tp&&(tp&&f.type==="mousemove"?(U2=f.screenX-tp.screenX,q2=f.screenY-tp.screenY):q2=U2=0,tp=f),U2)},movementY:function(f){return"movementY"in f?f.movementY:q2}}),m4=Vi(pv),Sse=Q({},pv,{dataTransfer:0}),Cse=Vi(Sse),Nse=Q({},ep,{relatedTarget:0}),H2=Vi(Nse),Pse=Q({},ad,{animationName:0,elapsedTime:0,pseudoElement:0}),Tse=Vi(Pse),Ase=Q({},ad,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),jse=Vi(Ase),Ese=Q({},ad,{data:0}),g4=Vi(Ese),kse={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ose={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$se={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _se(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=$se[f])?!!p[f]:!1}function W2(){return _se}var Mse=Q({},ep,{key:function(f){if(f.key){var p=kse[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=fv(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Ose[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W2,charCode:function(f){return f.type==="keypress"?fv(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?fv(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Ise=Vi(Mse),Rse=Q({},pv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y4=Vi(Rse),Dse=Q({},ep,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W2}),Lse=Vi(Dse),Fse=Q({},ad,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bse=Vi(Fse),Vse=Q({},pv,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),zse=Vi(Vse),Use=[9,13,27,32],K2=a&&"CompositionEvent"in window,np=null;a&&"documentMode"in document&&(np=document.documentMode);var qse=a&&"TextEvent"in window&&!np,v4=a&&(!K2||np&&8<np&&11>=np),x4=" ",b4=!1;function w4(f,p){switch(f){case"keyup":return Use.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S4(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var ld=!1;function Hse(f,p){switch(f){case"compositionend":return S4(p);case"keypress":return p.which!==32?null:(b4=!0,x4);case"textInput":return f=p.data,f===x4&&b4?null:f;default:return null}}function Wse(f,p){if(ld)return f==="compositionend"||!K2&&w4(f,p)?(f=h4(),dv=V2=ul=null,ld=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return v4&&p.locale!=="ko"?null:p.data;default:return null}}var Kse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C4(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!Kse[f.type]:p==="textarea"}function N4(f,p,v,w){rr(w),p=xv(p,"onChange"),0<p.length&&(v=new z2("onChange","change",null,v,w),f.push({event:v,listeners:p}))}var rp=null,ip=null;function Gse(f){z4(f,0)}function mv(f){var p=hd(f);if(oe(p))return f}function Qse(f,p){if(f==="change")return p}var P4=!1;if(a){var G2;if(a){var Q2="oninput"in document;if(!Q2){var T4=document.createElement("div");T4.setAttribute("oninput","return;"),Q2=typeof T4.oninput=="function"}G2=Q2}else G2=!1;P4=G2&&(!document.documentMode||9<document.documentMode)}function A4(){rp&&(rp.detachEvent("onpropertychange",j4),ip=rp=null)}function j4(f){if(f.propertyName==="value"&&mv(ip)){var p=[];N4(p,ip,f,Uh(f)),rl(Gse,p)}}function Yse(f,p,v){f==="focusin"?(A4(),rp=p,ip=v,rp.attachEvent("onpropertychange",j4)):f==="focusout"&&A4()}function Xse(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return mv(ip)}function Zse(f,p){if(f==="click")return mv(p)}function Jse(f,p){if(f==="input"||f==="change")return mv(p)}function eoe(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var Ls=typeof Object.is=="function"?Object.is:eoe;function sp(f,p){if(Ls(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var v=Object.keys(f),w=Object.keys(p);if(v.length!==w.length)return!1;for(w=0;w<v.length;w++){var A=v[w];if(!l.call(p,A)||!Ls(f[A],p[A]))return!1}return!0}function E4(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function k4(f,p){var v=E4(f);f=0;for(var w;v;){if(v.nodeType===3){if(w=f+v.textContent.length,f<=p&&w>=p)return{node:v,offset:p-f};f=w}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=E4(v)}}function O4(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?O4(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function $4(){for(var f=window,p=lt();p instanceof f.HTMLIFrameElement;){try{var v=typeof p.contentWindow.location.href=="string"}catch{v=!1}if(v)f=p.contentWindow;else break;p=lt(f.document)}return p}function Y2(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}function toe(f){var p=$4(),v=f.focusedElem,w=f.selectionRange;if(p!==v&&v&&v.ownerDocument&&O4(v.ownerDocument.documentElement,v)){if(w!==null&&Y2(v)){if(p=w.start,f=w.end,f===void 0&&(f=p),"selectionStart"in v)v.selectionStart=p,v.selectionEnd=Math.min(f,v.value.length);else if(f=(p=v.ownerDocument||document)&&p.defaultView||window,f.getSelection){f=f.getSelection();var A=v.textContent.length,k=Math.min(w.start,A);w=w.end===void 0?k:Math.min(w.end,A),!f.extend&&k>w&&(A=w,w=k,k=A),A=k4(v,k);var R=k4(v,w);A&&R&&(f.rangeCount!==1||f.anchorNode!==A.node||f.anchorOffset!==A.offset||f.focusNode!==R.node||f.focusOffset!==R.offset)&&(p=p.createRange(),p.setStart(A.node,A.offset),f.removeAllRanges(),k>w?(f.addRange(p),f.extend(R.node,R.offset)):(p.setEnd(R.node,R.offset),f.addRange(p)))}}for(p=[],f=v;f=f.parentNode;)f.nodeType===1&&p.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<p.length;v++)f=p[v],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var noe=a&&"documentMode"in document&&11>=document.documentMode,cd=null,X2=null,op=null,Z2=!1;function _4(f,p,v){var w=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Z2||cd==null||cd!==lt(w)||(w=cd,"selectionStart"in w&&Y2(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),op&&sp(op,w)||(op=w,w=xv(X2,"onSelect"),0<w.length&&(p=new z2("onSelect","select",null,p,v),f.push({event:p,listeners:w}),p.target=cd)))}function gv(f,p){var v={};return v[f.toLowerCase()]=p.toLowerCase(),v["Webkit"+f]="webkit"+p,v["Moz"+f]="moz"+p,v}var ud={animationend:gv("Animation","AnimationEnd"),animationiteration:gv("Animation","AnimationIteration"),animationstart:gv("Animation","AnimationStart"),transitionend:gv("Transition","TransitionEnd")},J2={},M4={};a&&(M4=document.createElement("div").style,"AnimationEvent"in window||(delete ud.animationend.animation,delete ud.animationiteration.animation,delete ud.animationstart.animation),"TransitionEvent"in window||delete ud.transitionend.transition);function yv(f){if(J2[f])return J2[f];if(!ud[f])return f;var p=ud[f],v;for(v in p)if(p.hasOwnProperty(v)&&v in M4)return J2[f]=p[v];return f}var I4=yv("animationend"),R4=yv("animationiteration"),D4=yv("animationstart"),L4=yv("transitionend"),F4=new Map,B4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dl(f,p){F4.set(f,p),s(p,[f])}for(var eS=0;eS<B4.length;eS++){var tS=B4[eS],roe=tS.toLowerCase(),ioe=tS[0].toUpperCase()+tS.slice(1);dl(roe,"on"+ioe)}dl(I4,"onAnimationEnd"),dl(R4,"onAnimationIteration"),dl(D4,"onAnimationStart"),dl("dblclick","onDoubleClick"),dl("focusin","onFocus"),dl("focusout","onBlur"),dl(L4,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ap="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),soe=new Set("cancel close invalid load scroll toggle".split(" ").concat(ap));function V4(f,p,v){var w=f.type||"unknown-event";f.currentTarget=v,Zo(w,p,void 0,f),f.currentTarget=null}function z4(f,p){p=(p&4)!==0;for(var v=0;v<f.length;v++){var w=f[v],A=w.event;w=w.listeners;e:{var k=void 0;if(p)for(var R=w.length-1;0<=R;R--){var G=w[R],Z=G.instance,re=G.currentTarget;if(G=G.listener,Z!==k&&A.isPropagationStopped())break e;V4(A,G,re),k=Z}else for(R=0;R<w.length;R++){if(G=w[R],Z=G.instance,re=G.currentTarget,G=G.listener,Z!==k&&A.isPropagationStopped())break e;V4(A,G,re),k=Z}}}if(sd)throw f=Hh,sd=!1,Hh=null,f}function fn(f,p){var v=p[cS];v===void 0&&(v=p[cS]=new Set);var w=f+"__bubble";v.has(w)||(U4(p,f,2,!1),v.add(w))}function nS(f,p,v){var w=0;p&&(w|=4),U4(v,f,w,p)}var vv="_reactListening"+Math.random().toString(36).slice(2);function lp(f){if(!f[vv]){f[vv]=!0,r.forEach(function(v){v!=="selectionchange"&&(soe.has(v)||nS(v,!1,f),nS(v,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[vv]||(p[vv]=!0,nS("selectionchange",!1,p))}}function U4(f,p,v,w){switch(f4(p)){case 1:var A=xse;break;case 4:A=bse;break;default:A=F2}v=A.bind(null,p,v,f),A=void 0,!kc||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(A=!0),w?A!==void 0?f.addEventListener(p,v,{capture:!0,passive:A}):f.addEventListener(p,v,!0):A!==void 0?f.addEventListener(p,v,{passive:A}):f.addEventListener(p,v,!1)}function rS(f,p,v,w,A){var k=w;if((p&1)===0&&(p&2)===0&&w!==null)e:for(;;){if(w===null)return;var R=w.tag;if(R===3||R===4){var G=w.stateNode.containerInfo;if(G===A||G.nodeType===8&&G.parentNode===A)break;if(R===4)for(R=w.return;R!==null;){var Z=R.tag;if((Z===3||Z===4)&&(Z=R.stateNode.containerInfo,Z===A||Z.nodeType===8&&Z.parentNode===A))return;R=R.return}for(;G!==null;){if(R=$c(G),R===null)return;if(Z=R.tag,Z===5||Z===6){w=k=R;continue e}G=G.parentNode}}w=w.return}rl(function(){var re=k,ve=Uh(v),we=[];e:{var ye=F4.get(f);if(ye!==void 0){var Be=z2,We=f;switch(f){case"keypress":if(fv(v)===0)break e;case"keydown":case"keyup":Be=Ise;break;case"focusin":We="focus",Be=H2;break;case"focusout":We="blur",Be=H2;break;case"beforeblur":case"afterblur":Be=H2;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=m4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=Cse;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=Lse;break;case I4:case R4:case D4:Be=Tse;break;case L4:Be=Bse;break;case"scroll":Be=wse;break;case"wheel":Be=zse;break;case"copy":case"cut":case"paste":Be=jse;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=y4}var Ke=(p&4)!==0,Bn=!Ke&&f==="scroll",ee=Ke?ye!==null?ye+"Capture":null:ye;Ke=[];for(var J=re,ne;J!==null;){ne=J;var je=ne.stateNode;if(ne.tag===5&&je!==null&&(ne=je,ee!==null&&(je=Ec(J,ee),je!=null&&Ke.push(cp(J,je,ne)))),Bn)break;J=J.return}0<Ke.length&&(ye=new Be(ye,We,null,v,ve),we.push({event:ye,listeners:Ke}))}}if((p&7)===0){e:{if(ye=f==="mouseover"||f==="pointerover",Be=f==="mouseout"||f==="pointerout",ye&&v!==Rs&&(We=v.relatedTarget||v.fromElement)&&($c(We)||We[ta]))break e;if((Be||ye)&&(ye=ve.window===ve?ve:(ye=ve.ownerDocument)?ye.defaultView||ye.parentWindow:window,Be?(We=v.relatedTarget||v.toElement,Be=re,We=We?$c(We):null,We!==null&&(Bn=Jo(We),We!==Bn||We.tag!==5&&We.tag!==6)&&(We=null)):(Be=null,We=re),Be!==We)){if(Ke=m4,je="onMouseLeave",ee="onMouseEnter",J="mouse",(f==="pointerout"||f==="pointerover")&&(Ke=y4,je="onPointerLeave",ee="onPointerEnter",J="pointer"),Bn=Be==null?ye:hd(Be),ne=We==null?ye:hd(We),ye=new Ke(je,J+"leave",Be,v,ve),ye.target=Bn,ye.relatedTarget=ne,je=null,$c(ve)===re&&(Ke=new Ke(ee,J+"enter",We,v,ve),Ke.target=ne,Ke.relatedTarget=Bn,je=Ke),Bn=je,Be&&We)t:{for(Ke=Be,ee=We,J=0,ne=Ke;ne;ne=dd(ne))J++;for(ne=0,je=ee;je;je=dd(je))ne++;for(;0<J-ne;)Ke=dd(Ke),J--;for(;0<ne-J;)ee=dd(ee),ne--;for(;J--;){if(Ke===ee||ee!==null&&Ke===ee.alternate)break t;Ke=dd(Ke),ee=dd(ee)}Ke=null}else Ke=null;Be!==null&&q4(we,ye,Be,Ke,!1),We!==null&&Bn!==null&&q4(we,Bn,We,Ke,!0)}}e:{if(ye=re?hd(re):window,Be=ye.nodeName&&ye.nodeName.toLowerCase(),Be==="select"||Be==="input"&&ye.type==="file")var Ge=Qse;else if(C4(ye))if(P4)Ge=Jse;else{Ge=Xse;var tt=Yse}else(Be=ye.nodeName)&&Be.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(Ge=Zse);if(Ge&&(Ge=Ge(f,re))){N4(we,Ge,v,ve);break e}tt&&tt(f,ye,re),f==="focusout"&&(tt=ye._wrapperState)&&tt.controlled&&ye.type==="number"&&gr(ye,"number",ye.value)}switch(tt=re?hd(re):window,f){case"focusin":(C4(tt)||tt.contentEditable==="true")&&(cd=tt,X2=re,op=null);break;case"focusout":op=X2=cd=null;break;case"mousedown":Z2=!0;break;case"contextmenu":case"mouseup":case"dragend":Z2=!1,_4(we,v,ve);break;case"selectionchange":if(noe)break;case"keydown":case"keyup":_4(we,v,ve)}var nt;if(K2)e:{switch(f){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else ld?w4(f,v)&&(ct="onCompositionEnd"):f==="keydown"&&v.keyCode===229&&(ct="onCompositionStart");ct&&(v4&&v.locale!=="ko"&&(ld||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&ld&&(nt=h4()):(ul=ve,V2="value"in ul?ul.value:ul.textContent,ld=!0)),tt=xv(re,ct),0<tt.length&&(ct=new g4(ct,f,null,v,ve),we.push({event:ct,listeners:tt}),nt?ct.data=nt:(nt=S4(v),nt!==null&&(ct.data=nt)))),(nt=qse?Hse(f,v):Wse(f,v))&&(re=xv(re,"onBeforeInput"),0<re.length&&(ve=new g4("onBeforeInput","beforeinput",null,v,ve),we.push({event:ve,listeners:re}),ve.data=nt))}z4(we,p)})}function cp(f,p,v){return{instance:f,listener:p,currentTarget:v}}function xv(f,p){for(var v=p+"Capture",w=[];f!==null;){var A=f,k=A.stateNode;A.tag===5&&k!==null&&(A=k,k=Ec(f,v),k!=null&&w.unshift(cp(f,k,A)),k=Ec(f,p),k!=null&&w.push(cp(f,k,A))),f=f.return}return w}function dd(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function q4(f,p,v,w,A){for(var k=p._reactName,R=[];v!==null&&v!==w;){var G=v,Z=G.alternate,re=G.stateNode;if(Z!==null&&Z===w)break;G.tag===5&&re!==null&&(G=re,A?(Z=Ec(v,k),Z!=null&&R.unshift(cp(v,Z,G))):A||(Z=Ec(v,k),Z!=null&&R.push(cp(v,Z,G)))),v=v.return}R.length!==0&&f.push({event:p,listeners:R})}var ooe=/\r\n?/g,aoe=/\u0000|\uFFFD/g;function H4(f){return(typeof f=="string"?f:""+f).replace(ooe,`
`).replace(aoe,"")}function bv(f,p,v){if(p=H4(p),H4(f)!==p&&v)throw Error(n(425))}function wv(){}var iS=null,sS=null;function oS(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var aS=typeof setTimeout=="function"?setTimeout:void 0,loe=typeof clearTimeout=="function"?clearTimeout:void 0,W4=typeof Promise=="function"?Promise:void 0,coe=typeof queueMicrotask=="function"?queueMicrotask:typeof W4<"u"?function(f){return W4.resolve(null).then(f).catch(uoe)}:aS;function uoe(f){setTimeout(function(){throw f})}function lS(f,p){var v=p,w=0;do{var A=v.nextSibling;if(f.removeChild(v),A&&A.nodeType===8)if(v=A.data,v==="/$"){if(w===0){f.removeChild(A),Jh(p);return}w--}else v!=="$"&&v!=="$?"&&v!=="$!"||w++;v=A}while(v);Jh(p)}function fl(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return f}function K4(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var v=f.data;if(v==="$"||v==="$!"||v==="$?"){if(p===0)return f;p--}else v==="/$"&&p++}f=f.previousSibling}return null}var fd=Math.random().toString(36).slice(2),Co="__reactFiber$"+fd,up="__reactProps$"+fd,ta="__reactContainer$"+fd,cS="__reactEvents$"+fd,doe="__reactListeners$"+fd,foe="__reactHandles$"+fd;function $c(f){var p=f[Co];if(p)return p;for(var v=f.parentNode;v;){if(p=v[ta]||v[Co]){if(v=p.alternate,p.child!==null||v!==null&&v.child!==null)for(f=K4(f);f!==null;){if(v=f[Co])return v;f=K4(f)}return p}f=v,v=f.parentNode}return null}function dp(f){return f=f[Co]||f[ta],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function hd(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(n(33))}function Sv(f){return f[up]||null}var uS=[],pd=-1;function hl(f){return{current:f}}function hn(f){0>pd||(f.current=uS[pd],uS[pd]=null,pd--)}function cn(f,p){pd++,uS[pd]=f.current,f.current=p}var pl={},Kr=hl(pl),ji=hl(!1),_c=pl;function md(f,p){var v=f.type.contextTypes;if(!v)return pl;var w=f.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===p)return w.__reactInternalMemoizedMaskedChildContext;var A={},k;for(k in v)A[k]=p[k];return w&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=p,f.__reactInternalMemoizedMaskedChildContext=A),A}function Ei(f){return f=f.childContextTypes,f!=null}function Cv(){hn(ji),hn(Kr)}function G4(f,p,v){if(Kr.current!==pl)throw Error(n(168));cn(Kr,p),cn(ji,v)}function Q4(f,p,v){var w=f.stateNode;if(p=p.childContextTypes,typeof w.getChildContext!="function")return v;w=w.getChildContext();for(var A in w)if(!(A in p))throw Error(n(108,me(f)||"Unknown",A));return Q({},v,w)}function Nv(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||pl,_c=Kr.current,cn(Kr,f),cn(ji,ji.current),!0}function Y4(f,p,v){var w=f.stateNode;if(!w)throw Error(n(169));v?(f=Q4(f,p,_c),w.__reactInternalMemoizedMergedChildContext=f,hn(ji),hn(Kr),cn(Kr,f)):hn(ji),cn(ji,v)}var na=null,Pv=!1,dS=!1;function X4(f){na===null?na=[f]:na.push(f)}function hoe(f){Pv=!0,X4(f)}function ml(){if(!dS&&na!==null){dS=!0;var f=0,p=Gt;try{var v=na;for(Gt=1;f<v.length;f++){var w=v[f];do w=w(!0);while(w!==null)}na=null,Pv=!1}catch(A){throw na!==null&&(na=na.slice(f+1)),nv(K,ml),A}finally{Gt=p,dS=!1}}return null}var gd=[],yd=0,Tv=null,Av=0,ds=[],fs=0,Mc=null,ra=1,ia="";function Ic(f,p){gd[yd++]=Av,gd[yd++]=Tv,Tv=f,Av=p}function Z4(f,p,v){ds[fs++]=ra,ds[fs++]=ia,ds[fs++]=Mc,Mc=f;var w=ra;f=ia;var A=32-di(w)-1;w&=~(1<<A),v+=1;var k=32-di(p)+A;if(30<k){var R=A-A%5;k=(w&(1<<R)-1).toString(32),w>>=R,A-=R,ra=1<<32-di(p)+A|v<<A|w,ia=k+f}else ra=1<<k|v<<A|w,ia=f}function fS(f){f.return!==null&&(Ic(f,1),Z4(f,1,0))}function hS(f){for(;f===Tv;)Tv=gd[--yd],gd[yd]=null,Av=gd[--yd],gd[yd]=null;for(;f===Mc;)Mc=ds[--fs],ds[fs]=null,ia=ds[--fs],ds[fs]=null,ra=ds[--fs],ds[fs]=null}var zi=null,Ui=null,Sn=!1,Fs=null;function J4(f,p){var v=gs(5,null,null,0);v.elementType="DELETED",v.stateNode=p,v.return=f,p=f.deletions,p===null?(f.deletions=[v],f.flags|=16):p.push(v)}function eI(f,p){switch(f.tag){case 5:var v=f.type;return p=p.nodeType!==1||v.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(f.stateNode=p,zi=f,Ui=fl(p.firstChild),!0):!1;case 6:return p=f.pendingProps===""||p.nodeType!==3?null:p,p!==null?(f.stateNode=p,zi=f,Ui=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(v=Mc!==null?{id:ra,overflow:ia}:null,f.memoizedState={dehydrated:p,treeContext:v,retryLane:1073741824},v=gs(18,null,null,0),v.stateNode=p,v.return=f,f.child=v,zi=f,Ui=null,!0):!1;default:return!1}}function pS(f){return(f.mode&1)!==0&&(f.flags&128)===0}function mS(f){if(Sn){var p=Ui;if(p){var v=p;if(!eI(f,p)){if(pS(f))throw Error(n(418));p=fl(v.nextSibling);var w=zi;p&&eI(f,p)?J4(w,v):(f.flags=f.flags&-4097|2,Sn=!1,zi=f)}}else{if(pS(f))throw Error(n(418));f.flags=f.flags&-4097|2,Sn=!1,zi=f}}}function tI(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;zi=f}function jv(f){if(f!==zi)return!1;if(!Sn)return tI(f),Sn=!0,!1;var p;if((p=f.tag!==3)&&!(p=f.tag!==5)&&(p=f.type,p=p!=="head"&&p!=="body"&&!oS(f.type,f.memoizedProps)),p&&(p=Ui)){if(pS(f))throw nI(),Error(n(418));for(;p;)J4(f,p),p=fl(p.nextSibling)}if(tI(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));e:{for(f=f.nextSibling,p=0;f;){if(f.nodeType===8){var v=f.data;if(v==="/$"){if(p===0){Ui=fl(f.nextSibling);break e}p--}else v!=="$"&&v!=="$!"&&v!=="$?"||p++}f=f.nextSibling}Ui=null}}else Ui=zi?fl(f.stateNode.nextSibling):null;return!0}function nI(){for(var f=Ui;f;)f=fl(f.nextSibling)}function vd(){Ui=zi=null,Sn=!1}function gS(f){Fs===null?Fs=[f]:Fs.push(f)}var poe=j.ReactCurrentBatchConfig;function fp(f,p,v){if(f=v.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var w=v.stateNode}if(!w)throw Error(n(147,f));var A=w,k=""+f;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===k?p.ref:(p=function(R){var G=A.refs;R===null?delete G[k]:G[k]=R},p._stringRef=k,p)}if(typeof f!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,f))}return f}function Ev(f,p){throw f=Object.prototype.toString.call(p),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f))}function rI(f){var p=f._init;return p(f._payload)}function iI(f){function p(ee,J){if(f){var ne=ee.deletions;ne===null?(ee.deletions=[J],ee.flags|=16):ne.push(J)}}function v(ee,J){if(!f)return null;for(;J!==null;)p(ee,J),J=J.sibling;return null}function w(ee,J){for(ee=new Map;J!==null;)J.key!==null?ee.set(J.key,J):ee.set(J.index,J),J=J.sibling;return ee}function A(ee,J){return ee=Cl(ee,J),ee.index=0,ee.sibling=null,ee}function k(ee,J,ne){return ee.index=ne,f?(ne=ee.alternate,ne!==null?(ne=ne.index,ne<J?(ee.flags|=2,J):ne):(ee.flags|=2,J)):(ee.flags|=1048576,J)}function R(ee){return f&&ee.alternate===null&&(ee.flags|=2),ee}function G(ee,J,ne,je){return J===null||J.tag!==6?(J=aC(ne,ee.mode,je),J.return=ee,J):(J=A(J,ne),J.return=ee,J)}function Z(ee,J,ne,je){var Ge=ne.type;return Ge===O?ve(ee,J,ne.props.children,je,ne.key):J!==null&&(J.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===F&&rI(Ge)===J.type)?(je=A(J,ne.props),je.ref=fp(ee,J,ne),je.return=ee,je):(je=Jv(ne.type,ne.key,ne.props,null,ee.mode,je),je.ref=fp(ee,J,ne),je.return=ee,je)}function re(ee,J,ne,je){return J===null||J.tag!==4||J.stateNode.containerInfo!==ne.containerInfo||J.stateNode.implementation!==ne.implementation?(J=lC(ne,ee.mode,je),J.return=ee,J):(J=A(J,ne.children||[]),J.return=ee,J)}function ve(ee,J,ne,je,Ge){return J===null||J.tag!==7?(J=Uc(ne,ee.mode,je,Ge),J.return=ee,J):(J=A(J,ne),J.return=ee,J)}function we(ee,J,ne){if(typeof J=="string"&&J!==""||typeof J=="number")return J=aC(""+J,ee.mode,ne),J.return=ee,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case P:return ne=Jv(J.type,J.key,J.props,null,ee.mode,ne),ne.ref=fp(ee,null,J),ne.return=ee,ne;case E:return J=lC(J,ee.mode,ne),J.return=ee,J;case F:var je=J._init;return we(ee,je(J._payload),ne)}if(yr(J)||D(J))return J=Uc(J,ee.mode,ne,null),J.return=ee,J;Ev(ee,J)}return null}function ye(ee,J,ne,je){var Ge=J!==null?J.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Ge!==null?null:G(ee,J,""+ne,je);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case P:return ne.key===Ge?Z(ee,J,ne,je):null;case E:return ne.key===Ge?re(ee,J,ne,je):null;case F:return Ge=ne._init,ye(ee,J,Ge(ne._payload),je)}if(yr(ne)||D(ne))return Ge!==null?null:ve(ee,J,ne,je,null);Ev(ee,ne)}return null}function Be(ee,J,ne,je,Ge){if(typeof je=="string"&&je!==""||typeof je=="number")return ee=ee.get(ne)||null,G(J,ee,""+je,Ge);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case P:return ee=ee.get(je.key===null?ne:je.key)||null,Z(J,ee,je,Ge);case E:return ee=ee.get(je.key===null?ne:je.key)||null,re(J,ee,je,Ge);case F:var tt=je._init;return Be(ee,J,ne,tt(je._payload),Ge)}if(yr(je)||D(je))return ee=ee.get(ne)||null,ve(J,ee,je,Ge,null);Ev(J,je)}return null}function We(ee,J,ne,je){for(var Ge=null,tt=null,nt=J,ct=J=0,br=null;nt!==null&&ct<ne.length;ct++){nt.index>ct?(br=nt,nt=null):br=nt.sibling;var Vt=ye(ee,nt,ne[ct],je);if(Vt===null){nt===null&&(nt=br);break}f&&nt&&Vt.alternate===null&&p(ee,nt),J=k(Vt,J,ct),tt===null?Ge=Vt:tt.sibling=Vt,tt=Vt,nt=br}if(ct===ne.length)return v(ee,nt),Sn&&Ic(ee,ct),Ge;if(nt===null){for(;ct<ne.length;ct++)nt=we(ee,ne[ct],je),nt!==null&&(J=k(nt,J,ct),tt===null?Ge=nt:tt.sibling=nt,tt=nt);return Sn&&Ic(ee,ct),Ge}for(nt=w(ee,nt);ct<ne.length;ct++)br=Be(nt,ee,ct,ne[ct],je),br!==null&&(f&&br.alternate!==null&&nt.delete(br.key===null?ct:br.key),J=k(br,J,ct),tt===null?Ge=br:tt.sibling=br,tt=br);return f&&nt.forEach(function(Nl){return p(ee,Nl)}),Sn&&Ic(ee,ct),Ge}function Ke(ee,J,ne,je){var Ge=D(ne);if(typeof Ge!="function")throw Error(n(150));if(ne=Ge.call(ne),ne==null)throw Error(n(151));for(var tt=Ge=null,nt=J,ct=J=0,br=null,Vt=ne.next();nt!==null&&!Vt.done;ct++,Vt=ne.next()){nt.index>ct?(br=nt,nt=null):br=nt.sibling;var Nl=ye(ee,nt,Vt.value,je);if(Nl===null){nt===null&&(nt=br);break}f&&nt&&Nl.alternate===null&&p(ee,nt),J=k(Nl,J,ct),tt===null?Ge=Nl:tt.sibling=Nl,tt=Nl,nt=br}if(Vt.done)return v(ee,nt),Sn&&Ic(ee,ct),Ge;if(nt===null){for(;!Vt.done;ct++,Vt=ne.next())Vt=we(ee,Vt.value,je),Vt!==null&&(J=k(Vt,J,ct),tt===null?Ge=Vt:tt.sibling=Vt,tt=Vt);return Sn&&Ic(ee,ct),Ge}for(nt=w(ee,nt);!Vt.done;ct++,Vt=ne.next())Vt=Be(nt,ee,ct,Vt.value,je),Vt!==null&&(f&&Vt.alternate!==null&&nt.delete(Vt.key===null?ct:Vt.key),J=k(Vt,J,ct),tt===null?Ge=Vt:tt.sibling=Vt,tt=Vt);return f&&nt.forEach(function(Koe){return p(ee,Koe)}),Sn&&Ic(ee,ct),Ge}function Bn(ee,J,ne,je){if(typeof ne=="object"&&ne!==null&&ne.type===O&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case P:e:{for(var Ge=ne.key,tt=J;tt!==null;){if(tt.key===Ge){if(Ge=ne.type,Ge===O){if(tt.tag===7){v(ee,tt.sibling),J=A(tt,ne.props.children),J.return=ee,ee=J;break e}}else if(tt.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===F&&rI(Ge)===tt.type){v(ee,tt.sibling),J=A(tt,ne.props),J.ref=fp(ee,tt,ne),J.return=ee,ee=J;break e}v(ee,tt);break}else p(ee,tt);tt=tt.sibling}ne.type===O?(J=Uc(ne.props.children,ee.mode,je,ne.key),J.return=ee,ee=J):(je=Jv(ne.type,ne.key,ne.props,null,ee.mode,je),je.ref=fp(ee,J,ne),je.return=ee,ee=je)}return R(ee);case E:e:{for(tt=ne.key;J!==null;){if(J.key===tt)if(J.tag===4&&J.stateNode.containerInfo===ne.containerInfo&&J.stateNode.implementation===ne.implementation){v(ee,J.sibling),J=A(J,ne.children||[]),J.return=ee,ee=J;break e}else{v(ee,J);break}else p(ee,J);J=J.sibling}J=lC(ne,ee.mode,je),J.return=ee,ee=J}return R(ee);case F:return tt=ne._init,Bn(ee,J,tt(ne._payload),je)}if(yr(ne))return We(ee,J,ne,je);if(D(ne))return Ke(ee,J,ne,je);Ev(ee,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,J!==null&&J.tag===6?(v(ee,J.sibling),J=A(J,ne),J.return=ee,ee=J):(v(ee,J),J=aC(ne,ee.mode,je),J.return=ee,ee=J),R(ee)):v(ee,J)}return Bn}var xd=iI(!0),sI=iI(!1),kv=hl(null),Ov=null,bd=null,yS=null;function vS(){yS=bd=Ov=null}function xS(f){var p=kv.current;hn(kv),f._currentValue=p}function bS(f,p,v){for(;f!==null;){var w=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,w!==null&&(w.childLanes|=p)):w!==null&&(w.childLanes&p)!==p&&(w.childLanes|=p),f===v)break;f=f.return}}function wd(f,p){Ov=f,yS=bd=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&p)!==0&&(ki=!0),f.firstContext=null)}function hs(f){var p=f._currentValue;if(yS!==f)if(f={context:f,memoizedValue:p,next:null},bd===null){if(Ov===null)throw Error(n(308));bd=f,Ov.dependencies={lanes:0,firstContext:f}}else bd=bd.next=f;return p}var Rc=null;function wS(f){Rc===null?Rc=[f]:Rc.push(f)}function oI(f,p,v,w){var A=p.interleaved;return A===null?(v.next=v,wS(p)):(v.next=A.next,A.next=v),p.interleaved=v,sa(f,w)}function sa(f,p){f.lanes|=p;var v=f.alternate;for(v!==null&&(v.lanes|=p),v=f,f=f.return;f!==null;)f.childLanes|=p,v=f.alternate,v!==null&&(v.childLanes|=p),v=f,f=f.return;return v.tag===3?v.stateNode:null}var gl=!1;function SS(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aI(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function oa(f,p){return{eventTime:f,lane:p,tag:0,payload:null,callback:null,next:null}}function yl(f,p,v){var w=f.updateQueue;if(w===null)return null;if(w=w.shared,(Lt&2)!==0){var A=w.pending;return A===null?p.next=p:(p.next=A.next,A.next=p),w.pending=p,sa(f,v)}return A=w.interleaved,A===null?(p.next=p,wS(w)):(p.next=A.next,A.next=p),w.interleaved=p,sa(f,v)}function $v(f,p,v){if(p=p.updateQueue,p!==null&&(p=p.shared,(v&4194240)!==0)){var w=p.lanes;w&=f.pendingLanes,v|=w,p.lanes=v,R2(f,v)}}function lI(f,p){var v=f.updateQueue,w=f.alternate;if(w!==null&&(w=w.updateQueue,v===w)){var A=null,k=null;if(v=v.firstBaseUpdate,v!==null){do{var R={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};k===null?A=k=R:k=k.next=R,v=v.next}while(v!==null);k===null?A=k=p:k=k.next=p}else A=k=p;v={baseState:w.baseState,firstBaseUpdate:A,lastBaseUpdate:k,shared:w.shared,effects:w.effects},f.updateQueue=v;return}f=v.lastBaseUpdate,f===null?v.firstBaseUpdate=p:f.next=p,v.lastBaseUpdate=p}function _v(f,p,v,w){var A=f.updateQueue;gl=!1;var k=A.firstBaseUpdate,R=A.lastBaseUpdate,G=A.shared.pending;if(G!==null){A.shared.pending=null;var Z=G,re=Z.next;Z.next=null,R===null?k=re:R.next=re,R=Z;var ve=f.alternate;ve!==null&&(ve=ve.updateQueue,G=ve.lastBaseUpdate,G!==R&&(G===null?ve.firstBaseUpdate=re:G.next=re,ve.lastBaseUpdate=Z))}if(k!==null){var we=A.baseState;R=0,ve=re=Z=null,G=k;do{var ye=G.lane,Be=G.eventTime;if((w&ye)===ye){ve!==null&&(ve=ve.next={eventTime:Be,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var We=f,Ke=G;switch(ye=p,Be=v,Ke.tag){case 1:if(We=Ke.payload,typeof We=="function"){we=We.call(Be,we,ye);break e}we=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Ke.payload,ye=typeof We=="function"?We.call(Be,we,ye):We,ye==null)break e;we=Q({},we,ye);break e;case 2:gl=!0}}G.callback!==null&&G.lane!==0&&(f.flags|=64,ye=A.effects,ye===null?A.effects=[G]:ye.push(G))}else Be={eventTime:Be,lane:ye,tag:G.tag,payload:G.payload,callback:G.callback,next:null},ve===null?(re=ve=Be,Z=we):ve=ve.next=Be,R|=ye;if(G=G.next,G===null){if(G=A.shared.pending,G===null)break;ye=G,G=ye.next,ye.next=null,A.lastBaseUpdate=ye,A.shared.pending=null}}while(!0);if(ve===null&&(Z=we),A.baseState=Z,A.firstBaseUpdate=re,A.lastBaseUpdate=ve,p=A.shared.interleaved,p!==null){A=p;do R|=A.lane,A=A.next;while(A!==p)}else k===null&&(A.shared.lanes=0);Fc|=R,f.lanes=R,f.memoizedState=we}}function cI(f,p,v){if(f=p.effects,p.effects=null,f!==null)for(p=0;p<f.length;p++){var w=f[p],A=w.callback;if(A!==null){if(w.callback=null,w=v,typeof A!="function")throw Error(n(191,A));A.call(w)}}}var hp={},No=hl(hp),pp=hl(hp),mp=hl(hp);function Dc(f){if(f===hp)throw Error(n(174));return f}function CS(f,p){switch(cn(mp,p),cn(pp,f),cn(No,hp),f=p.nodeType,f){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:Te(null,"");break;default:f=f===8?p.parentNode:p,p=f.namespaceURI||null,f=f.tagName,p=Te(p,f)}hn(No),cn(No,p)}function Sd(){hn(No),hn(pp),hn(mp)}function uI(f){Dc(mp.current);var p=Dc(No.current),v=Te(p,f.type);p!==v&&(cn(pp,f),cn(No,v))}function NS(f){pp.current===f&&(hn(No),hn(pp))}var Pn=hl(0);function Mv(f){for(var p=f;p!==null;){if(p.tag===13){var v=p.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var PS=[];function TS(){for(var f=0;f<PS.length;f++)PS[f]._workInProgressVersionPrimary=null;PS.length=0}var Iv=j.ReactCurrentDispatcher,AS=j.ReactCurrentBatchConfig,Lc=0,Tn=null,ir=null,vr=null,Rv=!1,gp=!1,yp=0,moe=0;function Gr(){throw Error(n(321))}function jS(f,p){if(p===null)return!1;for(var v=0;v<p.length&&v<f.length;v++)if(!Ls(f[v],p[v]))return!1;return!0}function ES(f,p,v,w,A,k){if(Lc=k,Tn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Iv.current=f===null||f.memoizedState===null?xoe:boe,f=v(w,A),gp){k=0;do{if(gp=!1,yp=0,25<=k)throw Error(n(301));k+=1,vr=ir=null,p.updateQueue=null,Iv.current=woe,f=v(w,A)}while(gp)}if(Iv.current=Fv,p=ir!==null&&ir.next!==null,Lc=0,vr=ir=Tn=null,Rv=!1,p)throw Error(n(300));return f}function kS(){var f=yp!==0;return yp=0,f}function Po(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Tn.memoizedState=vr=f:vr=vr.next=f,vr}function ps(){if(ir===null){var f=Tn.alternate;f=f!==null?f.memoizedState:null}else f=ir.next;var p=vr===null?Tn.memoizedState:vr.next;if(p!==null)vr=p,ir=f;else{if(f===null)throw Error(n(310));ir=f,f={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},vr===null?Tn.memoizedState=vr=f:vr=vr.next=f}return vr}function vp(f,p){return typeof p=="function"?p(f):p}function OS(f){var p=ps(),v=p.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=f;var w=ir,A=w.baseQueue,k=v.pending;if(k!==null){if(A!==null){var R=A.next;A.next=k.next,k.next=R}w.baseQueue=A=k,v.pending=null}if(A!==null){k=A.next,w=w.baseState;var G=R=null,Z=null,re=k;do{var ve=re.lane;if((Lc&ve)===ve)Z!==null&&(Z=Z.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),w=re.hasEagerState?re.eagerState:f(w,re.action);else{var we={lane:ve,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};Z===null?(G=Z=we,R=w):Z=Z.next=we,Tn.lanes|=ve,Fc|=ve}re=re.next}while(re!==null&&re!==k);Z===null?R=w:Z.next=G,Ls(w,p.memoizedState)||(ki=!0),p.memoizedState=w,p.baseState=R,p.baseQueue=Z,v.lastRenderedState=w}if(f=v.interleaved,f!==null){A=f;do k=A.lane,Tn.lanes|=k,Fc|=k,A=A.next;while(A!==f)}else A===null&&(v.lanes=0);return[p.memoizedState,v.dispatch]}function $S(f){var p=ps(),v=p.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=f;var w=v.dispatch,A=v.pending,k=p.memoizedState;if(A!==null){v.pending=null;var R=A=A.next;do k=f(k,R.action),R=R.next;while(R!==A);Ls(k,p.memoizedState)||(ki=!0),p.memoizedState=k,p.baseQueue===null&&(p.baseState=k),v.lastRenderedState=k}return[k,w]}function dI(){}function fI(f,p){var v=Tn,w=ps(),A=p(),k=!Ls(w.memoizedState,A);if(k&&(w.memoizedState=A,ki=!0),w=w.queue,_S(mI.bind(null,v,w,f),[f]),w.getSnapshot!==p||k||vr!==null&&vr.memoizedState.tag&1){if(v.flags|=2048,xp(9,pI.bind(null,v,w,A,p),void 0,null),xr===null)throw Error(n(349));(Lc&30)!==0||hI(v,p,A)}return A}function hI(f,p,v){f.flags|=16384,f={getSnapshot:p,value:v},p=Tn.updateQueue,p===null?(p={lastEffect:null,stores:null},Tn.updateQueue=p,p.stores=[f]):(v=p.stores,v===null?p.stores=[f]:v.push(f))}function pI(f,p,v,w){p.value=v,p.getSnapshot=w,gI(p)&&yI(f)}function mI(f,p,v){return v(function(){gI(p)&&yI(f)})}function gI(f){var p=f.getSnapshot;f=f.value;try{var v=p();return!Ls(f,v)}catch{return!0}}function yI(f){var p=sa(f,1);p!==null&&Us(p,f,1,-1)}function vI(f){var p=Po();return typeof f=="function"&&(f=f()),p.memoizedState=p.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:f},p.queue=f,f=f.dispatch=voe.bind(null,Tn,f),[p.memoizedState,f]}function xp(f,p,v,w){return f={tag:f,create:p,destroy:v,deps:w,next:null},p=Tn.updateQueue,p===null?(p={lastEffect:null,stores:null},Tn.updateQueue=p,p.lastEffect=f.next=f):(v=p.lastEffect,v===null?p.lastEffect=f.next=f:(w=v.next,v.next=f,f.next=w,p.lastEffect=f)),f}function xI(){return ps().memoizedState}function Dv(f,p,v,w){var A=Po();Tn.flags|=f,A.memoizedState=xp(1|p,v,void 0,w===void 0?null:w)}function Lv(f,p,v,w){var A=ps();w=w===void 0?null:w;var k=void 0;if(ir!==null){var R=ir.memoizedState;if(k=R.destroy,w!==null&&jS(w,R.deps)){A.memoizedState=xp(p,v,k,w);return}}Tn.flags|=f,A.memoizedState=xp(1|p,v,k,w)}function bI(f,p){return Dv(8390656,8,f,p)}function _S(f,p){return Lv(2048,8,f,p)}function wI(f,p){return Lv(4,2,f,p)}function SI(f,p){return Lv(4,4,f,p)}function CI(f,p){if(typeof p=="function")return f=f(),p(f),function(){p(null)};if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function NI(f,p,v){return v=v!=null?v.concat([f]):null,Lv(4,4,CI.bind(null,p,f),v)}function MS(){}function PI(f,p){var v=ps();p=p===void 0?null:p;var w=v.memoizedState;return w!==null&&p!==null&&jS(p,w[1])?w[0]:(v.memoizedState=[f,p],f)}function TI(f,p){var v=ps();p=p===void 0?null:p;var w=v.memoizedState;return w!==null&&p!==null&&jS(p,w[1])?w[0]:(f=f(),v.memoizedState=[f,p],f)}function AI(f,p,v){return(Lc&21)===0?(f.baseState&&(f.baseState=!1,ki=!0),f.memoizedState=v):(Ls(v,p)||(v=r4(),Tn.lanes|=v,Fc|=v,f.baseState=!0),p)}function goe(f,p){var v=Gt;Gt=v!==0&&4>v?v:4,f(!0);var w=AS.transition;AS.transition={};try{f(!1),p()}finally{Gt=v,AS.transition=w}}function jI(){return ps().memoizedState}function yoe(f,p,v){var w=wl(f);if(v={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null},EI(f))kI(p,v);else if(v=oI(f,p,v,w),v!==null){var A=hi();Us(v,f,w,A),OI(v,p,w)}}function voe(f,p,v){var w=wl(f),A={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null};if(EI(f))kI(p,A);else{var k=f.alternate;if(f.lanes===0&&(k===null||k.lanes===0)&&(k=p.lastRenderedReducer,k!==null))try{var R=p.lastRenderedState,G=k(R,v);if(A.hasEagerState=!0,A.eagerState=G,Ls(G,R)){var Z=p.interleaved;Z===null?(A.next=A,wS(p)):(A.next=Z.next,Z.next=A),p.interleaved=A;return}}catch{}v=oI(f,p,A,w),v!==null&&(A=hi(),Us(v,f,w,A),OI(v,p,w))}}function EI(f){var p=f.alternate;return f===Tn||p!==null&&p===Tn}function kI(f,p){gp=Rv=!0;var v=f.pending;v===null?p.next=p:(p.next=v.next,v.next=p),f.pending=p}function OI(f,p,v){if((v&4194240)!==0){var w=p.lanes;w&=f.pendingLanes,v|=w,p.lanes=v,R2(f,v)}}var Fv={readContext:hs,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useInsertionEffect:Gr,useLayoutEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useMutableSource:Gr,useSyncExternalStore:Gr,useId:Gr,unstable_isNewReconciler:!1},xoe={readContext:hs,useCallback:function(f,p){return Po().memoizedState=[f,p===void 0?null:p],f},useContext:hs,useEffect:bI,useImperativeHandle:function(f,p,v){return v=v!=null?v.concat([f]):null,Dv(4194308,4,CI.bind(null,p,f),v)},useLayoutEffect:function(f,p){return Dv(4194308,4,f,p)},useInsertionEffect:function(f,p){return Dv(4,2,f,p)},useMemo:function(f,p){var v=Po();return p=p===void 0?null:p,f=f(),v.memoizedState=[f,p],f},useReducer:function(f,p,v){var w=Po();return p=v!==void 0?v(p):p,w.memoizedState=w.baseState=p,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:p},w.queue=f,f=f.dispatch=yoe.bind(null,Tn,f),[w.memoizedState,f]},useRef:function(f){var p=Po();return f={current:f},p.memoizedState=f},useState:vI,useDebugValue:MS,useDeferredValue:function(f){return Po().memoizedState=f},useTransition:function(){var f=vI(!1),p=f[0];return f=goe.bind(null,f[1]),Po().memoizedState=f,[p,f]},useMutableSource:function(){},useSyncExternalStore:function(f,p,v){var w=Tn,A=Po();if(Sn){if(v===void 0)throw Error(n(407));v=v()}else{if(v=p(),xr===null)throw Error(n(349));(Lc&30)!==0||hI(w,p,v)}A.memoizedState=v;var k={value:v,getSnapshot:p};return A.queue=k,bI(mI.bind(null,w,k,f),[f]),w.flags|=2048,xp(9,pI.bind(null,w,k,v,p),void 0,null),v},useId:function(){var f=Po(),p=xr.identifierPrefix;if(Sn){var v=ia,w=ra;v=(w&~(1<<32-di(w)-1)).toString(32)+v,p=":"+p+"R"+v,v=yp++,0<v&&(p+="H"+v.toString(32)),p+=":"}else v=moe++,p=":"+p+"r"+v.toString(32)+":";return f.memoizedState=p},unstable_isNewReconciler:!1},boe={readContext:hs,useCallback:PI,useContext:hs,useEffect:_S,useImperativeHandle:NI,useInsertionEffect:wI,useLayoutEffect:SI,useMemo:TI,useReducer:OS,useRef:xI,useState:function(){return OS(vp)},useDebugValue:MS,useDeferredValue:function(f){var p=ps();return AI(p,ir.memoizedState,f)},useTransition:function(){var f=OS(vp)[0],p=ps().memoizedState;return[f,p]},useMutableSource:dI,useSyncExternalStore:fI,useId:jI,unstable_isNewReconciler:!1},woe={readContext:hs,useCallback:PI,useContext:hs,useEffect:_S,useImperativeHandle:NI,useInsertionEffect:wI,useLayoutEffect:SI,useMemo:TI,useReducer:$S,useRef:xI,useState:function(){return $S(vp)},useDebugValue:MS,useDeferredValue:function(f){var p=ps();return ir===null?p.memoizedState=f:AI(p,ir.memoizedState,f)},useTransition:function(){var f=$S(vp)[0],p=ps().memoizedState;return[f,p]},useMutableSource:dI,useSyncExternalStore:fI,useId:jI,unstable_isNewReconciler:!1};function Bs(f,p){if(f&&f.defaultProps){p=Q({},p),f=f.defaultProps;for(var v in f)p[v]===void 0&&(p[v]=f[v]);return p}return p}function IS(f,p,v,w){p=f.memoizedState,v=v(w,p),v=v==null?p:Q({},p,v),f.memoizedState=v,f.lanes===0&&(f.updateQueue.baseState=v)}var Bv={isMounted:function(f){return(f=f._reactInternals)?Jo(f)===f:!1},enqueueSetState:function(f,p,v){f=f._reactInternals;var w=hi(),A=wl(f),k=oa(w,A);k.payload=p,v!=null&&(k.callback=v),p=yl(f,k,A),p!==null&&(Us(p,f,A,w),$v(p,f,A))},enqueueReplaceState:function(f,p,v){f=f._reactInternals;var w=hi(),A=wl(f),k=oa(w,A);k.tag=1,k.payload=p,v!=null&&(k.callback=v),p=yl(f,k,A),p!==null&&(Us(p,f,A,w),$v(p,f,A))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var v=hi(),w=wl(f),A=oa(v,w);A.tag=2,p!=null&&(A.callback=p),p=yl(f,A,w),p!==null&&(Us(p,f,w,v),$v(p,f,w))}};function $I(f,p,v,w,A,k,R){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(w,k,R):p.prototype&&p.prototype.isPureReactComponent?!sp(v,w)||!sp(A,k):!0}function _I(f,p,v){var w=!1,A=pl,k=p.contextType;return typeof k=="object"&&k!==null?k=hs(k):(A=Ei(p)?_c:Kr.current,w=p.contextTypes,k=(w=w!=null)?md(f,A):pl),p=new p(v,k),f.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Bv,f.stateNode=p,p._reactInternals=f,w&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=A,f.__reactInternalMemoizedMaskedChildContext=k),p}function MI(f,p,v,w){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(v,w),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(v,w),p.state!==f&&Bv.enqueueReplaceState(p,p.state,null)}function RS(f,p,v,w){var A=f.stateNode;A.props=v,A.state=f.memoizedState,A.refs={},SS(f);var k=p.contextType;typeof k=="object"&&k!==null?A.context=hs(k):(k=Ei(p)?_c:Kr.current,A.context=md(f,k)),A.state=f.memoizedState,k=p.getDerivedStateFromProps,typeof k=="function"&&(IS(f,p,k,v),A.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(p=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),p!==A.state&&Bv.enqueueReplaceState(A,A.state,null),_v(f,v,A,w),A.state=f.memoizedState),typeof A.componentDidMount=="function"&&(f.flags|=4194308)}function Cd(f,p){try{var v="",w=p;do v+=he(w),w=w.return;while(w);var A=v}catch(k){A=`
Error generating stack: `+k.message+`
`+k.stack}return{value:f,source:p,stack:A,digest:null}}function DS(f,p,v){return{value:f,source:null,stack:v??null,digest:p??null}}function LS(f,p){try{console.error(p.value)}catch(v){setTimeout(function(){throw v})}}var Soe=typeof WeakMap=="function"?WeakMap:Map;function II(f,p,v){v=oa(-1,v),v.tag=3,v.payload={element:null};var w=p.value;return v.callback=function(){Kv||(Kv=!0,JS=w),LS(f,p)},v}function RI(f,p,v){v=oa(-1,v),v.tag=3;var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var A=p.value;v.payload=function(){return w(A)},v.callback=function(){LS(f,p)}}var k=f.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(v.callback=function(){LS(f,p),typeof w!="function"&&(xl===null?xl=new Set([this]):xl.add(this));var R=p.stack;this.componentDidCatch(p.value,{componentStack:R!==null?R:""})}),v}function DI(f,p,v){var w=f.pingCache;if(w===null){w=f.pingCache=new Soe;var A=new Set;w.set(p,A)}else A=w.get(p),A===void 0&&(A=new Set,w.set(p,A));A.has(v)||(A.add(v),f=Roe.bind(null,f,p,v),p.then(f,f))}function LI(f){do{var p;if((p=f.tag===13)&&(p=f.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return f;f=f.return}while(f!==null);return null}function FI(f,p,v,w,A){return(f.mode&1)===0?(f===p?f.flags|=65536:(f.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(p=oa(-1,1),p.tag=2,yl(v,p,1))),v.lanes|=1),f):(f.flags|=65536,f.lanes=A,f)}var Coe=j.ReactCurrentOwner,ki=!1;function fi(f,p,v,w){p.child=f===null?sI(p,null,v,w):xd(p,f.child,v,w)}function BI(f,p,v,w,A){v=v.render;var k=p.ref;return wd(p,A),w=ES(f,p,v,w,k,A),v=kS(),f!==null&&!ki?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~A,aa(f,p,A)):(Sn&&v&&fS(p),p.flags|=1,fi(f,p,w,A),p.child)}function VI(f,p,v,w,A){if(f===null){var k=v.type;return typeof k=="function"&&!oC(k)&&k.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(p.tag=15,p.type=k,zI(f,p,k,w,A)):(f=Jv(v.type,null,w,p,p.mode,A),f.ref=p.ref,f.return=p,p.child=f)}if(k=f.child,(f.lanes&A)===0){var R=k.memoizedProps;if(v=v.compare,v=v!==null?v:sp,v(R,w)&&f.ref===p.ref)return aa(f,p,A)}return p.flags|=1,f=Cl(k,w),f.ref=p.ref,f.return=p,p.child=f}function zI(f,p,v,w,A){if(f!==null){var k=f.memoizedProps;if(sp(k,w)&&f.ref===p.ref)if(ki=!1,p.pendingProps=w=k,(f.lanes&A)!==0)(f.flags&131072)!==0&&(ki=!0);else return p.lanes=f.lanes,aa(f,p,A)}return FS(f,p,v,w,A)}function UI(f,p,v){var w=p.pendingProps,A=w.children,k=f!==null?f.memoizedState:null;if(w.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},cn(Pd,qi),qi|=v;else{if((v&1073741824)===0)return f=k!==null?k.baseLanes|v:v,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:f,cachePool:null,transitions:null},p.updateQueue=null,cn(Pd,qi),qi|=f,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=k!==null?k.baseLanes:v,cn(Pd,qi),qi|=w}else k!==null?(w=k.baseLanes|v,p.memoizedState=null):w=v,cn(Pd,qi),qi|=w;return fi(f,p,A,v),p.child}function qI(f,p){var v=p.ref;(f===null&&v!==null||f!==null&&f.ref!==v)&&(p.flags|=512,p.flags|=2097152)}function FS(f,p,v,w,A){var k=Ei(v)?_c:Kr.current;return k=md(p,k),wd(p,A),v=ES(f,p,v,w,k,A),w=kS(),f!==null&&!ki?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~A,aa(f,p,A)):(Sn&&w&&fS(p),p.flags|=1,fi(f,p,v,A),p.child)}function HI(f,p,v,w,A){if(Ei(v)){var k=!0;Nv(p)}else k=!1;if(wd(p,A),p.stateNode===null)zv(f,p),_I(p,v,w),RS(p,v,w,A),w=!0;else if(f===null){var R=p.stateNode,G=p.memoizedProps;R.props=G;var Z=R.context,re=v.contextType;typeof re=="object"&&re!==null?re=hs(re):(re=Ei(v)?_c:Kr.current,re=md(p,re));var ve=v.getDerivedStateFromProps,we=typeof ve=="function"||typeof R.getSnapshotBeforeUpdate=="function";we||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(G!==w||Z!==re)&&MI(p,R,w,re),gl=!1;var ye=p.memoizedState;R.state=ye,_v(p,w,R,A),Z=p.memoizedState,G!==w||ye!==Z||ji.current||gl?(typeof ve=="function"&&(IS(p,v,ve,w),Z=p.memoizedState),(G=gl||$I(p,v,G,w,ye,Z,re))?(we||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(p.flags|=4194308)):(typeof R.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=w,p.memoizedState=Z),R.props=w,R.state=Z,R.context=re,w=G):(typeof R.componentDidMount=="function"&&(p.flags|=4194308),w=!1)}else{R=p.stateNode,aI(f,p),G=p.memoizedProps,re=p.type===p.elementType?G:Bs(p.type,G),R.props=re,we=p.pendingProps,ye=R.context,Z=v.contextType,typeof Z=="object"&&Z!==null?Z=hs(Z):(Z=Ei(v)?_c:Kr.current,Z=md(p,Z));var Be=v.getDerivedStateFromProps;(ve=typeof Be=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(G!==we||ye!==Z)&&MI(p,R,w,Z),gl=!1,ye=p.memoizedState,R.state=ye,_v(p,w,R,A);var We=p.memoizedState;G!==we||ye!==We||ji.current||gl?(typeof Be=="function"&&(IS(p,v,Be,w),We=p.memoizedState),(re=gl||$I(p,v,re,w,ye,We,Z)||!1)?(ve||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(w,We,Z),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(w,We,Z)),typeof R.componentDidUpdate=="function"&&(p.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof R.componentDidUpdate!="function"||G===f.memoizedProps&&ye===f.memoizedState||(p.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||G===f.memoizedProps&&ye===f.memoizedState||(p.flags|=1024),p.memoizedProps=w,p.memoizedState=We),R.props=w,R.state=We,R.context=Z,w=re):(typeof R.componentDidUpdate!="function"||G===f.memoizedProps&&ye===f.memoizedState||(p.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||G===f.memoizedProps&&ye===f.memoizedState||(p.flags|=1024),w=!1)}return BS(f,p,v,w,k,A)}function BS(f,p,v,w,A,k){qI(f,p);var R=(p.flags&128)!==0;if(!w&&!R)return A&&Y4(p,v,!1),aa(f,p,k);w=p.stateNode,Coe.current=p;var G=R&&typeof v.getDerivedStateFromError!="function"?null:w.render();return p.flags|=1,f!==null&&R?(p.child=xd(p,f.child,null,k),p.child=xd(p,null,G,k)):fi(f,p,G,k),p.memoizedState=w.state,A&&Y4(p,v,!0),p.child}function WI(f){var p=f.stateNode;p.pendingContext?G4(f,p.pendingContext,p.pendingContext!==p.context):p.context&&G4(f,p.context,!1),CS(f,p.containerInfo)}function KI(f,p,v,w,A){return vd(),gS(A),p.flags|=256,fi(f,p,v,w),p.child}var VS={dehydrated:null,treeContext:null,retryLane:0};function zS(f){return{baseLanes:f,cachePool:null,transitions:null}}function GI(f,p,v){var w=p.pendingProps,A=Pn.current,k=!1,R=(p.flags&128)!==0,G;if((G=R)||(G=f!==null&&f.memoizedState===null?!1:(A&2)!==0),G?(k=!0,p.flags&=-129):(f===null||f.memoizedState!==null)&&(A|=1),cn(Pn,A&1),f===null)return mS(p),f=p.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((p.mode&1)===0?p.lanes=1:f.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(R=w.children,f=w.fallback,k?(w=p.mode,k=p.child,R={mode:"hidden",children:R},(w&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=R):k=e0(R,w,0,null),f=Uc(f,w,v,null),k.return=p,f.return=p,k.sibling=f,p.child=k,p.child.memoizedState=zS(v),p.memoizedState=VS,f):US(p,R));if(A=f.memoizedState,A!==null&&(G=A.dehydrated,G!==null))return Noe(f,p,R,w,G,A,v);if(k){k=w.fallback,R=p.mode,A=f.child,G=A.sibling;var Z={mode:"hidden",children:w.children};return(R&1)===0&&p.child!==A?(w=p.child,w.childLanes=0,w.pendingProps=Z,p.deletions=null):(w=Cl(A,Z),w.subtreeFlags=A.subtreeFlags&14680064),G!==null?k=Cl(G,k):(k=Uc(k,R,v,null),k.flags|=2),k.return=p,w.return=p,w.sibling=k,p.child=w,w=k,k=p.child,R=f.child.memoizedState,R=R===null?zS(v):{baseLanes:R.baseLanes|v,cachePool:null,transitions:R.transitions},k.memoizedState=R,k.childLanes=f.childLanes&~v,p.memoizedState=VS,w}return k=f.child,f=k.sibling,w=Cl(k,{mode:"visible",children:w.children}),(p.mode&1)===0&&(w.lanes=v),w.return=p,w.sibling=null,f!==null&&(v=p.deletions,v===null?(p.deletions=[f],p.flags|=16):v.push(f)),p.child=w,p.memoizedState=null,w}function US(f,p){return p=e0({mode:"visible",children:p},f.mode,0,null),p.return=f,f.child=p}function Vv(f,p,v,w){return w!==null&&gS(w),xd(p,f.child,null,v),f=US(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function Noe(f,p,v,w,A,k,R){if(v)return p.flags&256?(p.flags&=-257,w=DS(Error(n(422))),Vv(f,p,R,w)):p.memoizedState!==null?(p.child=f.child,p.flags|=128,null):(k=w.fallback,A=p.mode,w=e0({mode:"visible",children:w.children},A,0,null),k=Uc(k,A,R,null),k.flags|=2,w.return=p,k.return=p,w.sibling=k,p.child=w,(p.mode&1)!==0&&xd(p,f.child,null,R),p.child.memoizedState=zS(R),p.memoizedState=VS,k);if((p.mode&1)===0)return Vv(f,p,R,null);if(A.data==="$!"){if(w=A.nextSibling&&A.nextSibling.dataset,w)var G=w.dgst;return w=G,k=Error(n(419)),w=DS(k,w,void 0),Vv(f,p,R,w)}if(G=(R&f.childLanes)!==0,ki||G){if(w=xr,w!==null){switch(R&-R){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(w.suspendedLanes|R))!==0?0:A,A!==0&&A!==k.retryLane&&(k.retryLane=A,sa(f,A),Us(w,f,A,-1))}return sC(),w=DS(Error(n(421))),Vv(f,p,R,w)}return A.data==="$?"?(p.flags|=128,p.child=f.child,p=Doe.bind(null,f),A._reactRetry=p,null):(f=k.treeContext,Ui=fl(A.nextSibling),zi=p,Sn=!0,Fs=null,f!==null&&(ds[fs++]=ra,ds[fs++]=ia,ds[fs++]=Mc,ra=f.id,ia=f.overflow,Mc=p),p=US(p,w.children),p.flags|=4096,p)}function QI(f,p,v){f.lanes|=p;var w=f.alternate;w!==null&&(w.lanes|=p),bS(f.return,p,v)}function qS(f,p,v,w,A){var k=f.memoizedState;k===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:w,tail:v,tailMode:A}:(k.isBackwards=p,k.rendering=null,k.renderingStartTime=0,k.last=w,k.tail=v,k.tailMode=A)}function YI(f,p,v){var w=p.pendingProps,A=w.revealOrder,k=w.tail;if(fi(f,p,w.children,v),w=Pn.current,(w&2)!==0)w=w&1|2,p.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&QI(f,v,p);else if(f.tag===19)QI(f,v,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}w&=1}if(cn(Pn,w),(p.mode&1)===0)p.memoizedState=null;else switch(A){case"forwards":for(v=p.child,A=null;v!==null;)f=v.alternate,f!==null&&Mv(f)===null&&(A=v),v=v.sibling;v=A,v===null?(A=p.child,p.child=null):(A=v.sibling,v.sibling=null),qS(p,!1,A,v,k);break;case"backwards":for(v=null,A=p.child,p.child=null;A!==null;){if(f=A.alternate,f!==null&&Mv(f)===null){p.child=A;break}f=A.sibling,A.sibling=v,v=A,A=f}qS(p,!0,v,null,k);break;case"together":qS(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function zv(f,p){(p.mode&1)===0&&f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2)}function aa(f,p,v){if(f!==null&&(p.dependencies=f.dependencies),Fc|=p.lanes,(v&p.childLanes)===0)return null;if(f!==null&&p.child!==f.child)throw Error(n(153));if(p.child!==null){for(f=p.child,v=Cl(f,f.pendingProps),p.child=v,v.return=p;f.sibling!==null;)f=f.sibling,v=v.sibling=Cl(f,f.pendingProps),v.return=p;v.sibling=null}return p.child}function Poe(f,p,v){switch(p.tag){case 3:WI(p),vd();break;case 5:uI(p);break;case 1:Ei(p.type)&&Nv(p);break;case 4:CS(p,p.stateNode.containerInfo);break;case 10:var w=p.type._context,A=p.memoizedProps.value;cn(kv,w._currentValue),w._currentValue=A;break;case 13:if(w=p.memoizedState,w!==null)return w.dehydrated!==null?(cn(Pn,Pn.current&1),p.flags|=128,null):(v&p.child.childLanes)!==0?GI(f,p,v):(cn(Pn,Pn.current&1),f=aa(f,p,v),f!==null?f.sibling:null);cn(Pn,Pn.current&1);break;case 19:if(w=(v&p.childLanes)!==0,(f.flags&128)!==0){if(w)return YI(f,p,v);p.flags|=128}if(A=p.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),cn(Pn,Pn.current),w)break;return null;case 22:case 23:return p.lanes=0,UI(f,p,v)}return aa(f,p,v)}var XI,HS,ZI,JI;XI=function(f,p){for(var v=p.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},HS=function(){},ZI=function(f,p,v,w){var A=f.memoizedProps;if(A!==w){f=p.stateNode,Dc(No.current);var k=null;switch(v){case"input":A=ae(f,A),w=ae(f,w),k=[];break;case"select":A=Q({},A,{value:void 0}),w=Q({},w,{value:void 0}),k=[];break;case"textarea":A=X(f,A),w=X(f,w),k=[];break;default:typeof A.onClick!="function"&&typeof w.onClick=="function"&&(f.onclick=wv)}el(v,w);var R;v=null;for(re in A)if(!w.hasOwnProperty(re)&&A.hasOwnProperty(re)&&A[re]!=null)if(re==="style"){var G=A[re];for(R in G)G.hasOwnProperty(R)&&(v||(v={}),v[R]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(i.hasOwnProperty(re)?k||(k=[]):(k=k||[]).push(re,null));for(re in w){var Z=w[re];if(G=A?.[re],w.hasOwnProperty(re)&&Z!==G&&(Z!=null||G!=null))if(re==="style")if(G){for(R in G)!G.hasOwnProperty(R)||Z&&Z.hasOwnProperty(R)||(v||(v={}),v[R]="");for(R in Z)Z.hasOwnProperty(R)&&G[R]!==Z[R]&&(v||(v={}),v[R]=Z[R])}else v||(k||(k=[]),k.push(re,v)),v=Z;else re==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,G=G?G.__html:void 0,Z!=null&&G!==Z&&(k=k||[]).push(re,Z)):re==="children"?typeof Z!="string"&&typeof Z!="number"||(k=k||[]).push(re,""+Z):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(i.hasOwnProperty(re)?(Z!=null&&re==="onScroll"&&fn("scroll",f),k||G===Z||(k=[])):(k=k||[]).push(re,Z))}v&&(k=k||[]).push("style",v);var re=k;(p.updateQueue=re)&&(p.flags|=4)}},JI=function(f,p,v,w){v!==w&&(p.flags|=4)};function bp(f,p){if(!Sn)switch(f.tailMode){case"hidden":p=f.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?f.tail=null:v.sibling=null;break;case"collapsed":v=f.tail;for(var w=null;v!==null;)v.alternate!==null&&(w=v),v=v.sibling;w===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:w.sibling=null}}function Qr(f){var p=f.alternate!==null&&f.alternate.child===f.child,v=0,w=0;if(p)for(var A=f.child;A!==null;)v|=A.lanes|A.childLanes,w|=A.subtreeFlags&14680064,w|=A.flags&14680064,A.return=f,A=A.sibling;else for(A=f.child;A!==null;)v|=A.lanes|A.childLanes,w|=A.subtreeFlags,w|=A.flags,A.return=f,A=A.sibling;return f.subtreeFlags|=w,f.childLanes=v,p}function Toe(f,p,v){var w=p.pendingProps;switch(hS(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qr(p),null;case 1:return Ei(p.type)&&Cv(),Qr(p),null;case 3:return w=p.stateNode,Sd(),hn(ji),hn(Kr),TS(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(f===null||f.child===null)&&(jv(p)?p.flags|=4:f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Fs!==null&&(nC(Fs),Fs=null))),HS(f,p),Qr(p),null;case 5:NS(p);var A=Dc(mp.current);if(v=p.type,f!==null&&p.stateNode!=null)ZI(f,p,v,w,A),f.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!w){if(p.stateNode===null)throw Error(n(166));return Qr(p),null}if(f=Dc(No.current),jv(p)){w=p.stateNode,v=p.type;var k=p.memoizedProps;switch(w[Co]=p,w[up]=k,f=(p.mode&1)!==0,v){case"dialog":fn("cancel",w),fn("close",w);break;case"iframe":case"object":case"embed":fn("load",w);break;case"video":case"audio":for(A=0;A<ap.length;A++)fn(ap[A],w);break;case"source":fn("error",w);break;case"img":case"image":case"link":fn("error",w),fn("load",w);break;case"details":fn("toggle",w);break;case"input":yt(w,k),fn("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!k.multiple},fn("invalid",w);break;case"textarea":te(w,k),fn("invalid",w)}el(v,k),A=null;for(var R in k)if(k.hasOwnProperty(R)){var G=k[R];R==="children"?typeof G=="string"?w.textContent!==G&&(k.suppressHydrationWarning!==!0&&bv(w.textContent,G,f),A=["children",G]):typeof G=="number"&&w.textContent!==""+G&&(k.suppressHydrationWarning!==!0&&bv(w.textContent,G,f),A=["children",""+G]):i.hasOwnProperty(R)&&G!=null&&R==="onScroll"&&fn("scroll",w)}switch(v){case"input":Oe(w),qt(w,k,!0);break;case"textarea":Oe(w),Ie(w);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(w.onclick=wv)}w=A,p.updateQueue=w,w!==null&&(p.flags|=4)}else{R=A.nodeType===9?A:A.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=$e(v)),f==="http://www.w3.org/1999/xhtml"?v==="script"?(f=R.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof w.is=="string"?f=R.createElement(v,{is:w.is}):(f=R.createElement(v),v==="select"&&(R=f,w.multiple?R.multiple=!0:w.size&&(R.size=w.size))):f=R.createElementNS(f,v),f[Co]=p,f[up]=w,XI(f,p,!1,!1),p.stateNode=f;e:{switch(R=$n(v,w),v){case"dialog":fn("cancel",f),fn("close",f),A=w;break;case"iframe":case"object":case"embed":fn("load",f),A=w;break;case"video":case"audio":for(A=0;A<ap.length;A++)fn(ap[A],f);A=w;break;case"source":fn("error",f),A=w;break;case"img":case"image":case"link":fn("error",f),fn("load",f),A=w;break;case"details":fn("toggle",f),A=w;break;case"input":yt(f,w),A=ae(f,w),fn("invalid",f);break;case"option":A=w;break;case"select":f._wrapperState={wasMultiple:!!w.multiple},A=Q({},w,{value:void 0}),fn("invalid",f);break;case"textarea":te(f,w),A=X(f,w),fn("invalid",f);break;default:A=w}el(v,A),G=A;for(k in G)if(G.hasOwnProperty(k)){var Z=G[k];k==="style"?Is(f,Z):k==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&wt(f,Z)):k==="children"?typeof Z=="string"?(v!=="textarea"||Z!=="")&&Kt(f,Z):typeof Z=="number"&&Kt(f,""+Z):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?Z!=null&&k==="onScroll"&&fn("scroll",f):Z!=null&&T(f,k,Z,R))}switch(v){case"input":Oe(f),qt(f,w,!1);break;case"textarea":Oe(f),Ie(f);break;case"option":w.value!=null&&f.setAttribute("value",""+Se(w.value));break;case"select":f.multiple=!!w.multiple,k=w.value,k!=null?Fn(f,!!w.multiple,k,!1):w.defaultValue!=null&&Fn(f,!!w.multiple,w.defaultValue,!0);break;default:typeof A.onClick=="function"&&(f.onclick=wv)}switch(v){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Qr(p),null;case 6:if(f&&p.stateNode!=null)JI(f,p,f.memoizedProps,w);else{if(typeof w!="string"&&p.stateNode===null)throw Error(n(166));if(v=Dc(mp.current),Dc(No.current),jv(p)){if(w=p.stateNode,v=p.memoizedProps,w[Co]=p,(k=w.nodeValue!==v)&&(f=zi,f!==null))switch(f.tag){case 3:bv(w.nodeValue,v,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&bv(w.nodeValue,v,(f.mode&1)!==0)}k&&(p.flags|=4)}else w=(v.nodeType===9?v:v.ownerDocument).createTextNode(w),w[Co]=p,p.stateNode=w}return Qr(p),null;case 13:if(hn(Pn),w=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(Sn&&Ui!==null&&(p.mode&1)!==0&&(p.flags&128)===0)nI(),vd(),p.flags|=98560,k=!1;else if(k=jv(p),w!==null&&w.dehydrated!==null){if(f===null){if(!k)throw Error(n(318));if(k=p.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[Co]=p}else vd(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Qr(p),k=!1}else Fs!==null&&(nC(Fs),Fs=null),k=!0;if(!k)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=v,p):(w=w!==null,w!==(f!==null&&f.memoizedState!==null)&&w&&(p.child.flags|=8192,(p.mode&1)!==0&&(f===null||(Pn.current&1)!==0?sr===0&&(sr=3):sC())),p.updateQueue!==null&&(p.flags|=4),Qr(p),null);case 4:return Sd(),HS(f,p),f===null&&lp(p.stateNode.containerInfo),Qr(p),null;case 10:return xS(p.type._context),Qr(p),null;case 17:return Ei(p.type)&&Cv(),Qr(p),null;case 19:if(hn(Pn),k=p.memoizedState,k===null)return Qr(p),null;if(w=(p.flags&128)!==0,R=k.rendering,R===null)if(w)bp(k,!1);else{if(sr!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(R=Mv(f),R!==null){for(p.flags|=128,bp(k,!1),w=R.updateQueue,w!==null&&(p.updateQueue=w,p.flags|=4),p.subtreeFlags=0,w=v,v=p.child;v!==null;)k=v,f=w,k.flags&=14680066,R=k.alternate,R===null?(k.childLanes=0,k.lanes=f,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=R.childLanes,k.lanes=R.lanes,k.child=R.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=R.memoizedProps,k.memoizedState=R.memoizedState,k.updateQueue=R.updateQueue,k.type=R.type,f=R.dependencies,k.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),v=v.sibling;return cn(Pn,Pn.current&1|2),p.child}f=f.sibling}k.tail!==null&&ln()>Td&&(p.flags|=128,w=!0,bp(k,!1),p.lanes=4194304)}else{if(!w)if(f=Mv(R),f!==null){if(p.flags|=128,w=!0,v=f.updateQueue,v!==null&&(p.updateQueue=v,p.flags|=4),bp(k,!0),k.tail===null&&k.tailMode==="hidden"&&!R.alternate&&!Sn)return Qr(p),null}else 2*ln()-k.renderingStartTime>Td&&v!==1073741824&&(p.flags|=128,w=!0,bp(k,!1),p.lanes=4194304);k.isBackwards?(R.sibling=p.child,p.child=R):(v=k.last,v!==null?v.sibling=R:p.child=R,k.last=R)}return k.tail!==null?(p=k.tail,k.rendering=p,k.tail=p.sibling,k.renderingStartTime=ln(),p.sibling=null,v=Pn.current,cn(Pn,w?v&1|2:v&1),p):(Qr(p),null);case 22:case 23:return iC(),w=p.memoizedState!==null,f!==null&&f.memoizedState!==null!==w&&(p.flags|=8192),w&&(p.mode&1)!==0?(qi&1073741824)!==0&&(Qr(p),p.subtreeFlags&6&&(p.flags|=8192)):Qr(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function Aoe(f,p){switch(hS(p),p.tag){case 1:return Ei(p.type)&&Cv(),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return Sd(),hn(ji),hn(Kr),TS(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 5:return NS(p),null;case 13:if(hn(Pn),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(n(340));vd()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return hn(Pn),null;case 4:return Sd(),null;case 10:return xS(p.type._context),null;case 22:case 23:return iC(),null;case 24:return null;default:return null}}var Uv=!1,Yr=!1,joe=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Nd(f,p){var v=f.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(w){_n(f,p,w)}else v.current=null}function WS(f,p,v){try{v()}catch(w){_n(f,p,w)}}var eR=!1;function Eoe(f,p){if(iS=cv,f=$4(),Y2(f)){if("selectionStart"in f)var v={start:f.selectionStart,end:f.selectionEnd};else e:{v=(v=f.ownerDocument)&&v.defaultView||window;var w=v.getSelection&&v.getSelection();if(w&&w.rangeCount!==0){v=w.anchorNode;var A=w.anchorOffset,k=w.focusNode;w=w.focusOffset;try{v.nodeType,k.nodeType}catch{v=null;break e}var R=0,G=-1,Z=-1,re=0,ve=0,we=f,ye=null;t:for(;;){for(var Be;we!==v||A!==0&&we.nodeType!==3||(G=R+A),we!==k||w!==0&&we.nodeType!==3||(Z=R+w),we.nodeType===3&&(R+=we.nodeValue.length),(Be=we.firstChild)!==null;)ye=we,we=Be;for(;;){if(we===f)break t;if(ye===v&&++re===A&&(G=R),ye===k&&++ve===w&&(Z=R),(Be=we.nextSibling)!==null)break;we=ye,ye=we.parentNode}we=Be}v=G===-1||Z===-1?null:{start:G,end:Z}}else v=null}v=v||{start:0,end:0}}else v=null;for(sS={focusedElem:f,selectionRange:v},cv=!1,Ue=p;Ue!==null;)if(p=Ue,f=p.child,(p.subtreeFlags&1028)!==0&&f!==null)f.return=p,Ue=f;else for(;Ue!==null;){p=Ue;try{var We=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(We!==null){var Ke=We.memoizedProps,Bn=We.memoizedState,ee=p.stateNode,J=ee.getSnapshotBeforeUpdate(p.elementType===p.type?Ke:Bs(p.type,Ke),Bn);ee.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var ne=p.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(je){_n(p,p.return,je)}if(f=p.sibling,f!==null){f.return=p.return,Ue=f;break}Ue=p.return}return We=eR,eR=!1,We}function wp(f,p,v){var w=p.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var A=w=w.next;do{if((A.tag&f)===f){var k=A.destroy;A.destroy=void 0,k!==void 0&&WS(p,v,k)}A=A.next}while(A!==w)}}function qv(f,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&f)===f){var w=v.create;v.destroy=w()}v=v.next}while(v!==p)}}function KS(f){var p=f.ref;if(p!==null){var v=f.stateNode;f.tag,f=v,typeof p=="function"?p(f):p.current=f}}function tR(f){var p=f.alternate;p!==null&&(f.alternate=null,tR(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&(delete p[Co],delete p[up],delete p[cS],delete p[doe],delete p[foe])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function nR(f){return f.tag===5||f.tag===3||f.tag===4}function rR(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||nR(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function GS(f,p,v){var w=f.tag;if(w===5||w===6)f=f.stateNode,p?v.nodeType===8?v.parentNode.insertBefore(f,p):v.insertBefore(f,p):(v.nodeType===8?(p=v.parentNode,p.insertBefore(f,v)):(p=v,p.appendChild(f)),v=v._reactRootContainer,v!=null||p.onclick!==null||(p.onclick=wv));else if(w!==4&&(f=f.child,f!==null))for(GS(f,p,v),f=f.sibling;f!==null;)GS(f,p,v),f=f.sibling}function QS(f,p,v){var w=f.tag;if(w===5||w===6)f=f.stateNode,p?v.insertBefore(f,p):v.appendChild(f);else if(w!==4&&(f=f.child,f!==null))for(QS(f,p,v),f=f.sibling;f!==null;)QS(f,p,v),f=f.sibling}var $r=null,Vs=!1;function vl(f,p,v){for(v=v.child;v!==null;)iR(f,p,v),v=v.sibling}function iR(f,p,v){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Ai,v)}catch{}switch(v.tag){case 5:Yr||Nd(v,p);case 6:var w=$r,A=Vs;$r=null,vl(f,p,v),$r=w,Vs=A,$r!==null&&(Vs?(f=$r,v=v.stateNode,f.nodeType===8?f.parentNode.removeChild(v):f.removeChild(v)):$r.removeChild(v.stateNode));break;case 18:$r!==null&&(Vs?(f=$r,v=v.stateNode,f.nodeType===8?lS(f.parentNode,v):f.nodeType===1&&lS(f,v),Jh(f)):lS($r,v.stateNode));break;case 4:w=$r,A=Vs,$r=v.stateNode.containerInfo,Vs=!0,vl(f,p,v),$r=w,Vs=A;break;case 0:case 11:case 14:case 15:if(!Yr&&(w=v.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){A=w=w.next;do{var k=A,R=k.destroy;k=k.tag,R!==void 0&&((k&2)!==0||(k&4)!==0)&&WS(v,p,R),A=A.next}while(A!==w)}vl(f,p,v);break;case 1:if(!Yr&&(Nd(v,p),w=v.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=v.memoizedProps,w.state=v.memoizedState,w.componentWillUnmount()}catch(G){_n(v,p,G)}vl(f,p,v);break;case 21:vl(f,p,v);break;case 22:v.mode&1?(Yr=(w=Yr)||v.memoizedState!==null,vl(f,p,v),Yr=w):vl(f,p,v);break;default:vl(f,p,v)}}function sR(f){var p=f.updateQueue;if(p!==null){f.updateQueue=null;var v=f.stateNode;v===null&&(v=f.stateNode=new joe),p.forEach(function(w){var A=Loe.bind(null,f,w);v.has(w)||(v.add(w),w.then(A,A))})}}function zs(f,p){var v=p.deletions;if(v!==null)for(var w=0;w<v.length;w++){var A=v[w];try{var k=f,R=p,G=R;e:for(;G!==null;){switch(G.tag){case 5:$r=G.stateNode,Vs=!1;break e;case 3:$r=G.stateNode.containerInfo,Vs=!0;break e;case 4:$r=G.stateNode.containerInfo,Vs=!0;break e}G=G.return}if($r===null)throw Error(n(160));iR(k,R,A),$r=null,Vs=!1;var Z=A.alternate;Z!==null&&(Z.return=null),A.return=null}catch(re){_n(A,p,re)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)oR(p,f),p=p.sibling}function oR(f,p){var v=f.alternate,w=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(zs(p,f),To(f),w&4){try{wp(3,f,f.return),qv(3,f)}catch(Ke){_n(f,f.return,Ke)}try{wp(5,f,f.return)}catch(Ke){_n(f,f.return,Ke)}}break;case 1:zs(p,f),To(f),w&512&&v!==null&&Nd(v,v.return);break;case 5:if(zs(p,f),To(f),w&512&&v!==null&&Nd(v,v.return),f.flags&32){var A=f.stateNode;try{Kt(A,"")}catch(Ke){_n(f,f.return,Ke)}}if(w&4&&(A=f.stateNode,A!=null)){var k=f.memoizedProps,R=v!==null?v.memoizedProps:k,G=f.type,Z=f.updateQueue;if(f.updateQueue=null,Z!==null)try{G==="input"&&k.type==="radio"&&k.name!=null&&ot(A,k),$n(G,R);var re=$n(G,k);for(R=0;R<Z.length;R+=2){var ve=Z[R],we=Z[R+1];ve==="style"?Is(A,we):ve==="dangerouslySetInnerHTML"?wt(A,we):ve==="children"?Kt(A,we):T(A,ve,we,re)}switch(G){case"input":Ut(A,k);break;case"textarea":ie(A,k);break;case"select":var ye=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!k.multiple;var Be=k.value;Be!=null?Fn(A,!!k.multiple,Be,!1):ye!==!!k.multiple&&(k.defaultValue!=null?Fn(A,!!k.multiple,k.defaultValue,!0):Fn(A,!!k.multiple,k.multiple?[]:"",!1))}A[up]=k}catch(Ke){_n(f,f.return,Ke)}}break;case 6:if(zs(p,f),To(f),w&4){if(f.stateNode===null)throw Error(n(162));A=f.stateNode,k=f.memoizedProps;try{A.nodeValue=k}catch(Ke){_n(f,f.return,Ke)}}break;case 3:if(zs(p,f),To(f),w&4&&v!==null&&v.memoizedState.isDehydrated)try{Jh(p.containerInfo)}catch(Ke){_n(f,f.return,Ke)}break;case 4:zs(p,f),To(f);break;case 13:zs(p,f),To(f),A=f.child,A.flags&8192&&(k=A.memoizedState!==null,A.stateNode.isHidden=k,!k||A.alternate!==null&&A.alternate.memoizedState!==null||(ZS=ln())),w&4&&sR(f);break;case 22:if(ve=v!==null&&v.memoizedState!==null,f.mode&1?(Yr=(re=Yr)||ve,zs(p,f),Yr=re):zs(p,f),To(f),w&8192){if(re=f.memoizedState!==null,(f.stateNode.isHidden=re)&&!ve&&(f.mode&1)!==0)for(Ue=f,ve=f.child;ve!==null;){for(we=Ue=ve;Ue!==null;){switch(ye=Ue,Be=ye.child,ye.tag){case 0:case 11:case 14:case 15:wp(4,ye,ye.return);break;case 1:Nd(ye,ye.return);var We=ye.stateNode;if(typeof We.componentWillUnmount=="function"){w=ye,v=ye.return;try{p=w,We.props=p.memoizedProps,We.state=p.memoizedState,We.componentWillUnmount()}catch(Ke){_n(w,v,Ke)}}break;case 5:Nd(ye,ye.return);break;case 22:if(ye.memoizedState!==null){cR(we);continue}}Be!==null?(Be.return=ye,Ue=Be):cR(we)}ve=ve.sibling}e:for(ve=null,we=f;;){if(we.tag===5){if(ve===null){ve=we;try{A=we.stateNode,re?(k=A.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(G=we.stateNode,Z=we.memoizedProps.style,R=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,G.style.display=So("display",R))}catch(Ke){_n(f,f.return,Ke)}}}else if(we.tag===6){if(ve===null)try{we.stateNode.nodeValue=re?"":we.memoizedProps}catch(Ke){_n(f,f.return,Ke)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===f)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===f)break e;for(;we.sibling===null;){if(we.return===null||we.return===f)break e;ve===we&&(ve=null),we=we.return}ve===we&&(ve=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:zs(p,f),To(f),w&4&&sR(f);break;case 21:break;default:zs(p,f),To(f)}}function To(f){var p=f.flags;if(p&2){try{e:{for(var v=f.return;v!==null;){if(nR(v)){var w=v;break e}v=v.return}throw Error(n(160))}switch(w.tag){case 5:var A=w.stateNode;w.flags&32&&(Kt(A,""),w.flags&=-33);var k=rR(f);QS(f,k,A);break;case 3:case 4:var R=w.stateNode.containerInfo,G=rR(f);GS(f,G,R);break;default:throw Error(n(161))}}catch(Z){_n(f,f.return,Z)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function koe(f,p,v){Ue=f,aR(f)}function aR(f,p,v){for(var w=(f.mode&1)!==0;Ue!==null;){var A=Ue,k=A.child;if(A.tag===22&&w){var R=A.memoizedState!==null||Uv;if(!R){var G=A.alternate,Z=G!==null&&G.memoizedState!==null||Yr;G=Uv;var re=Yr;if(Uv=R,(Yr=Z)&&!re)for(Ue=A;Ue!==null;)R=Ue,Z=R.child,R.tag===22&&R.memoizedState!==null?uR(A):Z!==null?(Z.return=R,Ue=Z):uR(A);for(;k!==null;)Ue=k,aR(k),k=k.sibling;Ue=A,Uv=G,Yr=re}lR(f)}else(A.subtreeFlags&8772)!==0&&k!==null?(k.return=A,Ue=k):lR(f)}}function lR(f){for(;Ue!==null;){var p=Ue;if((p.flags&8772)!==0){var v=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:Yr||qv(5,p);break;case 1:var w=p.stateNode;if(p.flags&4&&!Yr)if(v===null)w.componentDidMount();else{var A=p.elementType===p.type?v.memoizedProps:Bs(p.type,v.memoizedProps);w.componentDidUpdate(A,v.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var k=p.updateQueue;k!==null&&cI(p,k,w);break;case 3:var R=p.updateQueue;if(R!==null){if(v=null,p.child!==null)switch(p.child.tag){case 5:v=p.child.stateNode;break;case 1:v=p.child.stateNode}cI(p,R,v)}break;case 5:var G=p.stateNode;if(v===null&&p.flags&4){v=G;var Z=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&v.focus();break;case"img":Z.src&&(v.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var re=p.alternate;if(re!==null){var ve=re.memoizedState;if(ve!==null){var we=ve.dehydrated;we!==null&&Jh(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Yr||p.flags&512&&KS(p)}catch(ye){_n(p,p.return,ye)}}if(p===f){Ue=null;break}if(v=p.sibling,v!==null){v.return=p.return,Ue=v;break}Ue=p.return}}function cR(f){for(;Ue!==null;){var p=Ue;if(p===f){Ue=null;break}var v=p.sibling;if(v!==null){v.return=p.return,Ue=v;break}Ue=p.return}}function uR(f){for(;Ue!==null;){var p=Ue;try{switch(p.tag){case 0:case 11:case 15:var v=p.return;try{qv(4,p)}catch(Z){_n(p,v,Z)}break;case 1:var w=p.stateNode;if(typeof w.componentDidMount=="function"){var A=p.return;try{w.componentDidMount()}catch(Z){_n(p,A,Z)}}var k=p.return;try{KS(p)}catch(Z){_n(p,k,Z)}break;case 5:var R=p.return;try{KS(p)}catch(Z){_n(p,R,Z)}}}catch(Z){_n(p,p.return,Z)}if(p===f){Ue=null;break}var G=p.sibling;if(G!==null){G.return=p.return,Ue=G;break}Ue=p.return}}var Ooe=Math.ceil,Hv=j.ReactCurrentDispatcher,YS=j.ReactCurrentOwner,ms=j.ReactCurrentBatchConfig,Lt=0,xr=null,Yn=null,_r=0,qi=0,Pd=hl(0),sr=0,Sp=null,Fc=0,Wv=0,XS=0,Cp=null,Oi=null,ZS=0,Td=1/0,la=null,Kv=!1,JS=null,xl=null,Gv=!1,bl=null,Qv=0,Np=0,eC=null,Yv=-1,Xv=0;function hi(){return(Lt&6)!==0?ln():Yv!==-1?Yv:Yv=ln()}function wl(f){return(f.mode&1)===0?1:(Lt&2)!==0&&_r!==0?_r&-_r:poe.transition!==null?(Xv===0&&(Xv=r4()),Xv):(f=Gt,f!==0||(f=window.event,f=f===void 0?16:f4(f.type)),f)}function Us(f,p,v,w){if(50<Np)throw Np=0,eC=null,Error(n(185));Gh(f,v,w),((Lt&2)===0||f!==xr)&&(f===xr&&((Lt&2)===0&&(Wv|=v),sr===4&&Sl(f,_r)),$i(f,w),v===1&&Lt===0&&(p.mode&1)===0&&(Td=ln()+500,Pv&&ml()))}function $i(f,p){var v=f.callbackNode;pse(f,p);var w=ov(f,f===xr?_r:0);if(w===0)v!==null&&rv(v),f.callbackNode=null,f.callbackPriority=0;else if(p=w&-w,f.callbackPriority!==p){if(v!=null&&rv(v),p===1)f.tag===0?hoe(fR.bind(null,f)):X4(fR.bind(null,f)),coe(function(){(Lt&6)===0&&ml()}),v=null;else{switch(i4(w)){case 1:v=K;break;case 4:v=ke;break;case 16:v=Tt;break;case 536870912:v=ui;break;default:v=Tt}v=bR(v,dR.bind(null,f))}f.callbackPriority=p,f.callbackNode=v}}function dR(f,p){if(Yv=-1,Xv=0,(Lt&6)!==0)throw Error(n(327));var v=f.callbackNode;if(Ad()&&f.callbackNode!==v)return null;var w=ov(f,f===xr?_r:0);if(w===0)return null;if((w&30)!==0||(w&f.expiredLanes)!==0||p)p=Zv(f,w);else{p=w;var A=Lt;Lt|=2;var k=pR();(xr!==f||_r!==p)&&(la=null,Td=ln()+500,Vc(f,p));do try{Moe();break}catch(G){hR(f,G)}while(!0);vS(),Hv.current=k,Lt=A,Yn!==null?p=0:(xr=null,_r=0,p=sr)}if(p!==0){if(p===2&&(A=M2(f),A!==0&&(w=A,p=tC(f,A))),p===1)throw v=Sp,Vc(f,0),Sl(f,w),$i(f,ln()),v;if(p===6)Sl(f,w);else{if(A=f.current.alternate,(w&30)===0&&!$oe(A)&&(p=Zv(f,w),p===2&&(k=M2(f),k!==0&&(w=k,p=tC(f,k))),p===1))throw v=Sp,Vc(f,0),Sl(f,w),$i(f,ln()),v;switch(f.finishedWork=A,f.finishedLanes=w,p){case 0:case 1:throw Error(n(345));case 2:zc(f,Oi,la);break;case 3:if(Sl(f,w),(w&130023424)===w&&(p=ZS+500-ln(),10<p)){if(ov(f,0)!==0)break;if(A=f.suspendedLanes,(A&w)!==w){hi(),f.pingedLanes|=f.suspendedLanes&A;break}f.timeoutHandle=aS(zc.bind(null,f,Oi,la),p);break}zc(f,Oi,la);break;case 4:if(Sl(f,w),(w&4194240)===w)break;for(p=f.eventTimes,A=-1;0<w;){var R=31-di(w);k=1<<R,R=p[R],R>A&&(A=R),w&=~k}if(w=A,w=ln()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*Ooe(w/1960))-w,10<w){f.timeoutHandle=aS(zc.bind(null,f,Oi,la),w);break}zc(f,Oi,la);break;case 5:zc(f,Oi,la);break;default:throw Error(n(329))}}}return $i(f,ln()),f.callbackNode===v?dR.bind(null,f):null}function tC(f,p){var v=Cp;return f.current.memoizedState.isDehydrated&&(Vc(f,p).flags|=256),f=Zv(f,p),f!==2&&(p=Oi,Oi=v,p!==null&&nC(p)),f}function nC(f){Oi===null?Oi=f:Oi.push.apply(Oi,f)}function $oe(f){for(var p=f;;){if(p.flags&16384){var v=p.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var w=0;w<v.length;w++){var A=v[w],k=A.getSnapshot;A=A.value;try{if(!Ls(k(),A))return!1}catch{return!1}}}if(v=p.child,p.subtreeFlags&16384&&v!==null)v.return=p,p=v;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Sl(f,p){for(p&=~XS,p&=~Wv,f.suspendedLanes|=p,f.pingedLanes&=~p,f=f.expirationTimes;0<p;){var v=31-di(p),w=1<<v;f[v]=-1,p&=~w}}function fR(f){if((Lt&6)!==0)throw Error(n(327));Ad();var p=ov(f,0);if((p&1)===0)return $i(f,ln()),null;var v=Zv(f,p);if(f.tag!==0&&v===2){var w=M2(f);w!==0&&(p=w,v=tC(f,w))}if(v===1)throw v=Sp,Vc(f,0),Sl(f,p),$i(f,ln()),v;if(v===6)throw Error(n(345));return f.finishedWork=f.current.alternate,f.finishedLanes=p,zc(f,Oi,la),$i(f,ln()),null}function rC(f,p){var v=Lt;Lt|=1;try{return f(p)}finally{Lt=v,Lt===0&&(Td=ln()+500,Pv&&ml())}}function Bc(f){bl!==null&&bl.tag===0&&(Lt&6)===0&&Ad();var p=Lt;Lt|=1;var v=ms.transition,w=Gt;try{if(ms.transition=null,Gt=1,f)return f()}finally{Gt=w,ms.transition=v,Lt=p,(Lt&6)===0&&ml()}}function iC(){qi=Pd.current,hn(Pd)}function Vc(f,p){f.finishedWork=null,f.finishedLanes=0;var v=f.timeoutHandle;if(v!==-1&&(f.timeoutHandle=-1,loe(v)),Yn!==null)for(v=Yn.return;v!==null;){var w=v;switch(hS(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Cv();break;case 3:Sd(),hn(ji),hn(Kr),TS();break;case 5:NS(w);break;case 4:Sd();break;case 13:hn(Pn);break;case 19:hn(Pn);break;case 10:xS(w.type._context);break;case 22:case 23:iC()}v=v.return}if(xr=f,Yn=f=Cl(f.current,null),_r=qi=p,sr=0,Sp=null,XS=Wv=Fc=0,Oi=Cp=null,Rc!==null){for(p=0;p<Rc.length;p++)if(v=Rc[p],w=v.interleaved,w!==null){v.interleaved=null;var A=w.next,k=v.pending;if(k!==null){var R=k.next;k.next=A,w.next=R}v.pending=w}Rc=null}return f}function hR(f,p){do{var v=Yn;try{if(vS(),Iv.current=Fv,Rv){for(var w=Tn.memoizedState;w!==null;){var A=w.queue;A!==null&&(A.pending=null),w=w.next}Rv=!1}if(Lc=0,vr=ir=Tn=null,gp=!1,yp=0,YS.current=null,v===null||v.return===null){sr=1,Sp=p,Yn=null;break}e:{var k=f,R=v.return,G=v,Z=p;if(p=_r,G.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var re=Z,ve=G,we=ve.tag;if((ve.mode&1)===0&&(we===0||we===11||we===15)){var ye=ve.alternate;ye?(ve.updateQueue=ye.updateQueue,ve.memoizedState=ye.memoizedState,ve.lanes=ye.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Be=LI(R);if(Be!==null){Be.flags&=-257,FI(Be,R,G,k,p),Be.mode&1&&DI(k,re,p),p=Be,Z=re;var We=p.updateQueue;if(We===null){var Ke=new Set;Ke.add(Z),p.updateQueue=Ke}else We.add(Z);break e}else{if((p&1)===0){DI(k,re,p),sC();break e}Z=Error(n(426))}}else if(Sn&&G.mode&1){var Bn=LI(R);if(Bn!==null){(Bn.flags&65536)===0&&(Bn.flags|=256),FI(Bn,R,G,k,p),gS(Cd(Z,G));break e}}k=Z=Cd(Z,G),sr!==4&&(sr=2),Cp===null?Cp=[k]:Cp.push(k),k=R;do{switch(k.tag){case 3:k.flags|=65536,p&=-p,k.lanes|=p;var ee=II(k,Z,p);lI(k,ee);break e;case 1:G=Z;var J=k.type,ne=k.stateNode;if((k.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(xl===null||!xl.has(ne)))){k.flags|=65536,p&=-p,k.lanes|=p;var je=RI(k,G,p);lI(k,je);break e}}k=k.return}while(k!==null)}gR(v)}catch(Ge){p=Ge,Yn===v&&v!==null&&(Yn=v=v.return);continue}break}while(!0)}function pR(){var f=Hv.current;return Hv.current=Fv,f===null?Fv:f}function sC(){(sr===0||sr===3||sr===2)&&(sr=4),xr===null||(Fc&268435455)===0&&(Wv&268435455)===0||Sl(xr,_r)}function Zv(f,p){var v=Lt;Lt|=2;var w=pR();(xr!==f||_r!==p)&&(la=null,Vc(f,p));do try{_oe();break}catch(A){hR(f,A)}while(!0);if(vS(),Lt=v,Hv.current=w,Yn!==null)throw Error(n(261));return xr=null,_r=0,sr}function _oe(){for(;Yn!==null;)mR(Yn)}function Moe(){for(;Yn!==null&&!O2();)mR(Yn)}function mR(f){var p=xR(f.alternate,f,qi);f.memoizedProps=f.pendingProps,p===null?gR(f):Yn=p,YS.current=null}function gR(f){var p=f;do{var v=p.alternate;if(f=p.return,(p.flags&32768)===0){if(v=Toe(v,p,qi),v!==null){Yn=v;return}}else{if(v=Aoe(v,p),v!==null){v.flags&=32767,Yn=v;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{sr=6,Yn=null;return}}if(p=p.sibling,p!==null){Yn=p;return}Yn=p=f}while(p!==null);sr===0&&(sr=5)}function zc(f,p,v){var w=Gt,A=ms.transition;try{ms.transition=null,Gt=1,Ioe(f,p,v,w)}finally{ms.transition=A,Gt=w}return null}function Ioe(f,p,v,w){do Ad();while(bl!==null);if((Lt&6)!==0)throw Error(n(327));v=f.finishedWork;var A=f.finishedLanes;if(v===null)return null;if(f.finishedWork=null,f.finishedLanes=0,v===f.current)throw Error(n(177));f.callbackNode=null,f.callbackPriority=0;var k=v.lanes|v.childLanes;if(mse(f,k),f===xr&&(Yn=xr=null,_r=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||Gv||(Gv=!0,bR(Tt,function(){return Ad(),null})),k=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||k){k=ms.transition,ms.transition=null;var R=Gt;Gt=1;var G=Lt;Lt|=4,YS.current=null,Eoe(f,v),oR(v,f),toe(sS),cv=!!iS,sS=iS=null,f.current=v,koe(v),$2(),Lt=G,Gt=R,ms.transition=k}else f.current=v;if(Gv&&(Gv=!1,bl=f,Qv=A),k=f.pendingLanes,k===0&&(xl=null),Ds(v.stateNode),$i(f,ln()),p!==null)for(w=f.onRecoverableError,v=0;v<p.length;v++)A=p[v],w(A.value,{componentStack:A.stack,digest:A.digest});if(Kv)throw Kv=!1,f=JS,JS=null,f;return(Qv&1)!==0&&f.tag!==0&&Ad(),k=f.pendingLanes,(k&1)!==0?f===eC?Np++:(Np=0,eC=f):Np=0,ml(),null}function Ad(){if(bl!==null){var f=i4(Qv),p=ms.transition,v=Gt;try{if(ms.transition=null,Gt=16>f?16:f,bl===null)var w=!1;else{if(f=bl,bl=null,Qv=0,(Lt&6)!==0)throw Error(n(331));var A=Lt;for(Lt|=4,Ue=f.current;Ue!==null;){var k=Ue,R=k.child;if((Ue.flags&16)!==0){var G=k.deletions;if(G!==null){for(var Z=0;Z<G.length;Z++){var re=G[Z];for(Ue=re;Ue!==null;){var ve=Ue;switch(ve.tag){case 0:case 11:case 15:wp(8,ve,k)}var we=ve.child;if(we!==null)we.return=ve,Ue=we;else for(;Ue!==null;){ve=Ue;var ye=ve.sibling,Be=ve.return;if(tR(ve),ve===re){Ue=null;break}if(ye!==null){ye.return=Be,Ue=ye;break}Ue=Be}}}var We=k.alternate;if(We!==null){var Ke=We.child;if(Ke!==null){We.child=null;do{var Bn=Ke.sibling;Ke.sibling=null,Ke=Bn}while(Ke!==null)}}Ue=k}}if((k.subtreeFlags&2064)!==0&&R!==null)R.return=k,Ue=R;else e:for(;Ue!==null;){if(k=Ue,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:wp(9,k,k.return)}var ee=k.sibling;if(ee!==null){ee.return=k.return,Ue=ee;break e}Ue=k.return}}var J=f.current;for(Ue=J;Ue!==null;){R=Ue;var ne=R.child;if((R.subtreeFlags&2064)!==0&&ne!==null)ne.return=R,Ue=ne;else e:for(R=J;Ue!==null;){if(G=Ue,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:qv(9,G)}}catch(Ge){_n(G,G.return,Ge)}if(G===R){Ue=null;break e}var je=G.sibling;if(je!==null){je.return=G.return,Ue=je;break e}Ue=G.return}}if(Lt=A,ml(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Ai,f)}catch{}w=!0}return w}finally{Gt=v,ms.transition=p}}return!1}function yR(f,p,v){p=Cd(v,p),p=II(f,p,1),f=yl(f,p,1),p=hi(),f!==null&&(Gh(f,1,p),$i(f,p))}function _n(f,p,v){if(f.tag===3)yR(f,f,v);else for(;p!==null;){if(p.tag===3){yR(p,f,v);break}else if(p.tag===1){var w=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(xl===null||!xl.has(w))){f=Cd(v,f),f=RI(p,f,1),p=yl(p,f,1),f=hi(),p!==null&&(Gh(p,1,f),$i(p,f));break}}p=p.return}}function Roe(f,p,v){var w=f.pingCache;w!==null&&w.delete(p),p=hi(),f.pingedLanes|=f.suspendedLanes&v,xr===f&&(_r&v)===v&&(sr===4||sr===3&&(_r&130023424)===_r&&500>ln()-ZS?Vc(f,0):XS|=v),$i(f,p)}function vR(f,p){p===0&&((f.mode&1)===0?p=1:(p=sv,sv<<=1,(sv&130023424)===0&&(sv=4194304)));var v=hi();f=sa(f,p),f!==null&&(Gh(f,p,v),$i(f,v))}function Doe(f){var p=f.memoizedState,v=0;p!==null&&(v=p.retryLane),vR(f,v)}function Loe(f,p){var v=0;switch(f.tag){case 13:var w=f.stateNode,A=f.memoizedState;A!==null&&(v=A.retryLane);break;case 19:w=f.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(p),vR(f,v)}var xR;xR=function(f,p,v){if(f!==null)if(f.memoizedProps!==p.pendingProps||ji.current)ki=!0;else{if((f.lanes&v)===0&&(p.flags&128)===0)return ki=!1,Poe(f,p,v);ki=(f.flags&131072)!==0}else ki=!1,Sn&&(p.flags&1048576)!==0&&Z4(p,Av,p.index);switch(p.lanes=0,p.tag){case 2:var w=p.type;zv(f,p),f=p.pendingProps;var A=md(p,Kr.current);wd(p,v),A=ES(null,p,w,f,A,v);var k=kS();return p.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Ei(w)?(k=!0,Nv(p)):k=!1,p.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,SS(p),A.updater=Bv,p.stateNode=A,A._reactInternals=p,RS(p,w,f,v),p=BS(null,p,w,!0,k,v)):(p.tag=0,Sn&&k&&fS(p),fi(null,p,A,v),p=p.child),p;case 16:w=p.elementType;e:{switch(zv(f,p),f=p.pendingProps,A=w._init,w=A(w._payload),p.type=w,A=p.tag=Boe(w),f=Bs(w,f),A){case 0:p=FS(null,p,w,f,v);break e;case 1:p=HI(null,p,w,f,v);break e;case 11:p=BI(null,p,w,f,v);break e;case 14:p=VI(null,p,w,Bs(w.type,f),v);break e}throw Error(n(306,w,""))}return p;case 0:return w=p.type,A=p.pendingProps,A=p.elementType===w?A:Bs(w,A),FS(f,p,w,A,v);case 1:return w=p.type,A=p.pendingProps,A=p.elementType===w?A:Bs(w,A),HI(f,p,w,A,v);case 3:e:{if(WI(p),f===null)throw Error(n(387));w=p.pendingProps,k=p.memoizedState,A=k.element,aI(f,p),_v(p,w,null,v);var R=p.memoizedState;if(w=R.element,k.isDehydrated)if(k={element:w,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},p.updateQueue.baseState=k,p.memoizedState=k,p.flags&256){A=Cd(Error(n(423)),p),p=KI(f,p,w,v,A);break e}else if(w!==A){A=Cd(Error(n(424)),p),p=KI(f,p,w,v,A);break e}else for(Ui=fl(p.stateNode.containerInfo.firstChild),zi=p,Sn=!0,Fs=null,v=sI(p,null,w,v),p.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(vd(),w===A){p=aa(f,p,v);break e}fi(f,p,w,v)}p=p.child}return p;case 5:return uI(p),f===null&&mS(p),w=p.type,A=p.pendingProps,k=f!==null?f.memoizedProps:null,R=A.children,oS(w,A)?R=null:k!==null&&oS(w,k)&&(p.flags|=32),qI(f,p),fi(f,p,R,v),p.child;case 6:return f===null&&mS(p),null;case 13:return GI(f,p,v);case 4:return CS(p,p.stateNode.containerInfo),w=p.pendingProps,f===null?p.child=xd(p,null,w,v):fi(f,p,w,v),p.child;case 11:return w=p.type,A=p.pendingProps,A=p.elementType===w?A:Bs(w,A),BI(f,p,w,A,v);case 7:return fi(f,p,p.pendingProps,v),p.child;case 8:return fi(f,p,p.pendingProps.children,v),p.child;case 12:return fi(f,p,p.pendingProps.children,v),p.child;case 10:e:{if(w=p.type._context,A=p.pendingProps,k=p.memoizedProps,R=A.value,cn(kv,w._currentValue),w._currentValue=R,k!==null)if(Ls(k.value,R)){if(k.children===A.children&&!ji.current){p=aa(f,p,v);break e}}else for(k=p.child,k!==null&&(k.return=p);k!==null;){var G=k.dependencies;if(G!==null){R=k.child;for(var Z=G.firstContext;Z!==null;){if(Z.context===w){if(k.tag===1){Z=oa(-1,v&-v),Z.tag=2;var re=k.updateQueue;if(re!==null){re=re.shared;var ve=re.pending;ve===null?Z.next=Z:(Z.next=ve.next,ve.next=Z),re.pending=Z}}k.lanes|=v,Z=k.alternate,Z!==null&&(Z.lanes|=v),bS(k.return,v,p),G.lanes|=v;break}Z=Z.next}}else if(k.tag===10)R=k.type===p.type?null:k.child;else if(k.tag===18){if(R=k.return,R===null)throw Error(n(341));R.lanes|=v,G=R.alternate,G!==null&&(G.lanes|=v),bS(R,v,p),R=k.sibling}else R=k.child;if(R!==null)R.return=k;else for(R=k;R!==null;){if(R===p){R=null;break}if(k=R.sibling,k!==null){k.return=R.return,R=k;break}R=R.return}k=R}fi(f,p,A.children,v),p=p.child}return p;case 9:return A=p.type,w=p.pendingProps.children,wd(p,v),A=hs(A),w=w(A),p.flags|=1,fi(f,p,w,v),p.child;case 14:return w=p.type,A=Bs(w,p.pendingProps),A=Bs(w.type,A),VI(f,p,w,A,v);case 15:return zI(f,p,p.type,p.pendingProps,v);case 17:return w=p.type,A=p.pendingProps,A=p.elementType===w?A:Bs(w,A),zv(f,p),p.tag=1,Ei(w)?(f=!0,Nv(p)):f=!1,wd(p,v),_I(p,w,A),RS(p,w,A,v),BS(null,p,w,!0,f,v);case 19:return YI(f,p,v);case 22:return UI(f,p,v)}throw Error(n(156,p.tag))};function bR(f,p){return nv(f,p)}function Foe(f,p,v,w){this.tag=f,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gs(f,p,v,w){return new Foe(f,p,v,w)}function oC(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Boe(f){if(typeof f=="function")return oC(f)?1:0;if(f!=null){if(f=f.$$typeof,f===V)return 11;if(f===z)return 14}return 2}function Cl(f,p){var v=f.alternate;return v===null?(v=gs(f.tag,p,f.key,f.mode),v.elementType=f.elementType,v.type=f.type,v.stateNode=f.stateNode,v.alternate=f,f.alternate=v):(v.pendingProps=p,v.type=f.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=f.flags&14680064,v.childLanes=f.childLanes,v.lanes=f.lanes,v.child=f.child,v.memoizedProps=f.memoizedProps,v.memoizedState=f.memoizedState,v.updateQueue=f.updateQueue,p=f.dependencies,v.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},v.sibling=f.sibling,v.index=f.index,v.ref=f.ref,v}function Jv(f,p,v,w,A,k){var R=2;if(w=f,typeof f=="function")oC(f)&&(R=1);else if(typeof f=="string")R=5;else e:switch(f){case O:return Uc(v.children,A,k,p);case _:R=8,A|=8;break;case $:return f=gs(12,v,p,A|2),f.elementType=$,f.lanes=k,f;case U:return f=gs(13,v,p,A),f.elementType=U,f.lanes=k,f;case L:return f=gs(19,v,p,A),f.elementType=L,f.lanes=k,f;case q:return e0(v,A,k,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case B:R=10;break e;case I:R=9;break e;case V:R=11;break e;case z:R=14;break e;case F:R=16,w=null;break e}throw Error(n(130,f==null?f:typeof f,""))}return p=gs(R,v,p,A),p.elementType=f,p.type=w,p.lanes=k,p}function Uc(f,p,v,w){return f=gs(7,f,w,p),f.lanes=v,f}function e0(f,p,v,w){return f=gs(22,f,w,p),f.elementType=q,f.lanes=v,f.stateNode={isHidden:!1},f}function aC(f,p,v){return f=gs(6,f,null,p),f.lanes=v,f}function lC(f,p,v){return p=gs(4,f.children!==null?f.children:[],f.key,p),p.lanes=v,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function Voe(f,p,v,w,A){this.tag=p,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=I2(0),this.expirationTimes=I2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I2(0),this.identifierPrefix=w,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function cC(f,p,v,w,A,k,R,G,Z){return f=new Voe(f,p,v,G,Z),p===1?(p=1,k===!0&&(p|=8)):p=0,k=gs(3,null,null,p),f.current=k,k.stateNode=f,k.memoizedState={element:w,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},SS(k),f}function zoe(f,p,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:w==null?null:""+w,children:f,containerInfo:p,implementation:v}}function wR(f){if(!f)return pl;f=f._reactInternals;e:{if(Jo(f)!==f||f.tag!==1)throw Error(n(170));var p=f;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Ei(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(f.tag===1){var v=f.type;if(Ei(v))return Q4(f,v,p)}return p}function SR(f,p,v,w,A,k,R,G,Z){return f=cC(v,w,!0,f,A,k,R,G,Z),f.context=wR(null),v=f.current,w=hi(),A=wl(v),k=oa(w,A),k.callback=p??null,yl(v,k,A),f.current.lanes=A,Gh(f,A,w),$i(f,w),f}function t0(f,p,v,w){var A=p.current,k=hi(),R=wl(A);return v=wR(v),p.context===null?p.context=v:p.pendingContext=v,p=oa(k,R),p.payload={element:f},w=w===void 0?null:w,w!==null&&(p.callback=w),f=yl(A,p,R),f!==null&&(Us(f,A,R,k),$v(f,A,R)),R}function n0(f){return f=f.current,f.child?(f.child.tag===5,f.child.stateNode):null}function CR(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var v=f.retryLane;f.retryLane=v!==0&&v<p?v:p}}function uC(f,p){CR(f,p),(f=f.alternate)&&CR(f,p)}function Uoe(){return null}var NR=typeof reportError=="function"?reportError:function(f){console.error(f)};function dC(f){this._internalRoot=f}r0.prototype.render=dC.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(n(409));t0(f,p,null,null)},r0.prototype.unmount=dC.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;Bc(function(){t0(null,f,null,null)}),p[ta]=null}};function r0(f){this._internalRoot=f}r0.prototype.unstable_scheduleHydration=function(f){if(f){var p=a4();f={blockedOn:null,target:f,priority:p};for(var v=0;v<cl.length&&p!==0&&p<cl[v].priority;v++);cl.splice(v,0,f),v===0&&u4(f)}};function fC(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function i0(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function PR(){}function qoe(f,p,v,w,A){if(A){if(typeof w=="function"){var k=w;w=function(){var re=n0(R);k.call(re)}}var R=SR(p,w,f,0,null,!1,!1,"",PR);return f._reactRootContainer=R,f[ta]=R.current,lp(f.nodeType===8?f.parentNode:f),Bc(),R}for(;A=f.lastChild;)f.removeChild(A);if(typeof w=="function"){var G=w;w=function(){var re=n0(Z);G.call(re)}}var Z=cC(f,0,!1,null,null,!1,!1,"",PR);return f._reactRootContainer=Z,f[ta]=Z.current,lp(f.nodeType===8?f.parentNode:f),Bc(function(){t0(p,Z,v,w)}),Z}function s0(f,p,v,w,A){var k=v._reactRootContainer;if(k){var R=k;if(typeof A=="function"){var G=A;A=function(){var Z=n0(R);G.call(Z)}}t0(p,R,f,A)}else R=qoe(v,p,f,A,w);return n0(R)}s4=function(f){switch(f.tag){case 3:var p=f.stateNode;if(p.current.memoizedState.isDehydrated){var v=Kh(p.pendingLanes);v!==0&&(R2(p,v|1),$i(p,ln()),(Lt&6)===0&&(Td=ln()+500,ml()))}break;case 13:Bc(function(){var w=sa(f,1);if(w!==null){var A=hi();Us(w,f,1,A)}}),uC(f,1)}},D2=function(f){if(f.tag===13){var p=sa(f,134217728);if(p!==null){var v=hi();Us(p,f,134217728,v)}uC(f,134217728)}},o4=function(f){if(f.tag===13){var p=wl(f),v=sa(f,p);if(v!==null){var w=hi();Us(v,f,p,w)}uC(f,p)}},a4=function(){return Gt},l4=function(f,p){var v=Gt;try{return Gt=f,p()}finally{Gt=v}},us=function(f,p,v){switch(p){case"input":if(Ut(f,v),p=v.name,v.type==="radio"&&p!=null){for(v=f;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<v.length;p++){var w=v[p];if(w!==f&&w.form===f.form){var A=Sv(w);if(!A)throw Error(n(90));oe(w),Ut(w,A)}}}break;case"textarea":ie(f,v);break;case"select":p=v.value,p!=null&&Fn(f,!!v.multiple,p,!1)}},Ti=rC,Jy=Bc;var Hoe={usingClientEntryPoint:!1,Events:[dp,hd,Sv,rr,Wr,rC]},Pp={findFiberByHostInstance:$c,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Woe={bundleType:Pp.bundleType,version:Pp.version,rendererPackageName:Pp.rendererPackageName,rendererConfig:Pp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=sl(f),f===null?null:f.stateNode},findFiberByHostInstance:Pp.findFiberByHostInstance||Uoe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var o0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!o0.isDisabled&&o0.supportsFiber)try{Ai=o0.inject(Woe),Bt=o0}catch{}}return _i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hoe,_i.createPortal=function(f,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fC(p))throw Error(n(200));return zoe(f,p,null,v)},_i.createRoot=function(f,p){if(!fC(f))throw Error(n(299));var v=!1,w="",A=NR;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(w=p.identifierPrefix),p.onRecoverableError!==void 0&&(A=p.onRecoverableError)),p=cC(f,1,!1,null,null,v,!1,w,A),f[ta]=p.current,lp(f.nodeType===8?f.parentNode:f),new dC(p)},_i.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=sl(p),f=f===null?null:f.stateNode,f},_i.flushSync=function(f){return Bc(f)},_i.hydrate=function(f,p,v){if(!i0(p))throw Error(n(200));return s0(null,f,p,!0,v)},_i.hydrateRoot=function(f,p,v){if(!fC(f))throw Error(n(405));var w=v!=null&&v.hydratedSources||null,A=!1,k="",R=NR;if(v!=null&&(v.unstable_strictMode===!0&&(A=!0),v.identifierPrefix!==void 0&&(k=v.identifierPrefix),v.onRecoverableError!==void 0&&(R=v.onRecoverableError)),p=SR(p,null,f,1,v??null,A,!1,k,R),f[ta]=p.current,lp(f),w)for(f=0;f<w.length;f++)v=w[f],A=v._getVersion,A=A(v._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[v,A]:p.mutableSourceEagerHydrationData.push(v,A);return new r0(p)},_i.render=function(f,p,v){if(!i0(p))throw Error(n(200));return s0(null,f,p,!1,v)},_i.unmountComponentAtNode=function(f){if(!i0(f))throw Error(n(40));return f._reactRootContainer?(Bc(function(){s0(null,null,f,!1,function(){f._reactRootContainer=null,f[ta]=null})}),!0):!1},_i.unstable_batchedUpdates=rC,_i.unstable_renderSubtreeIntoContainer=function(f,p,v,w){if(!i0(v))throw Error(n(200));if(f==null||f._reactInternals===void 0)throw Error(n(38));return s0(f,p,v,!1,w)},_i.version="18.3.1-next-f1338f8080-20240426",_i}var _R;function FU(){if(_R)return mC.exports;_R=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mC.exports=eae(),mC.exports}var MR;function tae(){if(MR)return l0;MR=1;var t=FU();return l0.createRoot=t.createRoot,l0.hydrateRoot=t.hydrateRoot,l0}var nae=tae();function rae(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var C=fy();const H=Zt(C),BU=Goe({__proto__:null,default:H},[C]);var vC={exports:{}},xC={};var IR;function iae(){if(IR)return xC;IR=1;var t=fy();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(h,m){var g=m(),y=r({inst:{value:g,getSnapshot:m}}),b=y[0].inst,x=y[1];return s(function(){b.value=g,b.getSnapshot=m,l(b)&&x({inst:b})},[h,g,m]),i(function(){return l(b)&&x({inst:b}),h(function(){l(b)&&x({inst:b})})},[h]),o(g),g}function l(h){var m=h.getSnapshot;h=h.value;try{var g=m();return!n(h,g)}catch{return!0}}function c(h,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return xC.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,xC}var RR;function VU(){return RR||(RR=1,vC.exports=iae()),vC.exports}var oO=VU();const sae=BU.useInsertionEffect,oae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aae=oae?C.useLayoutEffect:C.useEffect,lae=sae||aae,zU=t=>{const e=C.useRef([t,(...n)=>e[0](...n)]).current;return lae(()=>{e[0]=t}),e[1]},cae="popstate",aO="pushState",lO="replaceState",uae="hashchange",DR=[cae,aO,lO,uae],dae=t=>{for(const e of DR)addEventListener(e,t);return()=>{for(const e of DR)removeEventListener(e,t)}},UU=(t,e)=>oO.useSyncExternalStore(dae,t,e),fae=()=>location.search,hae=({ssrSearch:t=""}={})=>UU(fae,()=>t),LR=()=>location.pathname,pae=({ssrPath:t}={})=>UU(LR,t?()=>t:LR),mae=(t,{replace:e=!1,state:n=null}={})=>history[e?lO:aO](n,"",t),gae=(t={})=>[pae(t),mae],FR=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[FR]>"u"){for(const t of[aO,lO]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,FR,{value:!0})}const yae=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",qU=(t="")=>t==="/"?"":t,vae=(t,e)=>t[0]==="~"?t.slice(1):qU(e)+t,xae=(t="",e)=>yae(BR(qU(t)),BR(e)),BR=t=>{try{return decodeURI(t)}catch{return t}},HU={hook:gae,searchHook:hae,parser:rae,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},WU=C.createContext(HU),ph=()=>C.useContext(WU),KU={},GU=C.createContext(KU),QU=()=>C.useContext(GU),Bb=t=>{const[e,n]=t.hook(t);return[xae(t.base,e),zU((r,i)=>n(vae(r,t.base),i))]},vo=()=>Bb(ph()),cO=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((h,m)=>[h,l[m]])):o.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},Vb=t=>cO(ph().parser,t,vo()[0]),bae=({children:t,...e})=>{const n=ph(),r=e.hook?HU:n;let i=r;const[s,o]=e.ssrPath?.split("?")??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??e.hook?.hrefs;let a=C.useRef({}),l=a.current,c=l;for(let d in r){const h=d==="base"?r[d]+(e[d]||""):e[d]||r[d];l===c&&h!==c[d]&&(a.current=c={...c}),c[d]=h,h!==r[d]&&(i=c)}return C.createElement(WU.Provider,{value:i,children:t})},VR=({children:t,component:e},n)=>e?C.createElement(e,{params:n}):typeof t=="function"?t(n):t,wae=t=>{let e=C.useRef(KU),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},pn=({path:t,nest:e,match:n,...r})=>{const i=ph(),[s]=Bb(i),[o,a,l]=n??cO(i.parser,t,s,e),c=wae({...QU(),...a});if(!o)return null;const d=l?C.createElement(bae,{base:l},VR(r,c)):VR(r,c);return C.createElement(GU.Provider,{value:c,children:d})},yi=C.forwardRef((t,e)=>{const n=ph(),[r,i]=Bb(n),{to:s="",href:o=s,onClick:a,asChild:l,children:c,className:d,replace:h,state:m,...g}=t,y=zU(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a?.(x),x.defaultPrevented||(x.preventDefault(),i(o,t)))}),b=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&C.isValidElement(c)?C.cloneElement(c,{onClick:y,href:b}):C.createElement("a",{...g,onClick:y,href:b,className:d?.call?d(r===o):d,children:c,ref:e})}),YU=t=>Array.isArray(t)?t.flatMap(e=>YU(e&&e.type===C.Fragment?e.props.children:e)):[t],zR=({children:t,location:e})=>{const n=ph(),[r]=Bb(n);for(const i of YU(t)){let s=0;if(C.isValidElement(i)&&(s=cO(n.parser,i.props.path,e||r,i.props.nest))[0])return C.cloneElement(i,{match:s})}return null};var mh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Su=typeof window>"u"||"Deno"in globalThis;function Ns(){}function Sae(t,e){return typeof t=="function"?t(e):t}function Vj(t){return typeof t=="number"&&t>=0&&t!==1/0}function XU(t,e){return Math.max(t+(e||0)-Date.now(),0)}function af(t,e){return typeof t=="function"?t(e):t}function eo(t,e){return typeof t=="function"?t(e):t}function UR(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==uO(o,e.options))return!1}else if(!Am(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function qR(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Cu(e.options.mutationKey)!==Cu(s))return!1}else if(!Am(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function uO(t,e){return(e?.queryKeyHashFn||Cu)(t)}function Cu(t){return JSON.stringify(t,(e,n)=>zj(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Am(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Am(t[n],e[n])):!1}function ZU(t,e){if(t===e)return t;const n=HR(t)&&HR(e);if(n||zj(t)&&zj(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=ZU(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function cx(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function HR(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function zj(t){if(!WR(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!WR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function WR(t){return Object.prototype.toString.call(t)==="[object Object]"}function Cae(t){return new Promise(e=>{setTimeout(e,t)})}function Uj(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ZU(t,e):e}function Nae(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Pae(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var dO=Symbol();function JU(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===dO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Tae=class extends mh{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!Su&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},fO=new Tae,Aae=class extends mh{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!Su&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},ux=new Aae;function qj(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function jae(t){return Math.min(1e3*2**t,3e4)}function eq(t){return(t??"online")==="online"?ux.isOnline():!0}var tq=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function bC(t){return t instanceof tq}function nq(t){let e=!1,n=0,r=!1,i;const s=qj(),o=b=>{r||(m(new tq(b)),t.abort?.())},a=()=>{e=!0},l=()=>{e=!1},c=()=>fO.isFocused()&&(t.networkMode==="always"||ux.isOnline())&&t.canRun(),d=()=>eq(t.networkMode)&&t.canRun(),h=b=>{r||(r=!0,t.onSuccess?.(b),i?.(),s.resolve(b))},m=b=>{r||(r=!0,t.onError?.(b),i?.(),s.reject(b))},g=()=>new Promise(b=>{i=x=>{(r||c())&&b(x)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),y=()=>{if(r)return;let b;const x=n===0?t.initialPromise:void 0;try{b=x??t.fn()}catch(S){b=Promise.reject(S)}Promise.resolve(b).then(h).catch(S=>{if(r)return;const N=t.retry??(Su?0:3),T=t.retryDelay??jae,j=typeof T=="function"?T(n,S):T,P=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,S);if(e||!P){m(S);return}n++,t.onFail?.(n,S),Cae(j).then(()=>c()?void 0:g()).then(()=>{e?m(S):y()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():g().then(y),s)}}function Eae(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var cr=Eae(),rq=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Vj(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Su?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},kae=class extends rq{#e;#t;#r;#n;#o;#s;constructor(t){super(),this.#s=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Oae(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const n=Uj(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(Ns).catch(Ns):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>eo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!XU(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const a=this.observers.find(l=>l.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const a=JU(this.options,e),l={queryKey:this.queryKey,meta:this.meta};return r(l),this.#s=!1,this.options.persister?this.options.persister(a,l,this):a(l)},s={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(s),this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#i({type:"fetch",meta:s.fetchOptions?.meta});const o=a=>{bC(a)&&a.silent||this.#i({type:"error",error:a}),bC(a)||(this.#r.config.onError?.(a,this),this.#r.config.onSettled?.(this.state.data,a,this)),this.scheduleGc()};return this.#n=nq({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:a=>{if(a===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(a)}catch(l){o(l);return}this.#r.config.onSuccess?.(a,this),this.#r.config.onSettled?.(a,this.state.error,this),this.scheduleGc()},onError:o,onFail:(a,l)=>{this.#i({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#n.start()}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...iq(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return bC(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),cr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function iq(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eq(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Oae(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $ae=class extends mh{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??uO(r,e);let s=this.get(i);return s||(s=new kae({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){cr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>UR(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>UR(t,n)):e}notify(t){cr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){cr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){cr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_ae=class extends rq{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||sq(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){this.#r=nq({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#n({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#r.canStart();try{if(!e){this.#n({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#n({type:"pending",context:i,variables:t,isPaused:n})}const r=await this.#r.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#n({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#n({type:"error",error:r})}}finally{this.#t.runNext(this)}}#n(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),cr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function sq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Mae=class extends mh{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,n){const r=new _ae({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){const e=c0(t),n=this.#e.get(e)??[];n.push(t),this.#e.set(e,n),this.notify({type:"added",mutation:t})}remove(t){const e=c0(t);if(this.#e.has(e)){const n=this.#e.get(e)?.filter(r=>r!==t);n&&(n.length===0?this.#e.delete(e):this.#e.set(e,n))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(c0(t))?.find(n=>n.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(c0(t))?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){cr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>qR(e,n))}findAll(t={}){return this.getAll().filter(e=>qR(t,e))}notify(t){cr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return cr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Ns))))}};function c0(t){return t.options.scope?.id??String(t.mutationId)}function KR(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let d=!1;const h=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},m=JU(e.options,e.fetchOptions),g=async(y,b,x)=>{if(d)return Promise.reject();if(b==null&&y.pages.length)return Promise.resolve(y);const S={queryKey:e.queryKey,pageParam:b,direction:x?"backward":"forward",meta:e.options.meta};h(S);const N=await m(S),{maxPages:T}=e.options,j=x?Pae:Nae;return{pages:j(y.pages,N,T),pageParams:j(y.pageParams,b,T)}};if(i&&s.length){const y=i==="backward",b=y?Iae:GR,x={pages:s,pageParams:o},S=b(r,x);a=await g(x,S,y)}else{const y=t??s.length;do{const b=l===0?o[0]??r.initialPageParam:GR(r,a);if(l>0&&b==null)break;a=await g(a,b),l++}while(l<y)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=c}}}function GR(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Iae(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Rae=class{#e;#t;#r;#n;#o;#s;#i;#a;constructor(t={}){this.#e=t.queryCache||new $ae,this.#t=t.mutationCache||new Mae,this.#r=t.defaultOptions||{},this.#n=new Map,this.#o=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#i=fO.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=ux.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=this.#e.build(this,n);return t.revalidateIfStale&&r.isStaleByTime(af(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,o=Sae(e,s);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return cr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;cr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return cr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=cr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Ns).catch(Ns)}invalidateQueries(t={},e={}){return cr.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:e?.cancelRefetch??!0},r=cr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ns)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ns)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(af(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ns).catch(Ns)}fetchInfiniteQuery(t){return t.behavior=KR(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ns).catch(Ns)}ensureInfiniteQueryData(t){return t.behavior=KR(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ux.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(Cu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()];let n={};return e.forEach(r=>{Am(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){this.#o.set(Cu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#o.values()];let n={};return e.forEach(r=>{Am(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=uO(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===dO&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Dae=class extends mh{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#i=qj(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#o;#s;#i;#a;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),QR(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hj(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hj(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof eo(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),n._defaulted&&!cx(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&YR(this.#t,r,this.options,n)&&this.#d(),this.updateResult(e),i&&(this.#t!==r||eo(this.options.enabled,this.#t)!==eo(n.enabled,this.#t)||af(this.options.staleTime,this.#t)!==af(n.staleTime,this.#t))&&this.#g();const s=this.#y();i&&(this.#t!==r||eo(this.options.enabled,this.#t)!==eo(n.enabled,this.#t)||s!==this.#l)&&this.#v(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Fae(this,n)&&(this.#n=n,this.#s=this.options,this.#o=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Ns)),e}#g(){this.#b();const t=af(this.options.staleTime,this.#t);if(Su||this.#n.isStale||!Vj(t))return;const n=XU(this.#n.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#l=t,!(Su||eo(this.options.enabled,this.#t)===!1||!Vj(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||fO.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#n,s=this.#o,o=this.#s,l=t!==n?t.state:this.#r,{state:c}=t;let d={...c},h=!1,m;if(e._optimisticResults){const O=this.hasListeners(),_=!O&&QR(t,e),$=O&&YR(t,n,e,r);(_||$)&&(d={...d,...iq(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:b}=d;if(e.select&&d.data!==void 0)if(i&&d.data===s?.data&&e.select===this.#m)m=this.#f;else try{this.#m=e.select,m=e.select(d.data),m=Uj(i?.data,m,e),this.#f=m,this.#a=null}catch(O){this.#a=O}else m=d.data;if(e.placeholderData!==void 0&&m===void 0&&b==="pending"){let O;if(i?.isPlaceholderData&&e.placeholderData===o?.placeholderData)O=i.data;else if(O=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,e.select&&O!==void 0)try{O=e.select(O),this.#a=null}catch(_){this.#a=_}O!==void 0&&(b="success",m=Uj(i?.data,O,e),h=!0)}this.#a&&(g=this.#a,m=this.#f,y=Date.now(),b="error");const x=d.fetchStatus==="fetching",S=b==="pending",N=b==="error",T=S&&x,j=m!==void 0,E={status:b,fetchStatus:d.fetchStatus,isPending:S,isSuccess:b==="success",isError:N,isInitialLoading:T,isLoading:T,data:m,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:x,isRefetching:x&&!S,isLoadingError:N&&!j,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:N&&j,isStale:hO(t,e),refetch:this.refetch,promise:this.#i};if(this.options.experimental_prefetchInRender){const O=B=>{E.status==="error"?B.reject(E.error):E.data!==void 0&&B.resolve(E.data)},_=()=>{const B=this.#i=E.promise=qj();O(B)},$=this.#i;switch($.status){case"pending":t.queryHash===n.queryHash&&O($);break;case"fulfilled":(E.status==="error"||E.data!==$.value)&&_();break;case"rejected":(E.status!=="error"||E.error!==$.reason)&&_();break}}return E}updateResult(t){const e=this.#n,n=this.createResult(this.#t,this.options);if(this.#o=this.#t.state,this.#s=this.options,this.#o.data!==void 0&&(this.#h=this.#t),cx(n,e))return;this.#n=n;const r={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!this.#p.size)return!0;const a=new Set(o??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#n).some(l=>{const c=l;return this.#n[c]!==e[c]&&a.has(c)})};t?.listeners!==!1&&i()&&(r.listeners=!0),this.#C({...r,...t})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#C(t){cr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Lae(t,e){return eo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function QR(t,e){return Lae(t,e)||t.state.data!==void 0&&Hj(t,e,e.refetchOnMount)}function Hj(t,e,n){if(eo(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&hO(t,e)}return!1}function YR(t,e,n,r){return(t!==e||eo(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&hO(t,n)}function hO(t,e){return eo(e.enabled,t)!==!1&&t.isStaleByTime(af(e.staleTime,t))}function Fae(t,e){return!cx(t.getCurrentResult(),e)}var Bae=class extends mh{#e;#t=void 0;#r;#n;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),cx(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&Cu(n.mutationKey)!==Cu(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#o(),this.#s()}mutate(e,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#o(){const e=this.#r?.state??sq();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){cr.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,n,r),this.#n.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#n.onError?.(e.error,n,r),this.#n.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},oq=C.createContext(void 0),Kn=t=>{const e=C.useContext(oq);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Vae=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(oq.Provider,{value:t,children:e})),aq=C.createContext(!1),zae=()=>C.useContext(aq);aq.Provider;function Uae(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var qae=C.createContext(Uae()),Hae=()=>C.useContext(qae);function lq(t,e){return typeof t=="function"?t(...e):!!t}function Wj(){}var Wae=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Kae=t=>{C.useEffect(()=>{t.clearReset()},[t])},Gae=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&lq(n,[t.error,r]),Qae=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Yae=(t,e)=>t.isLoading&&t.isFetching&&!e,Xae=(t,e)=>t?.suspense&&e.isPending,XR=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Zae(t,e,n){const r=Kn(),i=zae(),s=Hae(),o=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",Qae(o),Wae(o,s),Kae(s);const a=!r.getQueryCache().get(o.queryHash),[l]=C.useState(()=>new e(r,o)),c=l.getOptimisticResult(o);if(C.useSyncExternalStore(C.useCallback(d=>{const h=i?Wj:l.subscribe(cr.batchCalls(d));return l.updateResult(),h},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),C.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),Xae(o,c))throw XR(o,l,s);if(Gae({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!Su&&Yae(c,i)&&(a?XR(o,l,s):r.getQueryCache().get(o.queryHash)?.promise)?.catch(Wj).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?c:l.trackResult(c)}function pt(t,e){return Zae(t,Dae)}function dt(t,e){const n=Kn(),[r]=C.useState(()=>new Bae(n,t));C.useEffect(()=>{r.setOptions(t)},[r,t]);const i=C.useSyncExternalStore(C.useCallback(o=>r.subscribe(cr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=C.useCallback((o,a)=>{r.mutate(o,a).catch(Wj)},[r]);if(i.error&&lq(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function cq(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function $t(t,e,n){const r=await fetch(e,{method:t,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await cq(r),r}const Jae=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await cq(n),await n.json()},ba=new Rae({defaultOptions:{queries:{queryFn:Jae({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),ele=1,tle=1e6;let wC=0;function nle(){return wC=(wC+1)%Number.MAX_SAFE_INTEGER,wC.toString()}const SC=new Map,ZR=t=>{if(SC.has(t))return;const e=setTimeout(()=>{SC.delete(t),im({type:"REMOVE_TOAST",toastId:t})},tle);SC.set(t,e)},rle=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,ele)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?ZR(n):t.toasts.forEach(r=>{ZR(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},G0=[];let Q0={toasts:[]};function im(t){Q0=rle(Q0,t),G0.forEach(e=>{e(Q0)})}function ile({...t}){const e=nle(),n=i=>im({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>im({type:"DISMISS_TOAST",toastId:e});return im({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Gn(){const[t,e]=C.useState(Q0);return C.useEffect(()=>(G0.push(e),()=>{const n=G0.indexOf(e);n>-1&&G0.splice(n,1)}),[t]),{...t,toast:ile,dismiss:n=>im({type:"DISMISS_TOAST",toastId:n})}}var gh=FU();const uq=Zt(gh);function Ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function JR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zb(...t){return e=>{let n=!1;const r=t.map(i=>{const s=JR(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():JR(t[i],null)}}}}function Ot(...t){return C.useCallback(zb(...t),t)}function sle(t,e){const n=C.createContext(e),r=s=>{const{children:o,...a}=s,l=C.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=C.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Hr(t,e=[]){let n=[];function r(s,o){const a=C.createContext(o),l=n.length;n=[...n,o];const c=h=>{const{scope:m,children:g,...y}=h,b=m?.[t]?.[l]||a,x=C.useMemo(()=>y,Object.values(y));return u.jsx(b.Provider,{value:x,children:g})};c.displayName=s+"Provider";function d(h,m){const g=m?.[t]?.[l]||a,y=C.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>C.createContext(o));return function(a){const l=a?.[t]||s;return C.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,ole(i,...e)]}function ole(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function tc(t){const e=ale(t),n=C.forwardRef((r,i)=>{const{children:s,...o}=r,a=C.Children.toArray(s),l=a.find(lle);if(l){const c=l.props.children,d=a.map(h=>h===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:h);return u.jsx(e,{...o,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var dq=tc("Slot");function ale(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const o=ule(i),a=cle(s,i.props);return i.type!==C.Fragment&&(a.ref=r?zb(r,o):o),C.cloneElement(i,a)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var fq=Symbol("radix.slottable");function hq(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=fq,e}function lle(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fq}function cle(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function ule(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ub(t){const e=t+"CollectionProvider",[n,r]=Hr(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:x,children:S}=b,N=H.useRef(null),T=H.useRef(new Map).current;return u.jsx(i,{scope:x,itemMap:T,collectionRef:N,children:S})};o.displayName=e;const a=t+"CollectionSlot",l=tc(a),c=H.forwardRef((b,x)=>{const{scope:S,children:N}=b,T=s(a,S),j=Ot(x,T.collectionRef);return u.jsx(l,{ref:j,children:N})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",m=tc(d),g=H.forwardRef((b,x)=>{const{scope:S,children:N,...T}=b,j=H.useRef(null),P=Ot(x,j),E=s(d,S);return H.useEffect(()=>(E.itemMap.set(j,{ref:j,...T}),()=>{E.itemMap.delete(j)})),u.jsx(m,{[h]:"",ref:P,children:N})});g.displayName=d;function y(b){const x=s(t+"CollectionConsumer",b);return H.useCallback(()=>{const N=x.collectionRef.current;if(!N)return[];const T=Array.from(N.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((E,O)=>T.indexOf(E.ref.current)-T.indexOf(O.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},y,r]}var dle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xe=dle.reduce((t,e)=>{const n=tc(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function pO(t,e){t&&gh.flushSync(()=>t.dispatchEvent(e))}function fr(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>e.current?.(...n),[])}function fle(t,e=globalThis?.document){const n=fr(t);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var hle="DismissableLayer",Kj="dismissableLayer.update",ple="dismissableLayer.pointerDownOutside",mle="dismissableLayer.focusOutside",e5,pq=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ku=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=C.useContext(pq),[d,h]=C.useState(null),m=d?.ownerDocument??globalThis?.document,[,g]=C.useState({}),y=Ot(e,O=>h(O)),b=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),S=b.indexOf(x),N=d?b.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,j=N>=S,P=yle(O=>{const _=O.target,$=[...c.branches].some(B=>B.contains(_));!j||$||(i?.(O),o?.(O),O.defaultPrevented||a?.())},m),E=vle(O=>{const _=O.target;[...c.branches].some(B=>B.contains(_))||(s?.(O),o?.(O),O.defaultPrevented||a?.())},m);return fle(O=>{N===c.layers.size-1&&(r?.(O),!O.defaultPrevented&&a&&(O.preventDefault(),a()))},m),C.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(e5=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),t5(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=e5)}},[d,m,n,c]),C.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),t5())},[d,c]),C.useEffect(()=>{const O=()=>g({});return document.addEventListener(Kj,O),()=>document.removeEventListener(Kj,O)},[]),u.jsx(Xe.div,{...l,ref:y,style:{pointerEvents:T?j?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,E.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,P.onPointerDownCapture)})});Ku.displayName=hle;var gle="DismissableLayerBranch",mq=C.forwardRef((t,e)=>{const n=C.useContext(pq),r=C.useRef(null),i=Ot(e,r);return C.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),u.jsx(Xe.div,{...t,ref:i})});mq.displayName=gle;function yle(t,e=globalThis?.document){const n=fr(t),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){gq(ple,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function vle(t,e=globalThis?.document){const n=fr(t),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&gq(mle,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function t5(){const t=new CustomEvent(Kj);document.dispatchEvent(t)}function gq(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?pO(i,s):i.dispatchEvent(s)}var xle=Ku,ble=mq,hr=globalThis?.document?C.useLayoutEffect:()=>{},wle="Portal",yh=C.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=C.useState(!1);hr(()=>s(!0),[]);const o=n||i&&globalThis?.document?.body;return o?uq.createPortal(u.jsx(Xe.div,{...r,ref:e}),o):null});yh.displayName=wle;function Sle(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var Di=t=>{const{present:e,children:n}=t,r=Cle(e),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),s=Ot(r.ref,Nle(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};Di.displayName="Presence";function Cle(t){const[e,n]=C.useState(),r=C.useRef({}),i=C.useRef(t),s=C.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Sle(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const c=u0(r.current);s.current=a==="mounted"?c:"none"},[a]),hr(()=>{const c=r.current,d=i.current;if(d!==t){const m=s.current,g=u0(c);t?l("MOUNT"):g==="none"||c?.display==="none"?l("UNMOUNT"):l(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),hr(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=g=>{const b=u0(r.current).includes(g.animationName);if(g.target===e&&b&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=g=>{g.target===e&&(s.current=u0(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function u0(t){return t?.animationName||"none"}function Nle(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function fo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Ple({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=fr(n),l=C.useCallback(c=>{if(s){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else i(c)},[s,t,i,a]);return[o,l]}function Ple({defaultProp:t,onChange:e}){const n=C.useState(t),[r]=n,i=C.useRef(r),s=fr(e);return C.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var Tle="VisuallyHidden",hy=C.forwardRef((t,e)=>u.jsx(Xe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));hy.displayName=Tle;var Ale=hy,mO="ToastProvider",[gO,jle,Ele]=Ub("Toast"),[yq]=Hr("Toast",[Ele]),[kle,qb]=yq(mO),vq=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=C.useState(null),[c,d]=C.useState(0),h=C.useRef(!1),m=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${mO}\`. Expected non-empty \`string\`.`),u.jsx(gO.Provider,{scope:e,children:u.jsx(kle,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:C.useCallback(()=>d(g=>g+1),[]),onToastRemove:C.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};vq.displayName=mO;var xq="ToastViewport",Ole=["F8"],Gj="toast.viewportPause",Qj="toast.viewportResume",bq=C.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Ole,label:i="Notifications ({hotkey})",...s}=t,o=qb(xq,n),a=jle(n),l=C.useRef(null),c=C.useRef(null),d=C.useRef(null),h=C.useRef(null),m=Ot(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;C.useEffect(()=>{const x=S=>{r.length!==0&&r.every(T=>S[T]||S.code===T)&&h.current?.focus()};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),C.useEffect(()=>{const x=l.current,S=h.current;if(y&&x&&S){const N=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(Gj);S.dispatchEvent(E),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(Qj);S.dispatchEvent(E),o.isClosePausedRef.current=!1}},j=E=>{!x.contains(E.relatedTarget)&&T()},P=()=>{x.contains(document.activeElement)||T()};return x.addEventListener("focusin",N),x.addEventListener("focusout",j),x.addEventListener("pointermove",N),x.addEventListener("pointerleave",P),window.addEventListener("blur",N),window.addEventListener("focus",T),()=>{x.removeEventListener("focusin",N),x.removeEventListener("focusout",j),x.removeEventListener("pointermove",N),x.removeEventListener("pointerleave",P),window.removeEventListener("blur",N),window.removeEventListener("focus",T)}}},[y,o.isClosePausedRef]);const b=C.useCallback(({tabbingDirection:x})=>{const N=a().map(T=>{const j=T.ref.current,P=[j,...qle(j)];return x==="forwards"?P:P.reverse()});return(x==="forwards"?N.reverse():N).flat()},[a]);return C.useEffect(()=>{const x=h.current;if(x){const S=N=>{const T=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!T){const P=document.activeElement,E=N.shiftKey;if(N.target===x&&E){c.current?.focus();return}const $=b({tabbingDirection:E?"backwards":"forwards"}),B=$.findIndex(I=>I===P);CC($.slice(B+1))?N.preventDefault():E?c.current?.focus():d.current?.focus()}};return x.addEventListener("keydown",S),()=>x.removeEventListener("keydown",S)}},[a,b]),u.jsxs(ble,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&u.jsx(Yj,{ref:c,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"forwards"});CC(x)}}),u.jsx(gO.Slot,{scope:n,children:u.jsx(Xe.ol,{tabIndex:-1,...s,ref:m})}),y&&u.jsx(Yj,{ref:d,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"backwards"});CC(x)}})]})});bq.displayName=xq;var wq="ToastFocusProxy",Yj=C.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=qb(wq,n);return u.jsx(hy,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{const a=o.relatedTarget;!s.viewport?.contains(a)&&r()}})});Yj.displayName=wq;var Hb="Toast",$le="toast.swipeStart",_le="toast.swipeMove",Mle="toast.swipeCancel",Ile="toast.swipeEnd",Sq=C.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=fo({prop:r,defaultProp:i,onChange:s});return u.jsx(Di,{present:n||a,children:u.jsx(Lle,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:fr(t.onPause),onResume:fr(t.onResume),onSwipeStart:Ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Sq.displayName=Hb;var[Rle,Dle]=yq(Hb,{onClose(){}}),Lle=C.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:g,...y}=t,b=qb(Hb,n),[x,S]=C.useState(null),N=Ot(e,L=>S(L)),T=C.useRef(null),j=C.useRef(null),P=i||b.duration,E=C.useRef(0),O=C.useRef(P),_=C.useRef(0),{onToastAdd:$,onToastRemove:B}=b,I=fr(()=>{x?.contains(document.activeElement)&&b.viewport?.focus(),o()}),V=C.useCallback(L=>{!L||L===1/0||(window.clearTimeout(_.current),E.current=new Date().getTime(),_.current=window.setTimeout(I,L))},[I]);C.useEffect(()=>{const L=b.viewport;if(L){const z=()=>{V(O.current),c?.()},F=()=>{const q=new Date().getTime()-E.current;O.current=O.current-q,window.clearTimeout(_.current),l?.()};return L.addEventListener(Gj,F),L.addEventListener(Qj,z),()=>{L.removeEventListener(Gj,F),L.removeEventListener(Qj,z)}}},[b.viewport,P,l,c,V]),C.useEffect(()=>{s&&!b.isClosePausedRef.current&&V(P)},[s,P,b.isClosePausedRef,V]),C.useEffect(()=>($(),()=>B()),[$,B]);const U=C.useMemo(()=>x?Eq(x):null,[x]);return b.viewport?u.jsxs(u.Fragment,{children:[U&&u.jsx(Fle,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),u.jsx(Rle,{scope:n,onClose:I,children:gh.createPortal(u.jsx(gO.ItemSlot,{scope:n,children:u.jsx(xle,{asChild:!0,onEscapeKeyDown:Ee(a,()=>{b.isFocusedToastEscapeKeyDownRef.current||I(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":b.swipeDirection,...y,ref:N,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ee(t.onKeyDown,L=>{L.key==="Escape"&&(a?.(L.nativeEvent),L.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Ee(t.onPointerDown,L=>{L.button===0&&(T.current={x:L.clientX,y:L.clientY})}),onPointerMove:Ee(t.onPointerMove,L=>{if(!T.current)return;const z=L.clientX-T.current.x,F=L.clientY-T.current.y,q=!!j.current,M=["left","right"].includes(b.swipeDirection),D=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,Q=M?D(0,z):0,W=M?0:D(0,F),Y=L.pointerType==="touch"?10:2,le={x:Q,y:W},pe={originalEvent:L,delta:le};q?(j.current=le,d0(_le,h,pe,{discrete:!1})):n5(le,b.swipeDirection,Y)?(j.current=le,d0($le,d,pe,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(z)>Y||Math.abs(F)>Y)&&(T.current=null)}),onPointerUp:Ee(t.onPointerUp,L=>{const z=j.current,F=L.target;if(F.hasPointerCapture(L.pointerId)&&F.releasePointerCapture(L.pointerId),j.current=null,T.current=null,z){const q=L.currentTarget,M={originalEvent:L,delta:z};n5(z,b.swipeDirection,b.swipeThreshold)?d0(Ile,g,M,{discrete:!0}):d0(Mle,m,M,{discrete:!0}),q.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),Fle=t=>{const{__scopeToast:e,children:n,...r}=t,i=qb(Hb,e),[s,o]=C.useState(!1),[a,l]=C.useState(!1);return zle(()=>o(!0)),C.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(yh,{asChild:!0,children:u.jsx(hy,{...r,children:s&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},Ble="ToastTitle",Cq=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Xe.div,{...r,ref:e})});Cq.displayName=Ble;var Vle="ToastDescription",Nq=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Xe.div,{...r,ref:e})});Nq.displayName=Vle;var Pq="ToastAction",Tq=C.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(jq,{altText:n,asChild:!0,children:u.jsx(yO,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Pq}\`. Expected non-empty \`string\`.`),null)});Tq.displayName=Pq;var Aq="ToastClose",yO=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Dle(Aq,n);return u.jsx(jq,{asChild:!0,children:u.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Ee(t.onClick,i.onClose)})})});yO.displayName=Aq;var jq=C.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return u.jsx(Xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Eq(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Ule(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Eq(r))}}),e}function d0(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?pO(i,s):i.dispatchEvent(s)}var n5=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function zle(t=()=>{}){const e=fr(t);hr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Ule(t){return t.nodeType===t.ELEMENT_NODE}function qle(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function CC(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Hle=vq,kq=bq,Oq=Sq,$q=Cq,_q=Nq,Mq=Tq,Iq=yO;function Rq(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Rq(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function It(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Rq(t))&&(r&&(r+=" "),r+=e);return r}const r5=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,i5=It,py=(t,e)=>n=>{var r;if(e?.variants==null)return i5(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n?.[c],h=s?.[c];if(d===null)return null;const m=r5(d)||r5(h);return i[c][m]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,m]=d;return m===void 0||(c[h]=m),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:m,...g}=d;return Object.entries(g).every(y=>{let[b,x]=y;return Array.isArray(x)?x.includes({...s,...a}[b]):{...s,...a}[b]===x})?[...c,h,m]:c},[]);return i5(t,o,l,n?.class,n?.className)};const Wle=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dq=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");var Kle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Gle=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>C.createElement("svg",{ref:l,...Kle,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Dq("lucide",i),...a},[...o.map(([c,d])=>C.createElement(c,d)),...Array.isArray(s)?s:[s]]));const be=(t,e)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(Gle,{ref:s,iconNode:e,className:Dq(`lucide-${Wle(t)}`,r),...i}));return n.displayName=`${t}`,n};const Lq=be("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const Qle=be("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);const Wb=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Xj=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Yle=be("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);const Xle=be("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);const nc=be("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const Gu=be("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const Zle=be("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);const dx=be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Jle=be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const fx=be("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const ho=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Ma=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Cf=be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Go=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const ece=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const jm=be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Vr=be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Fq=be("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const s5=be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Nu=be("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const tce=be("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);const my=be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Bq=be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const o5=be("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);const Pu=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Vq=be("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);const nce=be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const rce=be("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const zq=be("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);const vO=be("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const ice=be("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const Uq=be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Tu=be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const sce=be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Zj=be("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const oce=be("FolderInput",[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]]);const ace=be("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const Jj=be("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);const xO=be("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);const lce=be("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const zl=be("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const cce=be("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const uce=be("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);const a5=be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const dce=be("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);const bO=be("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const f0=be("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const fce=be("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const hce=be("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);const qq=be("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const mt=be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const pce=be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const mce=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const NC=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const gce=be("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const yce=be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const vce=be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const xce=be("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const bce=be("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);const wce=be("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);const Sce=be("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const hx=be("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Cce=be("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const Ia=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Hq=be("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const l5=be("RectangleHorizontal",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);const Nce=be("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);const Pce=be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Tce=be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const Wq=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Kb=be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const Ace=be("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const jce=be("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const Ece=be("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Kq=be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const kce=be("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const rc=be("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const Oce=be("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const Gq=be("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const $ce=be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const wO=be("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);const Nf=be("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);const Gb=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Qb=be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const eE=be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const _ce=be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const Mce=be("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);const c5=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Ice=be("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const Rce=be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const Dce=be("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);const SO=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Io=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Ra=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const CO=be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),NO="-",Lce=t=>{const e=Bce(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(NO);return a[0]===""&&a.length!==1&&a.shift(),Qq(a,e)||Fce(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Qq=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Qq(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(NO);return e.validators.find(({validator:o})=>o(s))?.classGroupId},u5=/^\[(.+)\]$/,Fce=t=>{if(u5.test(t)){const e=u5.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Bce=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return zce(Object.entries(t.classGroups),n).forEach(([s,o])=>{tE(o,r,s,e)}),r},tE=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:d5(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Vce(i)){tE(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{tE(o,d5(e,s),n,r)})})},d5=(t,e)=>{let n=t;return e.split(NO).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Vce=t=>t.isThemeGetter,zce=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,Uce=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Yq="!",qce=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let x=0;x<a.length;x++){let S=a[x];if(c===0){if(S===i&&(r||a.slice(x,x+s)===e)){l.push(a.slice(d,x)),d=x+s;continue}if(S==="/"){h=x;continue}}S==="["?c++:S==="]"&&c--}const m=l.length===0?a:a.substring(d),g=m.startsWith(Yq),y=g?m.substring(1):m,b=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:b}};return n?a=>n({className:a,parseClassName:o}):o},Hce=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Wce=t=>({cache:Uce(t.cacheSize),parseClassName:qce(t),...Lce(t)}),Kce=/\s+/,Gce=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(Kce);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}=n(c);let y=!!g,b=r(y?m.substring(0,g):m);if(!b){if(!y){a=c+(a.length>0?" "+a:a);continue}if(b=r(m),!b){a=c+(a.length>0?" "+a:a);continue}y=!1}const x=Hce(d).join(":"),S=h?x+Yq:x,N=S+b;if(s.includes(N))continue;s.push(N);const T=i(b,y);for(let j=0;j<T.length;++j){const P=T[j];s.push(S+P)}a=c+(a.length>0?" "+a:a)}return a};function Qce(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Xq(e))&&(r&&(r+=" "),r+=n);return r}const Xq=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Xq(t[r]))&&(n&&(n+=" "),n+=e);return n};function Yce(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=Wce(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=Gce(l,n);return i(l,d),d}return function(){return s(Qce.apply(null,arguments))}}const mn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Zq=/^\[(?:([a-z-]+):)?(.+)\]$/i,Xce=/^\d+\/\d+$/,Zce=new Set(["px","full","screen"]),Jce=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eue=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tue=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nue=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rue=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ca=t=>lf(t)||Zce.has(t)||Xce.test(t),Pl=t=>vh(t,"length",due),lf=t=>!!t&&!Number.isNaN(Number(t)),PC=t=>vh(t,"number",lf),Ap=t=>!!t&&Number.isInteger(Number(t)),iue=t=>t.endsWith("%")&&lf(t.slice(0,-1)),bt=t=>Zq.test(t),Tl=t=>Jce.test(t),sue=new Set(["length","size","percentage"]),oue=t=>vh(t,sue,Jq),aue=t=>vh(t,"position",Jq),lue=new Set(["image","url"]),cue=t=>vh(t,lue,hue),uue=t=>vh(t,"",fue),jp=()=>!0,vh=(t,e,n)=>{const r=Zq.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},due=t=>eue.test(t)&&!tue.test(t),Jq=()=>!1,fue=t=>nue.test(t),hue=t=>rue.test(t),pue=()=>{const t=mn("colors"),e=mn("spacing"),n=mn("blur"),r=mn("brightness"),i=mn("borderColor"),s=mn("borderRadius"),o=mn("borderSpacing"),a=mn("borderWidth"),l=mn("contrast"),c=mn("grayscale"),d=mn("hueRotate"),h=mn("invert"),m=mn("gap"),g=mn("gradientColorStops"),y=mn("gradientColorStopPositions"),b=mn("inset"),x=mn("margin"),S=mn("opacity"),N=mn("padding"),T=mn("saturate"),j=mn("scale"),P=mn("sepia"),E=mn("skew"),O=mn("space"),_=mn("translate"),$=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",bt,e],V=()=>[bt,e],U=()=>["",ca,Pl],L=()=>["auto",lf,bt],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",bt],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[lf,bt];return{cacheSize:500,separator:":",theme:{colors:[jp],spacing:[ca,Pl],blur:["none","",Tl,bt],brightness:W(),borderColor:[t],borderRadius:["none","","full",Tl,bt],borderSpacing:V(),borderWidth:U(),contrast:W(),grayscale:D(),hueRotate:W(),invert:D(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[iue,Pl],inset:I(),margin:I(),opacity:W(),padding:V(),saturate:W(),scale:W(),sepia:D(),skew:W(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",bt]}],container:["container"],columns:[{columns:[Tl]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),bt]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ap,bt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",bt]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Ap,bt]}],"grid-cols":[{"grid-cols":[jp]}],"col-start-end":[{col:["auto",{span:["full",Ap,bt]},bt]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[jp]}],"row-start-end":[{row:["auto",{span:[Ap,bt]},bt]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",bt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",bt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",bt,e]}],"min-w":[{"min-w":[bt,e,"min","max","fit"]}],"max-w":[{"max-w":[bt,e,"none","full","min","max","fit","prose",{screen:[Tl]},Tl]}],h:[{h:[bt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[bt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[bt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[bt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Tl,Pl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",PC]}],"font-family":[{font:[jp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",bt]}],"line-clamp":[{"line-clamp":["none",lf,PC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ca,bt]}],"list-image":[{"list-image":["none",bt]}],"list-style-type":[{list:["none","disc","decimal",bt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ca,Pl]}],"underline-offset":[{"underline-offset":["auto",ca,bt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),aue]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oue]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cue]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[ca,bt]}],"outline-w":[{outline:[ca,Pl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[ca,Pl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Tl,uue]}],"shadow-color":[{shadow:[jp]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Tl,bt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",bt]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",bt]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",bt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ap,bt]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",bt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",bt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",bt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ca,Pl,PC]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mue=Yce(pue);function se(...t){return mue(It(t))}const gue=Hle,eH=C.forwardRef(({className:t,...e},n)=>u.jsx(kq,{ref:n,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));eH.displayName=kq.displayName;const yue=py("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tH=C.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(Oq,{ref:r,className:se(yue({variant:e}),t),...n}));tH.displayName=Oq.displayName;const vue=C.forwardRef(({className:t,...e},n)=>u.jsx(Mq,{ref:n,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));vue.displayName=Mq.displayName;const nH=C.forwardRef(({className:t,...e},n)=>u.jsx(Iq,{ref:n,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Ra,{className:"h-4 w-4"})}));nH.displayName=Iq.displayName;const rH=C.forwardRef(({className:t,...e},n)=>u.jsx($q,{ref:n,className:se("text-sm font-semibold",t),...e}));rH.displayName=$q.displayName;const iH=C.forwardRef(({className:t,...e},n)=>u.jsx(_q,{ref:n,className:se("text-sm opacity-90",t),...e}));iH.displayName=_q.displayName;function xue(){const{toasts:t}=Gn();return u.jsxs(gue,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return u.jsxs(tH,{...s,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(rH,{children:n}),r&&u.jsx(iH,{children:r})]}),i,u.jsx(nH,{})]},e)}),u.jsx(eH,{})]})}var bue=BU[" useId ".trim().toString()]||(()=>{}),wue=0;function es(t){const[e,n]=C.useState(bue());return hr(()=>{n(r=>r??String(wue++))},[t]),e?`radix-${e}`:""}const Sue=["top","right","bottom","left"],ic=Math.min,Yi=Math.max,px=Math.round,h0=Math.floor,Ro=t=>({x:t,y:t}),Cue={left:"right",right:"left",bottom:"top",top:"bottom"},Nue={start:"end",end:"start"};function nE(t,e,n){return Yi(t,ic(e,n))}function Da(t,e){return typeof t=="function"?t(e):t}function La(t){return t.split("-")[0]}function xh(t){return t.split("-")[1]}function PO(t){return t==="x"?"y":"x"}function TO(t){return t==="y"?"height":"width"}function sc(t){return["top","bottom"].includes(La(t))?"y":"x"}function AO(t){return PO(sc(t))}function Pue(t,e,n){n===void 0&&(n=!1);const r=xh(t),i=AO(t),s=TO(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=mx(o)),[o,mx(o)]}function Tue(t){const e=mx(t);return[rE(t),e,rE(e)]}function rE(t){return t.replace(/start|end/g,e=>Nue[e])}function Aue(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function jue(t,e,n,r){const i=xh(t);let s=Aue(La(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(rE)))),s}function mx(t){return t.replace(/left|right|bottom|top/g,e=>Cue[e])}function Eue(t){return{top:0,right:0,bottom:0,left:0,...t}}function sH(t){return typeof t!="number"?Eue(t):{top:t,right:t,bottom:t,left:t}}function gx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function f5(t,e,n){let{reference:r,floating:i}=t;const s=sc(e),o=AO(e),a=TO(o),l=La(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-i.width,y:h};break;default:g={x:r.x,y:r.y}}switch(xh(e)){case"start":g[o]-=m*(n&&c?-1:1);break;case"end":g[o]+=m*(n&&c?-1:1);break}return g}const kue=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=f5(c,r,l),m=r,g={},y=0;for(let b=0;b<a.length;b++){const{name:x,fn:S}=a[b],{x:N,y:T,data:j,reset:P}=await S({x:d,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=N??d,h=T??h,g={...g,[x]:{...g[x],...j}},P&&y<=50&&(y++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(c=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:d,y:h}=f5(c,m,l)),b=-1)}return{x:d,y:h,placement:m,strategy:i,middlewareData:g}};async function Em(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=Da(e,t),y=sH(g),x=a[m?h==="floating"?"reference":"floating":h],S=gx(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),N=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),j=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},P=gx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:N,offsetParent:T,strategy:l}):N);return{top:(S.top-P.top+y.top)/j.y,bottom:(P.bottom-S.bottom+y.bottom)/j.y,left:(S.left-P.left+y.left)/j.x,right:(P.right-S.right+y.right)/j.x}}const Oue=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Da(t,e)||{};if(c==null)return{};const h=sH(d),m={x:n,y:r},g=AO(i),y=TO(g),b=await o.getDimensions(c),x=g==="y",S=x?"top":"left",N=x?"bottom":"right",T=x?"clientHeight":"clientWidth",j=s.reference[y]+s.reference[g]-m[g]-s.floating[y],P=m[g]-s.reference[g],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let O=E?E[T]:0;(!O||!await(o.isElement==null?void 0:o.isElement(E)))&&(O=a.floating[T]||s.floating[y]);const _=j/2-P/2,$=O/2-b[y]/2-1,B=ic(h[S],$),I=ic(h[N],$),V=B,U=O-b[y]-I,L=O/2-b[y]/2+_,z=nE(V,L,U),F=!l.arrow&&xh(i)!=null&&L!==z&&s.reference[y]/2-(L<V?B:I)-b[y]/2<0,q=F?L<V?L-V:L-U:0;return{[g]:m[g]+q,data:{[g]:z,centerOffset:L-z-q,...F&&{alignmentOffset:q}},reset:F}}}),$ue=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:b=!0,...x}=Da(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const S=La(i),N=sc(a),T=La(a)===a,j=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=m||(T||!b?[mx(a)]:Tue(a)),E=y!=="none";!m&&E&&P.push(...jue(a,b,y,j));const O=[a,...P],_=await Em(e,x),$=[];let B=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&$.push(_[S]),h){const L=Pue(i,o,j);$.push(_[L[0]],_[L[1]])}if(B=[...B,{placement:i,overflows:$}],!$.every(L=>L<=0)){var I,V;const L=(((I=s.flip)==null?void 0:I.index)||0)+1,z=O[L];if(z)return{data:{index:L,overflows:B},reset:{placement:z}};let F=(V=B.filter(q=>q.overflows[0]<=0).sort((q,M)=>q.overflows[1]-M.overflows[1])[0])==null?void 0:V.placement;if(!F)switch(g){case"bestFit":{var U;const q=(U=B.filter(M=>{if(E){const D=sc(M.placement);return D===N||D==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(D=>D>0).reduce((D,Q)=>D+Q,0)]).sort((M,D)=>M[1]-D[1])[0])==null?void 0:U[0];q&&(F=q);break}case"initialPlacement":F=a;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function h5(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function p5(t){return Sue.some(e=>t[e]>=0)}const _ue=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Da(t,e);switch(r){case"referenceHidden":{const s=await Em(e,{...i,elementContext:"reference"}),o=h5(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:p5(o)}}}case"escaped":{const s=await Em(e,{...i,altBoundary:!0}),o=h5(s,n.floating);return{data:{escapedOffsets:o,escaped:p5(o)}}}default:return{}}}}};async function Mue(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=La(n),a=xh(n),l=sc(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=Da(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof y=="number"&&(g=a==="end"?y*-1:y),l?{x:g*d,y:m*c}:{x:m*c,y:g*d}}const Iue=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Mue(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Rue=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:S,y:N}=x;return{x:S,y:N}}},...l}=Da(t,e),c={x:n,y:r},d=await Em(e,l),h=sc(La(i)),m=PO(h);let g=c[m],y=c[h];if(s){const x=m==="y"?"top":"left",S=m==="y"?"bottom":"right",N=g+d[x],T=g-d[S];g=nE(N,g,T)}if(o){const x=h==="y"?"top":"left",S=h==="y"?"bottom":"right",N=y+d[x],T=y-d[S];y=nE(N,y,T)}const b=a.fn({...e,[m]:g,[h]:y});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[m]:s,[h]:o}}}}}},Due=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Da(t,e),d={x:n,y:r},h=sc(i),m=PO(h);let g=d[m],y=d[h];const b=Da(a,e),x=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){const T=m==="y"?"height":"width",j=s.reference[m]-s.floating[T]+x.mainAxis,P=s.reference[m]+s.reference[T]-x.mainAxis;g<j?g=j:g>P&&(g=P)}if(c){var S,N;const T=m==="y"?"width":"height",j=["top","left"].includes(La(i)),P=s.reference[h]-s.floating[T]+(j&&((S=o.offset)==null?void 0:S[h])||0)+(j?0:x.crossAxis),E=s.reference[h]+s.reference[T]+(j?0:((N=o.offset)==null?void 0:N[h])||0)-(j?x.crossAxis:0);y<P?y=P:y>E&&(y=E)}return{[m]:g,[h]:y}}}},Lue=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Da(t,e),d=await Em(e,c),h=La(i),m=xh(i),g=sc(i)==="y",{width:y,height:b}=s.floating;let x,S;h==="top"||h==="bottom"?(x=h,S=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(S=h,x=m==="end"?"top":"bottom");const N=b-d.top-d.bottom,T=y-d.left-d.right,j=ic(b-d[x],N),P=ic(y-d[S],T),E=!e.middlewareData.shift;let O=j,_=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=N),E&&!m){const B=Yi(d.left,0),I=Yi(d.right,0),V=Yi(d.top,0),U=Yi(d.bottom,0);g?_=y-2*(B!==0||I!==0?B+I:Yi(d.left,d.right)):O=b-2*(V!==0||U!==0?V+U:Yi(d.top,d.bottom))}await l({...e,availableWidth:_,availableHeight:O});const $=await o.getDimensions(a.floating);return y!==$.width||b!==$.height?{reset:{rects:!0}}:{}}}};function Yb(){return typeof window<"u"}function bh(t){return oH(t)?(t.nodeName||"").toLowerCase():"#document"}function ts(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qo(t){var e;return(e=(oH(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function oH(t){return Yb()?t instanceof Node||t instanceof ts(t).Node:!1}function po(t){return Yb()?t instanceof Element||t instanceof ts(t).Element:!1}function zo(t){return Yb()?t instanceof HTMLElement||t instanceof ts(t).HTMLElement:!1}function m5(t){return!Yb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ts(t).ShadowRoot}function gy(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=mo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Fue(t){return["table","td","th"].includes(bh(t))}function Xb(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function jO(t){const e=EO(),n=po(t)?mo(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Bue(t){let e=oc(t);for(;zo(e)&&!Pf(e);){if(jO(e))return e;if(Xb(e))return null;e=oc(e)}return null}function EO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pf(t){return["html","body","#document"].includes(bh(t))}function mo(t){return ts(t).getComputedStyle(t)}function Zb(t){return po(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oc(t){if(bh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||m5(t)&&t.host||Qo(t);return m5(e)?e.host:e}function aH(t){const e=oc(t);return Pf(e)?t.ownerDocument?t.ownerDocument.body:t.body:zo(e)&&gy(e)?e:aH(e)}function km(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=aH(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ts(i);if(s){const a=iE(o);return e.concat(o,o.visualViewport||[],gy(i)?i:[],a&&n?km(a):[])}return e.concat(i,km(i,[],n))}function iE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lH(t){const e=mo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=zo(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=px(n)!==s||px(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function kO(t){return po(t)?t:t.contextElement}function cf(t){const e=kO(t);if(!zo(e))return Ro(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=lH(e);let o=(s?px(n.width):n.width)/r,a=(s?px(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Vue=Ro(0);function cH(t){const e=ts(t);return!EO()||!e.visualViewport?Vue:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zue(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ts(t)?!1:e}function Au(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=kO(t);let o=Ro(1);e&&(r?po(r)&&(o=cf(r)):o=cf(t));const a=zue(s,n,r)?cH(s):Ro(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const m=ts(s),g=r&&po(r)?ts(r):r;let y=m,b=iE(y);for(;b&&r&&g!==y;){const x=cf(b),S=b.getBoundingClientRect(),N=mo(b),T=S.left+(b.clientLeft+parseFloat(N.paddingLeft))*x.x,j=S.top+(b.clientTop+parseFloat(N.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,h*=x.y,l+=T,c+=j,y=ts(b),b=iE(y)}}return gx({width:d,height:h,x:l,y:c})}function OO(t,e){const n=Zb(t).scrollLeft;return e?e.left+n:Au(Qo(t)).left+n}function uH(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:OO(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Uue(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Qo(r),a=e?Xb(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Ro(1);const d=Ro(0),h=zo(r);if((h||!h&&!s)&&((bh(r)!=="body"||gy(o))&&(l=Zb(r)),zo(r))){const g=Au(r);c=cf(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const m=o&&!h&&!s?uH(o,l,!0):Ro(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+m.x,y:n.y*c.y-l.scrollTop*c.y+d.y+m.y}}function que(t){return Array.from(t.getClientRects())}function Hue(t){const e=Qo(t),n=Zb(t),r=t.ownerDocument.body,i=Yi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Yi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+OO(t);const a=-n.scrollTop;return mo(r).direction==="rtl"&&(o+=Yi(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Wue(t,e){const n=ts(t),r=Qo(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=EO();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Kue(t,e){const n=Au(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=zo(t)?cf(t):Ro(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function g5(t,e,n){let r;if(e==="viewport")r=Wue(t,n);else if(e==="document")r=Hue(Qo(t));else if(po(e))r=Kue(e,n);else{const i=cH(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return gx(r)}function dH(t,e){const n=oc(t);return n===e||!po(n)||Pf(n)?!1:mo(n).position==="fixed"||dH(n,e)}function Gue(t,e){const n=e.get(t);if(n)return n;let r=km(t,[],!1).filter(a=>po(a)&&bh(a)!=="body"),i=null;const s=mo(t).position==="fixed";let o=s?oc(t):t;for(;po(o)&&!Pf(o);){const a=mo(o),l=jO(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||gy(o)&&!l&&dH(t,o))?r=r.filter(d=>d!==o):i=a,o=oc(o)}return e.set(t,r),r}function Que(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Xb(e)?[]:Gue(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=g5(e,d,i);return c.top=Yi(h.top,c.top),c.right=ic(h.right,c.right),c.bottom=ic(h.bottom,c.bottom),c.left=Yi(h.left,c.left),c},g5(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Yue(t){const{width:e,height:n}=lH(t);return{width:e,height:n}}function Xue(t,e,n){const r=zo(e),i=Qo(e),s=n==="fixed",o=Au(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ro(0);if(r||!r&&!s)if((bh(e)!=="body"||gy(i))&&(a=Zb(e)),r){const m=Au(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&(l.x=OO(i));const c=i&&!r&&!s?uH(i,a):Ro(0),d=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:d,y:h,width:o.width,height:o.height}}function TC(t){return mo(t).position==="static"}function y5(t,e){if(!zo(t)||mo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Qo(t)===n&&(n=n.ownerDocument.body),n}function fH(t,e){const n=ts(t);if(Xb(t))return n;if(!zo(t)){let i=oc(t);for(;i&&!Pf(i);){if(po(i)&&!TC(i))return i;i=oc(i)}return n}let r=y5(t,e);for(;r&&Fue(r)&&TC(r);)r=y5(r,e);return r&&Pf(r)&&TC(r)&&!jO(r)?n:r||Bue(t)||n}const Zue=async function(t){const e=this.getOffsetParent||fH,n=this.getDimensions,r=await n(t.floating);return{reference:Xue(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Jue(t){return mo(t).direction==="rtl"}const ede={convertOffsetParentRelativeRectToViewportRelativeRect:Uue,getDocumentElement:Qo,getClippingRect:Que,getOffsetParent:fH,getElementRects:Zue,getClientRects:que,getDimensions:Yue,getScale:cf,isElement:po,isRTL:Jue};function hH(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function tde(t,e){let n=null,r;const i=Qo(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:h,width:m,height:g}=c;if(a||e(),!m||!g)return;const y=h0(h),b=h0(i.clientWidth-(d+m)),x=h0(i.clientHeight-(h+g)),S=h0(d),T={rootMargin:-y+"px "+-b+"px "+-x+"px "+-S+"px",threshold:Yi(0,ic(1,l))||1};let j=!0;function P(E){const O=E[0].intersectionRatio;if(O!==l){if(!j)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!hH(c,t.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(P,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,T)}n.observe(t)}return o(!0),s}function nde(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=kO(t),d=i||s?[...c?km(c):[],...km(e)]:[];d.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),s&&S.addEventListener("resize",n)});const h=c&&a?tde(c,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(S=>{let[N]=S;N&&N.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let y,b=l?Au(t):null;l&&x();function x(){const S=Au(t);b&&!hH(b,S)&&n(),b=S,y=requestAnimationFrame(x)}return n(),()=>{var S;d.forEach(N=>{i&&N.removeEventListener("scroll",n),s&&N.removeEventListener("resize",n)}),h?.(),(S=g)==null||S.disconnect(),g=null,l&&cancelAnimationFrame(y)}}const rde=Iue,ide=Rue,sde=$ue,ode=Lue,ade=_ue,v5=Oue,lde=Due,cde=(t,e,n)=>{const r=new Map,i={platform:ede,...n},s={...i.platform,_c:r};return kue(t,e,{...i,platform:s})};var Y0=typeof document<"u"?C.useLayoutEffect:C.useEffect;function yx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!yx(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!yx(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function pH(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function x5(t,e){const n=pH(t);return Math.round(e*n)/n}function AC(t){const e=C.useRef(t);return Y0(()=>{e.current=t}),e}function ude(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=C.useState(r);yx(m,r)||g(r);const[y,b]=C.useState(null),[x,S]=C.useState(null),N=C.useCallback(M=>{M!==E.current&&(E.current=M,b(M))},[]),T=C.useCallback(M=>{M!==O.current&&(O.current=M,S(M))},[]),j=s||y,P=o||x,E=C.useRef(null),O=C.useRef(null),_=C.useRef(d),$=l!=null,B=AC(l),I=AC(i),V=AC(c),U=C.useCallback(()=>{if(!E.current||!O.current)return;const M={placement:e,strategy:n,middleware:m};I.current&&(M.platform=I.current),cde(E.current,O.current,M).then(D=>{const Q={...D,isPositioned:V.current!==!1};L.current&&!yx(_.current,Q)&&(_.current=Q,gh.flushSync(()=>{h(Q)}))})},[m,e,n,I,V]);Y0(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(M=>({...M,isPositioned:!1})))},[c]);const L=C.useRef(!1);Y0(()=>(L.current=!0,()=>{L.current=!1}),[]),Y0(()=>{if(j&&(E.current=j),P&&(O.current=P),j&&P){if(B.current)return B.current(j,P,U);U()}},[j,P,U,B,$]);const z=C.useMemo(()=>({reference:E,floating:O,setReference:N,setFloating:T}),[N,T]),F=C.useMemo(()=>({reference:j,floating:P}),[j,P]),q=C.useMemo(()=>{const M={position:n,left:0,top:0};if(!F.floating)return M;const D=x5(F.floating,d.x),Q=x5(F.floating,d.y);return a?{...M,transform:"translate("+D+"px, "+Q+"px)",...pH(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:Q}},[n,a,F.floating,d.x,d.y]);return C.useMemo(()=>({...d,update:U,refs:z,elements:F,floatingStyles:q}),[d,U,z,F,q])}const dde=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?v5({element:r.current,padding:i}).fn(n):{}:r?v5({element:r,padding:i}).fn(n):{}}}},fde=(t,e)=>({...rde(t),options:[t,e]}),hde=(t,e)=>({...ide(t),options:[t,e]}),pde=(t,e)=>({...lde(t),options:[t,e]}),mde=(t,e)=>({...sde(t),options:[t,e]}),gde=(t,e)=>({...ode(t),options:[t,e]}),yde=(t,e)=>({...ade(t),options:[t,e]}),vde=(t,e)=>({...dde(t),options:[t,e]});var xde="Arrow",mH=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return u.jsx(Xe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});mH.displayName=xde;var bde=mH;function $O(t){const[e,n]=C.useState(void 0);return hr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var _O="Popper",[gH,mc]=Hr(_O),[wde,yH]=gH(_O),vH=t=>{const{__scopePopper:e,children:n}=t,[r,i]=C.useState(null);return u.jsx(wde,{scope:e,anchor:r,onAnchorChange:i,children:n})};vH.displayName=_O;var xH="PopperAnchor",bH=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=yH(xH,n),o=C.useRef(null),a=Ot(e,o);return C.useEffect(()=>{s.onAnchorChange(r?.current||o.current)}),r?null:u.jsx(Xe.div,{...i,ref:a})});bH.displayName=xH;var MO="PopperContent",[Sde,Cde]=gH(MO),wH=C.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:y,...b}=t,x=yH(MO,n),[S,N]=C.useState(null),T=Ot(e,me=>N(me)),[j,P]=C.useState(null),E=$O(j),O=E?.width??0,_=E?.height??0,$=r+(s!=="center"?"-"+s:""),B=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(c)?c:[c],V=I.length>0,U={padding:B,boundary:I.filter(Pde),altBoundary:V},{refs:L,floatingStyles:z,placement:F,isPositioned:q,middlewareData:M}=ude({strategy:"fixed",placement:$,whileElementsMounted:(...me)=>nde(...me,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[fde({mainAxis:i+_,alignmentAxis:o}),l&&hde({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?pde():void 0,...U}),l&&mde({...U}),gde({...U,apply:({elements:me,rects:Se,availableWidth:ue,availableHeight:Pe})=>{const{width:Oe,height:oe}=Se.reference,lt=me.floating.style;lt.setProperty("--radix-popper-available-width",`${ue}px`),lt.setProperty("--radix-popper-available-height",`${Pe}px`),lt.setProperty("--radix-popper-anchor-width",`${Oe}px`),lt.setProperty("--radix-popper-anchor-height",`${oe}px`)}}),j&&vde({element:j,padding:a}),Tde({arrowWidth:O,arrowHeight:_}),m&&yde({strategy:"referenceHidden",...U})]}),[D,Q]=NH(F),W=fr(y);hr(()=>{q&&W?.()},[q,W]);const Y=M.arrow?.x,le=M.arrow?.y,pe=M.arrow?.centerOffset!==0,[he,Ae]=C.useState();return hr(()=>{S&&Ae(window.getComputedStyle(S).zIndex)},[S]),u.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:q?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(Sde,{scope:n,placedSide:D,onArrowChange:P,arrowX:Y,arrowY:le,shouldHideArrow:pe,children:u.jsx(Xe.div,{"data-side":D,"data-align":Q,...b,ref:T,style:{...b.style,animation:q?void 0:"none"}})})})});wH.displayName=MO;var SH="PopperArrow",Nde={top:"bottom",right:"left",bottom:"top",left:"right"},CH=C.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Cde(SH,r),o=Nde[s.placedSide];return u.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:u.jsx(bde,{...i,ref:n,style:{...i.style,display:"block"}})})});CH.displayName=SH;function Pde(t){return t!==null}var Tde=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=NH(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(i.arrow?.x??0)+a/2,g=(i.arrow?.y??0)+l/2;let y="",b="";return c==="bottom"?(y=o?h:`${m}px`,b=`${-l}px`):c==="top"?(y=o?h:`${m}px`,b=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,b=o?h:`${g}px`):c==="left"&&(y=`${r.floating.width+l}px`,b=o?h:`${g}px`),{data:{x:y,y:b}}}});function NH(t){const[e,n="center"]=t.split("-");return[e,n]}var Jb=vH,yy=bH,ew=wH,tw=CH,[nw]=Hr("Tooltip",[mc]),IO=mc(),PH="TooltipProvider",Ade=700,b5="tooltip.open",[jde,TH]=nw(PH),AH=t=>{const{__scopeTooltip:e,delayDuration:n=Ade,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=C.useRef(!0),a=C.useRef(!1),l=C.useRef(0);return C.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(jde,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:C.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};AH.displayName=PH;var jH="Tooltip",[GWe,rw]=nw(jH),sE="TooltipTrigger",Ede=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=rw(sE,n),s=TH(sE,n),o=IO(n),a=C.useRef(null),l=Ot(e,a,i.onTriggerChange),c=C.useRef(!1),d=C.useRef(!1),h=C.useCallback(()=>c.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx(yy,{asChild:!0,...o,children:u.jsx(Xe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Ee(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ee(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Ee(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ee(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ee(t.onBlur,i.onClose),onClick:Ee(t.onClick,i.onClose)})})});Ede.displayName=sE;var kde="TooltipPortal",[QWe,Ode]=nw(kde,{forceMount:void 0}),Tf="TooltipContent",EH=C.forwardRef((t,e)=>{const n=Ode(Tf,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=rw(Tf,t.__scopeTooltip);return u.jsx(Di,{present:r||o.open,children:o.disableHoverableContent?u.jsx(kH,{side:i,...s,ref:e}):u.jsx($de,{side:i,...s,ref:e})})}),$de=C.forwardRef((t,e)=>{const n=rw(Tf,t.__scopeTooltip),r=TH(Tf,t.__scopeTooltip),i=C.useRef(null),s=Ot(e,i),[o,a]=C.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:h}=r,m=C.useCallback(()=>{a(null),h(!1)},[h]),g=C.useCallback((y,b)=>{const x=y.currentTarget,S={x:y.clientX,y:y.clientY},N=Dde(S,x.getBoundingClientRect()),T=Lde(S,N),j=Fde(b.getBoundingClientRect()),P=Vde([...T,...j]);a(P),h(!0)},[h]);return C.useEffect(()=>()=>m(),[m]),C.useEffect(()=>{if(l&&d){const y=x=>g(x,d),b=x=>g(x,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",b),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",b)}}},[l,d,g,m]),C.useEffect(()=>{if(o){const y=b=>{const x=b.target,S={x:b.clientX,y:b.clientY},N=l?.contains(x)||d?.contains(x),T=!Bde(S,o);N?m():T&&(m(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,o,c,m]),u.jsx(kH,{...t,ref:s})}),[_de,Mde]=nw(jH,{isInside:!1}),Ide=hq("TooltipContent"),kH=C.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=rw(Tf,n),c=IO(n),{onClose:d}=l;return C.useEffect(()=>(document.addEventListener(b5,d),()=>document.removeEventListener(b5,d)),[d]),C.useEffect(()=>{if(l.trigger){const h=m=>{m.target?.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),u.jsx(Ku,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:u.jsxs(ew,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(Ide,{children:r}),u.jsx(_de,{scope:n,isInside:!0,children:u.jsx(Ale,{id:l.contentId,role:"tooltip",children:i||r})})]})})});EH.displayName=Tf;var OH="TooltipArrow",Rde=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=IO(n);return Mde(OH,n).isInside?null:u.jsx(tw,{...i,...r,ref:e})});Rde.displayName=OH;function Dde(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Lde(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Fde(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Bde(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function Vde(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),zde(e)}function zde(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Ude=AH,$H=EH;const qde=Ude,Hde=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx($H,{ref:r,sideOffset:e,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));Hde.displayName=$H.displayName;async function Wde(){const t=await fetch("/api/auth/user",{credentials:"include"});if(t.status===401)return null;if(!t.ok)throw new Error(`${t.status}: ${t.statusText}`);return t.json()}async function Kde(){window.location.href="/api/logout"}function wh(){const t=Kn(),{data:e,isLoading:n}=pt({queryKey:["/api/auth/user"],queryFn:Wde,retry:!1,staleTime:1e3*60*5}),r=dt({mutationFn:Kde,onSuccess:()=>{t.setQueryData(["/api/auth/user"],null)}});return{user:e,isLoading:n,isAuthenticated:!!e,logout:r.mutate,isLoggingOut:r.isPending}}var Rt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Rt||(Rt={}));var oE;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(oE||(oE={}));const ze=Rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),va=t=>{switch(typeof t){case"undefined":return ze.undefined;case"string":return ze.string;case"number":return Number.isNaN(t)?ze.nan:ze.number;case"boolean":return ze.boolean;case"function":return ze.function;case"bigint":return ze.bigint;case"symbol":return ze.symbol;case"object":return Array.isArray(t)?ze.array:t===null?ze.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ze.promise:typeof Map<"u"&&t instanceof Map?ze.map:typeof Set<"u"&&t instanceof Set?ze.set:typeof Date<"u"&&t instanceof Date?ze.date:ze.object;default:return ze.unknown}},Ce=Rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Gde=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ns extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof ns))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ns.create=t=>new ns(t);const Af=(t,e)=>{let n;switch(t.code){case Ce.invalid_type:t.received===ze.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ce.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Rt.jsonStringifyReplacer)}`;break;case Ce.unrecognized_keys:n=`Unrecognized key(s) in object: ${Rt.joinValues(t.keys,", ")}`;break;case Ce.invalid_union:n="Invalid input";break;case Ce.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Rt.joinValues(t.options)}`;break;case Ce.invalid_enum_value:n=`Invalid enum value. Expected ${Rt.joinValues(t.options)}, received '${t.received}'`;break;case Ce.invalid_arguments:n="Invalid function arguments";break;case Ce.invalid_return_type:n="Invalid function return type";break;case Ce.invalid_date:n="Invalid date";break;case Ce.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Rt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ce.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ce.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ce.custom:n="Invalid input";break;case Ce.invalid_intersection_types:n="Intersection results could not be merged";break;case Ce.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ce.not_finite:n="Number must be finite";break;default:n=e.defaultError,Rt.assertNever(t)}return{message:n}};let _H=Af;function Qde(t){_H=t}function vx(){return _H}const xx=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},Yde=[];function De(t,e){const n=vx(),r=xx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Af?void 0:Af].filter(i=>!!i)});t.common.issues.push(r)}class ai{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return st;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return ai.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return st;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const st=Object.freeze({status:"aborted"}),Gd=t=>({status:"dirty",value:t}),bi=t=>({status:"valid",value:t}),aE=t=>t.status==="aborted",lE=t=>t.status==="dirty",ju=t=>t.status==="valid",Om=t=>typeof Promise<"u"&&t instanceof Promise;var Qe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Qe||(Qe={}));class Uo{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const w5=(t,e)=>{if(ju(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ns(t.common.issues);return this._error=n,this._error}}};function vt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}class Nt{get description(){return this._def.description}_getType(e){return va(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:va(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ai,ctx:{common:e.parent.common,data:e.data,parsedType:va(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Om(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:va(e)},i=this._parseSync({data:e,path:r.path,parent:r});return w5(r,i)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:va(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return ju(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>ju(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:va(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Om(i)?i:Promise.resolve(i));return w5(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Ce.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new go({schema:this,typeName:at.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Do.create(this,this._def)}nullable(){return uc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return co.create(this)}promise(){return Ef.create(this,this._def)}or(e){return Im.create([this,e],this._def)}and(e){return Rm.create(this,e,this._def)}transform(e){return new go({...vt(this._def),schema:this,typeName:at.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Vm({...vt(this._def),innerType:this,defaultValue:n,typeName:at.ZodDefault})}brand(){return new RO({typeName:at.ZodBranded,type:this,...vt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new zm({...vt(this._def),innerType:this,catchValue:n,typeName:at.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return vy.create(this,e)}readonly(){return Um.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Xde=/^c[^\s-]{8,}$/i,Zde=/^[0-9a-z]+$/,Jde=/^[0-9A-HJKMNP-TV-Z]{26}$/i,efe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tfe=/^[a-z0-9_-]{21}$/i,nfe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rfe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ife=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sfe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let jC;const ofe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,afe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,lfe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,cfe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ufe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dfe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,MH="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ffe=new RegExp(`^${MH}$`);function IH(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function hfe(t){return new RegExp(`^${IH(t)}$`)}function RH(t){let e=`${MH}T${IH(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function pfe(t,e){return!!((e==="v4"||!e)&&ofe.test(t)||(e==="v6"||!e)&&lfe.test(t))}function mfe(t,e){if(!nfe.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function gfe(t,e){return!!((e==="v4"||!e)&&afe.test(t)||(e==="v6"||!e)&&cfe.test(t))}class oo extends Nt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ze.string){const s=this._getOrReturnCtx(e);return De(s,{code:Ce.invalid_type,expected:ze.string,received:s.parsedType}),st}const r=new ai;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),De(i,{code:Ce.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),De(i,{code:Ce.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?De(i,{code:Ce.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&De(i,{code:Ce.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")ife.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"email",code:Ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")jC||(jC=new RegExp(sfe,"u")),jC.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"emoji",code:Ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")efe.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"uuid",code:Ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")tfe.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"nanoid",code:Ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Xde.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"cuid",code:Ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Zde.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"cuid2",code:Ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Jde.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"ulid",code:Ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),De(i,{validation:"url",code:Ce.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"regex",code:Ce.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),De(i,{code:Ce.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),De(i,{code:Ce.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),De(i,{code:Ce.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?RH(s).test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{code:Ce.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?ffe.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{code:Ce.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?hfe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{code:Ce.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?rfe.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"duration",code:Ce.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?pfe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"ip",code:Ce.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?mfe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"jwt",code:Ce.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?gfe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"cidr",code:Ce.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?ufe.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"base64",code:Ce.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?dfe.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"base64url",code:Ce.invalid_string,message:s.message}),r.dirty()):Rt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Ce.invalid_string,...Qe.errToObj(r)})}_addCheck(e){return new oo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Qe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Qe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Qe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Qe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Qe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Qe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Qe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Qe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Qe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Qe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Qe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Qe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Qe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Qe.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Qe.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Qe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Qe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Qe.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Qe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Qe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Qe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Qe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Qe.errToObj(n)})}nonempty(e){return this.min(1,Qe.errToObj(e))}trim(){return new oo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new oo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new oo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}oo.create=t=>new oo({checks:[],typeName:at.ZodString,coerce:t?.coerce??!1,...vt(t)});function yfe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class ac extends Nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ze.number){const s=this._getOrReturnCtx(e);return De(s,{code:Ce.invalid_type,expected:ze.number,received:s.parsedType}),st}let r;const i=new ai;for(const s of this._def.checks)s.kind==="int"?Rt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),De(r,{code:Ce.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),De(r,{code:Ce.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),De(r,{code:Ce.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?yfe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),De(r,{code:Ce.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),De(r,{code:Ce.not_finite,message:s.message}),i.dirty()):Rt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Qe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Qe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Qe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Qe.toString(n))}setLimit(e,n,r,i){return new ac({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Qe.toString(i)}]})}_addCheck(e){return new ac({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Qe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Qe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Qe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Qe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Qe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Qe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Qe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Qe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Qe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Rt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ac.create=t=>new ac({checks:[],typeName:at.ZodNumber,coerce:t?.coerce||!1,...vt(t)});class lc extends Nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ze.bigint)return this._getInvalidInput(e);let r;const i=new ai;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),De(r,{code:Ce.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),De(r,{code:Ce.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),De(r,{code:Ce.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Rt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return De(n,{code:Ce.invalid_type,expected:ze.bigint,received:n.parsedType}),st}gte(e,n){return this.setLimit("min",e,!0,Qe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Qe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Qe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Qe.toString(n))}setLimit(e,n,r,i){return new lc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Qe.toString(i)}]})}_addCheck(e){return new lc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Qe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Qe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Qe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Qe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Qe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}lc.create=t=>new lc({checks:[],typeName:at.ZodBigInt,coerce:t?.coerce??!1,...vt(t)});class $m extends Nt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ze.boolean){const r=this._getOrReturnCtx(e);return De(r,{code:Ce.invalid_type,expected:ze.boolean,received:r.parsedType}),st}return bi(e.data)}}$m.create=t=>new $m({typeName:at.ZodBoolean,coerce:t?.coerce||!1,...vt(t)});class Eu extends Nt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ze.date){const s=this._getOrReturnCtx(e);return De(s,{code:Ce.invalid_type,expected:ze.date,received:s.parsedType}),st}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return De(s,{code:Ce.invalid_date}),st}const r=new ai;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),De(i,{code:Ce.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),De(i,{code:Ce.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Rt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Eu({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Qe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Qe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Eu.create=t=>new Eu({checks:[],coerce:t?.coerce||!1,typeName:at.ZodDate,...vt(t)});class bx extends Nt{_parse(e){if(this._getType(e)!==ze.symbol){const r=this._getOrReturnCtx(e);return De(r,{code:Ce.invalid_type,expected:ze.symbol,received:r.parsedType}),st}return bi(e.data)}}bx.create=t=>new bx({typeName:at.ZodSymbol,...vt(t)});class _m extends Nt{_parse(e){if(this._getType(e)!==ze.undefined){const r=this._getOrReturnCtx(e);return De(r,{code:Ce.invalid_type,expected:ze.undefined,received:r.parsedType}),st}return bi(e.data)}}_m.create=t=>new _m({typeName:at.ZodUndefined,...vt(t)});class Mm extends Nt{_parse(e){if(this._getType(e)!==ze.null){const r=this._getOrReturnCtx(e);return De(r,{code:Ce.invalid_type,expected:ze.null,received:r.parsedType}),st}return bi(e.data)}}Mm.create=t=>new Mm({typeName:at.ZodNull,...vt(t)});class jf extends Nt{constructor(){super(...arguments),this._any=!0}_parse(e){return bi(e.data)}}jf.create=t=>new jf({typeName:at.ZodAny,...vt(t)});class uu extends Nt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return bi(e.data)}}uu.create=t=>new uu({typeName:at.ZodUnknown,...vt(t)});class Fa extends Nt{_parse(e){const n=this._getOrReturnCtx(e);return De(n,{code:Ce.invalid_type,expected:ze.never,received:n.parsedType}),st}}Fa.create=t=>new Fa({typeName:at.ZodNever,...vt(t)});class wx extends Nt{_parse(e){if(this._getType(e)!==ze.undefined){const r=this._getOrReturnCtx(e);return De(r,{code:Ce.invalid_type,expected:ze.void,received:r.parsedType}),st}return bi(e.data)}}wx.create=t=>new wx({typeName:at.ZodVoid,...vt(t)});class co extends Nt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ze.array)return De(n,{code:Ce.invalid_type,expected:ze.array,received:n.parsedType}),st;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(De(n,{code:o?Ce.too_big:Ce.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(De(n,{code:Ce.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(De(n,{code:Ce.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new Uo(n,o,n.path,a)))).then(o=>ai.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new Uo(n,o,n.path,a)));return ai.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new co({...this._def,minLength:{value:e,message:Qe.toString(n)}})}max(e,n){return new co({...this._def,maxLength:{value:e,message:Qe.toString(n)}})}length(e,n){return new co({...this._def,exactLength:{value:e,message:Qe.toString(n)}})}nonempty(e){return this.min(1,e)}}co.create=(t,e)=>new co({type:t,minLength:null,maxLength:null,exactLength:null,typeName:at.ZodArray,...vt(e)});function Ud(t){if(t instanceof jn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Do.create(Ud(r))}return new jn({...t._def,shape:()=>e})}else return t instanceof co?new co({...t._def,type:Ud(t.element)}):t instanceof Do?Do.create(Ud(t.unwrap())):t instanceof uc?uc.create(Ud(t.unwrap())):t instanceof qo?qo.create(t.items.map(e=>Ud(e))):t}class jn extends Nt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Rt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ze.object){const c=this._getOrReturnCtx(e);return De(c,{code:Ce.invalid_type,expected:ze.object,received:c.parsedType}),st}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Fa&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const d=s[c],h=i.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new Uo(i,h,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Fa){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")a.length>0&&(De(i,{code:Ce.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const h=i.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new Uo(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const h=await d.key,m=await d.value;c.push({key:h,value:m,alwaysSet:d.alwaysSet})}return c}).then(c=>ai.mergeObjectSync(r,c)):ai.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Qe.errToObj,new jn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:Qe.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new jn({...this._def,unknownKeys:"strip"})}passthrough(){return new jn({...this._def,unknownKeys:"passthrough"})}extend(e){return new jn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new jn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:at.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new jn({...this._def,catchall:e})}pick(e){const n={};for(const r of Rt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new jn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Rt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new jn({...this._def,shape:()=>n})}deepPartial(){return Ud(this)}partial(e){const n={};for(const r of Rt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new jn({...this._def,shape:()=>n})}required(e){const n={};for(const r of Rt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Do;)s=s._def.innerType;n[r]=s}return new jn({...this._def,shape:()=>n})}keyof(){return DH(Rt.objectKeys(this.shape))}}jn.create=(t,e)=>new jn({shape:()=>t,unknownKeys:"strip",catchall:Fa.create(),typeName:at.ZodObject,...vt(e)});jn.strictCreate=(t,e)=>new jn({shape:()=>t,unknownKeys:"strict",catchall:Fa.create(),typeName:at.ZodObject,...vt(e)});jn.lazycreate=(t,e)=>new jn({shape:t,unknownKeys:"strip",catchall:Fa.create(),typeName:at.ZodObject,...vt(e)});class Im extends Nt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new ns(a.ctx.common.issues));return De(n,{code:Ce.invalid_union,unionErrors:o}),st}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new ns(l));return De(n,{code:Ce.invalid_union,unionErrors:a}),st}}get options(){return this._def.options}}Im.create=(t,e)=>new Im({options:t,typeName:at.ZodUnion,...vt(e)});const ma=t=>t instanceof Lm?ma(t.schema):t instanceof go?ma(t.innerType()):t instanceof Fm?[t.value]:t instanceof cc?t.options:t instanceof Bm?Rt.objectValues(t.enum):t instanceof Vm?ma(t._def.innerType):t instanceof _m?[void 0]:t instanceof Mm?[null]:t instanceof Do?[void 0,...ma(t.unwrap())]:t instanceof uc?[null,...ma(t.unwrap())]:t instanceof RO||t instanceof Um?ma(t.unwrap()):t instanceof zm?ma(t._def.innerType):[];class iw extends Nt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ze.object)return De(n,{code:Ce.invalid_type,expected:ze.object,received:n.parsedType}),st;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(De(n,{code:Ce.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),st)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=ma(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new iw({typeName:at.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...vt(r)})}}function cE(t,e){const n=va(t),r=va(e);if(t===e)return{valid:!0,data:t};if(n===ze.object&&r===ze.object){const i=Rt.objectKeys(e),s=Rt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=cE(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ze.array&&r===ze.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=cE(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ze.date&&r===ze.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Rm extends Nt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(aE(s)||aE(o))return st;const a=cE(s.value,o.value);return a.valid?((lE(s)||lE(o))&&n.dirty(),{status:n.value,value:a.data}):(De(r,{code:Ce.invalid_intersection_types}),st)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Rm.create=(t,e,n)=>new Rm({left:t,right:e,typeName:at.ZodIntersection,...vt(n)});class qo extends Nt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ze.array)return De(r,{code:Ce.invalid_type,expected:ze.array,received:r.parsedType}),st;if(r.data.length<this._def.items.length)return De(r,{code:Ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),st;!this._def.rest&&r.data.length>this._def.items.length&&(De(r,{code:Ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Uo(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>ai.mergeArray(n,o)):ai.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new qo({...this._def,rest:e})}}qo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qo({items:t,typeName:at.ZodTuple,rest:null,...vt(e)})};class Dm extends Nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ze.object)return De(r,{code:Ce.invalid_type,expected:ze.object,received:r.parsedType}),st;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Uo(r,a,r.path,a)),value:o._parse(new Uo(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?ai.mergeObjectAsync(n,i):ai.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Nt?new Dm({keyType:e,valueType:n,typeName:at.ZodRecord,...vt(r)}):new Dm({keyType:oo.create(),valueType:e,typeName:at.ZodRecord,...vt(n)})}}class Sx extends Nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ze.map)return De(r,{code:Ce.invalid_type,expected:ze.map,received:r.parsedType}),st;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new Uo(r,a,r.path,[c,"key"])),value:s._parse(new Uo(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return st;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return st;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}}}}Sx.create=(t,e,n)=>new Sx({valueType:e,keyType:t,typeName:at.ZodMap,...vt(n)});class ku extends Nt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ze.set)return De(r,{code:Ce.invalid_type,expected:ze.set,received:r.parsedType}),st;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(De(r,{code:Ce.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(De(r,{code:Ce.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const d of l){if(d.status==="aborted")return st;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new Uo(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new ku({...this._def,minSize:{value:e,message:Qe.toString(n)}})}max(e,n){return new ku({...this._def,maxSize:{value:e,message:Qe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ku.create=(t,e)=>new ku({valueType:t,minSize:null,maxSize:null,typeName:at.ZodSet,...vt(e)});class uf extends Nt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ze.function)return De(n,{code:Ce.invalid_type,expected:ze.function,received:n.parsedType}),st;function r(a,l){return xx({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,vx(),Af].filter(c=>!!c),issueData:{code:Ce.invalid_arguments,argumentsError:l}})}function i(a,l){return xx({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,vx(),Af].filter(c=>!!c),issueData:{code:Ce.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ef){const a=this;return bi(async function(...l){const c=new ns([]),d=await a._def.args.parseAsync(l,s).catch(g=>{throw c.addIssue(r(l,g)),c}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,s).catch(g=>{throw c.addIssue(i(h,g)),c})})}else{const a=this;return bi(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new ns([r(l,c.error)]);const d=Reflect.apply(o,this,c.data),h=a._def.returns.safeParse(d,s);if(!h.success)throw new ns([i(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new uf({...this._def,args:qo.create(e).rest(uu.create())})}returns(e){return new uf({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new uf({args:e||qo.create([]).rest(uu.create()),returns:n||uu.create(),typeName:at.ZodFunction,...vt(r)})}}class Lm extends Nt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Lm.create=(t,e)=>new Lm({getter:t,typeName:at.ZodLazy,...vt(e)});class Fm extends Nt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return De(n,{received:n.data,code:Ce.invalid_literal,expected:this._def.value}),st}return{status:"valid",value:e.data}}get value(){return this._def.value}}Fm.create=(t,e)=>new Fm({value:t,typeName:at.ZodLiteral,...vt(e)});function DH(t,e){return new cc({values:t,typeName:at.ZodEnum,...vt(e)})}class cc extends Nt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return De(n,{expected:Rt.joinValues(r),received:n.parsedType,code:Ce.invalid_type}),st}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return De(n,{received:n.data,code:Ce.invalid_enum_value,options:r}),st}return bi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return cc.create(e,{...this._def,...n})}exclude(e,n=this._def){return cc.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}cc.create=DH;class Bm extends Nt{_parse(e){const n=Rt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ze.string&&r.parsedType!==ze.number){const i=Rt.objectValues(n);return De(r,{expected:Rt.joinValues(i),received:r.parsedType,code:Ce.invalid_type}),st}if(this._cache||(this._cache=new Set(Rt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Rt.objectValues(n);return De(r,{received:r.data,code:Ce.invalid_enum_value,options:i}),st}return bi(e.data)}get enum(){return this._def.values}}Bm.create=(t,e)=>new Bm({values:t,typeName:at.ZodNativeEnum,...vt(e)});class Ef extends Nt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ze.promise&&n.common.async===!1)return De(n,{code:Ce.invalid_type,expected:ze.promise,received:n.parsedType}),st;const r=n.parsedType===ze.promise?n.data:Promise.resolve(n.data);return bi(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ef.create=(t,e)=>new Ef({type:t,typeName:at.ZodPromise,...vt(e)});class go extends Nt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===at.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{De(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return st;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?st:l.status==="dirty"||n.value==="dirty"?Gd(l.value):l});{if(n.value==="aborted")return st;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?st:a.status==="dirty"||n.value==="dirty"?Gd(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?st:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?st:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ju(o))return st;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ju(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):st);Rt.assertNever(i)}}go.create=(t,e,n)=>new go({schema:t,typeName:at.ZodEffects,effect:e,...vt(n)});go.createWithPreprocess=(t,e,n)=>new go({schema:e,effect:{type:"preprocess",transform:t},typeName:at.ZodEffects,...vt(n)});class Do extends Nt{_parse(e){return this._getType(e)===ze.undefined?bi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Do.create=(t,e)=>new Do({innerType:t,typeName:at.ZodOptional,...vt(e)});class uc extends Nt{_parse(e){return this._getType(e)===ze.null?bi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}uc.create=(t,e)=>new uc({innerType:t,typeName:at.ZodNullable,...vt(e)});class Vm extends Nt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ze.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Vm.create=(t,e)=>new Vm({innerType:t,typeName:at.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...vt(e)});class zm extends Nt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Om(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ns(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ns(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}zm.create=(t,e)=>new zm({innerType:t,typeName:at.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...vt(e)});class Cx extends Nt{_parse(e){if(this._getType(e)!==ze.nan){const r=this._getOrReturnCtx(e);return De(r,{code:Ce.invalid_type,expected:ze.nan,received:r.parsedType}),st}return{status:"valid",value:e.data}}}Cx.create=t=>new Cx({typeName:at.ZodNaN,...vt(t)});const vfe=Symbol("zod_brand");class RO extends Nt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class vy extends Nt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?st:s.status==="dirty"?(n.dirty(),Gd(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?st:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new vy({in:e,out:n,typeName:at.ZodPipeline})}}class Um extends Nt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(ju(i)&&(i.value=Object.freeze(i.value)),i);return Om(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Um.create=(t,e)=>new Um({innerType:t,typeName:at.ZodReadonly,...vt(e)});function S5(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function Qt(t,e={},n){return t?jf.create().superRefine((r,i)=>{const s=t(r);if(s instanceof Promise)return s.then(o=>{if(!o){const a=S5(e,r),l=a.fatal??n??!0;i.addIssue({code:"custom",...a,fatal:l})}});if(!s){const o=S5(e,r),a=o.fatal??n??!0;i.addIssue({code:"custom",...o,fatal:a})}}):jf.create()}const xfe={object:jn.lazycreate};var at;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(at||(at={}));const bfe=(t,e={message:`Input not instance of ${t.name}`})=>Qt(n=>n instanceof t,e),gt=oo.create,Wi=ac.create,wfe=Cx.create,Sfe=lc.create,Oo=$m.create,Cfe=Eu.create,Nfe=bx.create,Pfe=_m.create,LH=Mm.create,qm=jf.create,Tfe=uu.create,Afe=Fa.create,jfe=wx.create,Dr=co.create,gn=jn.create,Efe=jn.strictCreate,DO=Im.create,kfe=iw.create,Ofe=Rm.create,$fe=qo.create,Nx=Dm.create,_fe=Sx.create,Mfe=ku.create,Ife=uf.create,Rfe=Lm.create,Dfe=Fm.create,FH=cc.create,Lfe=Bm.create,Ffe=Ef.create,C5=go.create,Bfe=Do.create,Vfe=uc.create,zfe=go.createWithPreprocess,Ufe=vy.create,qfe=()=>gt().optional(),Hfe=()=>Wi().optional(),Wfe=()=>Oo().optional(),Kfe={string:(t=>oo.create({...t,coerce:!0})),number:(t=>ac.create({...t,coerce:!0})),boolean:(t=>$m.create({...t,coerce:!0})),bigint:(t=>lc.create({...t,coerce:!0})),date:(t=>Eu.create({...t,coerce:!0}))},Gfe=st,Qfe=Object.freeze(Object.defineProperty({__proto__:null,BRAND:vfe,DIRTY:Gd,EMPTY_PATH:Yde,INVALID:st,NEVER:Gfe,OK:bi,ParseStatus:ai,Schema:Nt,ZodAny:jf,ZodArray:co,ZodBigInt:lc,ZodBoolean:$m,ZodBranded:RO,ZodCatch:zm,ZodDate:Eu,ZodDefault:Vm,ZodDiscriminatedUnion:iw,ZodEffects:go,ZodEnum:cc,ZodError:ns,get ZodFirstPartyTypeKind(){return at},ZodFunction:uf,ZodIntersection:Rm,ZodIssueCode:Ce,ZodLazy:Lm,ZodLiteral:Fm,ZodMap:Sx,ZodNaN:Cx,ZodNativeEnum:Bm,ZodNever:Fa,ZodNull:Mm,ZodNullable:uc,ZodNumber:ac,ZodObject:jn,ZodOptional:Do,ZodParsedType:ze,ZodPipeline:vy,ZodPromise:Ef,ZodReadonly:Um,ZodRecord:Dm,ZodSchema:Nt,ZodSet:ku,ZodString:oo,ZodSymbol:bx,ZodTransformer:go,ZodTuple:qo,ZodType:Nt,ZodUndefined:_m,ZodUnion:Im,ZodUnknown:uu,ZodVoid:wx,addIssueToContext:De,any:qm,array:Dr,bigint:Sfe,boolean:Oo,coerce:Kfe,custom:Qt,date:Cfe,datetimeRegex:RH,defaultErrorMap:Af,discriminatedUnion:kfe,effect:C5,enum:FH,function:Ife,getErrorMap:vx,getParsedType:va,instanceof:bfe,intersection:Ofe,isAborted:aE,isAsync:Om,isDirty:lE,isValid:ju,late:xfe,lazy:Rfe,literal:Dfe,makeIssue:xx,map:_fe,nan:wfe,nativeEnum:Lfe,never:Afe,null:LH,nullable:Vfe,number:Wi,object:gn,get objectUtil(){return oE},oboolean:Wfe,onumber:Hfe,optional:Bfe,ostring:qfe,pipeline:Ufe,preprocess:zfe,promise:Ffe,quotelessJson:Gde,record:Nx,set:Mfe,setErrorMap:Qde,strictObject:Efe,string:gt,symbol:Nfe,transformer:C5,tuple:$fe,undefined:Pfe,union:DO,unknown:Tfe,get util(){return Rt},void:jfe},Symbol.toStringTag,{value:"Module"})),ge=Symbol.for("drizzle:entityKind");function Zn(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,ge))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(ge in n&&n[ge]===e[ge])return!0;n=Object.getPrototypeOf(n)}return!1}class Hm{constructor(e,n){this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}static[ge]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class Yfe{static[ge]="ColumnBuilder";config;constructor(e,n,r){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const df=Symbol.for("drizzle:Name");class Xfe{static[ge]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,n){this.reference=()=>{const{name:r,columns:i,foreignColumns:s}=e();return{name:r,columns:i,foreignTable:s[0].table,foreignColumns:s}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new Zfe(e,this)}}class Zfe{constructor(e,n){this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}static[ge]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:n,foreignColumns:r}=this.reference(),i=n.map(a=>a.name),s=r.map(a=>a.name),o=[this.table[df],...i,r[0].table[df],...s];return e??`${o.join("_")}_fk`}}function Jfe(t,...e){return t(...e)}function ehe(t,e){return`${t[df]}_${e.join("_")}_unique`}function N5(t,e,n){for(let r=e;r<t.length;r++){const i=t[r];if(i==="\\"){r++;continue}if(i==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!n&&(i===","||i==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function BH(t,e=0){const n=[];let r=e,i=!1;for(;r<t.length;){const s=t[r];if(s===","){(i||r===e)&&n.push(""),i=!0,r++;continue}if(i=!1,s==="\\"){r+=2;continue}if(s==='"'){const[l,c]=N5(t,r+1,!0);n.push(l),r=c;continue}if(s==="}")return[n,r+1];if(s==="{"){const[l,c]=BH(t,r+1);n.push(l),r=c;continue}const[o,a]=N5(t,r,!1);n.push(o),r=a}return[n,r]}function the(t){const[e]=BH(t,1);return e}function VH(t){return`{${t.map(e=>Array.isArray(e)?VH(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class Dt extends Yfe{foreignKeyConfigs=[];static[ge]="PgColumnBuilder";array(e){return new rhe(this.config.name,this,e)}references(e,n={}){return this.foreignKeyConfigs.push({ref:e,actions:n}),this}unique(e,n){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=n?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,n){return this.foreignKeyConfigs.map(({ref:r,actions:i})=>Jfe((s,o)=>{const a=new Xfe(()=>{const l=s();return{columns:[e],foreignColumns:[l]}});return o.onUpdate&&a.onUpdate(o.onUpdate),o.onDelete&&a.onDelete(o.onDelete),a.build(n)},r,i))}buildExtraConfigColumn(e){return new nhe(e,this.config)}}class xt extends Hm{constructor(e,n){n.uniqueName||(n.uniqueName=ehe(e,[n.name])),super(e,n),this.table=e}static[ge]="PgColumn"}class nhe extends xt{static[ge]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class EC{static[ge]="IndexedColumn";constructor(e,n,r,i){this.name=e,this.keyAsName=n,this.type=r,this.indexConfig=i}name;keyAsName;type;indexConfig}class rhe extends Dt{static[ge]="PgArrayBuilder";constructor(e,n,r){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(e){const n=this.config.baseBuilder.build(e);return new LO(e,this.config,n)}}class LO extends xt{constructor(e,n,r,i){super(e,n),this.baseColumn=r,this.range=i,this.size=n.size}size;static[ge]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=the(e)),e.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(e,n=!1){const r=e.map(i=>i===null?null:Zn(this.baseColumn,LO)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?r:VH(r)}}const uE=Symbol.for("drizzle:isPgEnum");function ihe(t){return!!t&&typeof t=="function"&&uE in t&&t[uE]===!0}class she extends Dt{static[ge]="PgEnumColumnBuilder";constructor(e,n){super(e,"string","PgEnumColumn"),this.config.enum=n}build(e){return new ohe(e,this.config)}}class ohe extends xt{static[ge]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,n){super(e,n),this.enum=n.enum}getSQLType(){return this.enum.enumName}}function zH(t,e){return ahe(t,e,void 0)}function ahe(t,e,n){const r=Object.assign(i=>new she(i??"",r),{enumName:t,enumValues:e,schema:n,[uE]:!0});return r}class UH{static[ge]="Subquery";constructor(e,n,r,i=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:i}}}const lhe={startActiveSpan(t,e){return e()}},ff=Symbol.for("drizzle:ViewBaseConfig"),kC=Symbol.for("drizzle:Schema"),P5=Symbol.for("drizzle:Columns"),T5=Symbol.for("drizzle:ExtraConfigColumns"),OC=Symbol.for("drizzle:OriginalName"),$C=Symbol.for("drizzle:BaseName"),Px=Symbol.for("drizzle:IsAlias"),A5=Symbol.for("drizzle:ExtraConfigBuilder"),qH=Symbol.for("drizzle:IsDrizzleTable");class Xi{static[ge]="Table";static Symbol={Name:df,Schema:kC,OriginalName:OC,Columns:P5,ExtraConfigColumns:T5,BaseName:$C,IsAlias:Px,ExtraConfigBuilder:A5};[df];[OC];[kC];[P5];[T5];[$C];[Px]=!1;[qH]=!0;[A5]=void 0;constructor(e,n,r){this[df]=this[OC]=e,this[kC]=n,this[$C]=r}}function HH(t){return typeof t=="object"&&t!==null&&qH in t}function che(t){return t!=null&&typeof t.getSQL=="function"}function uhe(t){const e={sql:"",params:[]};for(const n of t)e.sql+=n.sql,e.params.push(...n.params),n.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...n.typings));return e}class Ys{static[ge]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new xn([this])}}class xn{constructor(e){this.queryChunks=e}static[ge]="SQL";decoder=WH;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return lhe.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return n?.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:i,escapeName:s,escapeParam:o,prepareTyping:a,inlineParams:l,paramStartIndex:c}=r;return uhe(e.map(d=>{if(Zn(d,Ys))return{sql:d.value.join(""),params:[]};if(Zn(d,dE))return{sql:s(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new Ys("(")];for(const[m,g]of d.entries())h.push(g),m<d.length-1&&h.push(new Ys(", "));return h.push(new Ys(")")),this.buildQueryFromSourceParams(h,r)}if(Zn(d,xn))return this.buildQueryFromSourceParams(d.queryChunks,{...r,inlineParams:l||d.shouldInlineParams});if(Zn(d,Xi)){const h=d[Xi.Symbol.Schema],m=d[Xi.Symbol.Name];return{sql:h===void 0||d[Px]?s(m):s(h)+"."+s(m),params:[]}}if(Zn(d,Hm)){const h=i.getColumnCasing(d);if(n.invokeSource==="indexes")return{sql:s(h),params:[]};const m=d.table[Xi.Symbol.Schema];return{sql:d.table[Px]||m===void 0?s(d.table[Xi.Symbol.Name])+"."+s(h):s(m)+"."+s(d.table[Xi.Symbol.Name])+"."+s(h),params:[]}}if(Zn(d,dhe)){const h=d[ff].schema,m=d[ff].name;return{sql:h===void 0||d[ff].isAlias?s(m):s(h)+"."+s(m),params:[]}}if(Zn(d,GH)){if(Zn(d.value,fE))return{sql:o(c.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Zn(h,xn))return this.buildQueryFromSourceParams([h],r);if(l)return{sql:this.mapInlineParam(h,r),params:[]};let m=["none"];return a&&(m=[a(d.encoder)]),{sql:o(c.value++,h),params:[h],typings:m}}return Zn(d,fE)?{sql:o(c.value++,d),params:[d],typings:["none"]}:Zn(d,xn.Aliased)&&d.fieldAlias!==void 0?{sql:s(d.fieldAlias),params:[]}:Zn(d,UH)?d._.isWith?{sql:s(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Ys("("),d._.sql,new Ys(") "),new dE(d._.alias)],r):ihe(d)?d.schema?{sql:s(d.schema)+"."+s(d.enumName),params:[]}:{sql:s(d.enumName),params:[]}:che(d)?d.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([d.getSQL()],r):this.buildQueryFromSourceParams([new Ys("("),d.getSQL(),new Ys(")")],r):l?{sql:this.mapInlineParam(d,r),params:[]}:{sql:o(c.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new xn.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class dE{constructor(e){this.value=e}static[ge]="Name";brand;getSQL(){return new xn([this])}}const WH={mapFromDriverValue:t=>t},KH={mapToDriverValue:t=>t};({...WH,...KH});class GH{constructor(e,n=KH){this.value=e,this.encoder=n}static[ge]="Param";brand;getSQL(){return new xn([this])}}function Wm(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new Ys(t[0]));for(const[r,i]of e.entries())n.push(i,new Ys(t[r+1]));return new xn(n)}(t=>{function e(){return new xn([])}t.empty=e;function n(l){return new xn(l)}t.fromList=n;function r(l){return new xn([new Ys(l)])}t.raw=r;function i(l,c){const d=[];for(const[h,m]of l.entries())h>0&&c!==void 0&&d.push(c),d.push(m);return new xn(d)}t.join=i;function s(l){return new dE(l)}t.identifier=s;function o(l){return new fE(l)}t.placeholder=o;function a(l,c){return new GH(l,c)}t.param=a})(Wm||(Wm={}));(t=>{class e{constructor(r,i){this.sql=r,this.fieldAlias=i}static[ge]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(xn||(xn={}));let fE=class{constructor(e){this.name=e}static[ge]="Placeholder";getSQL(){return new xn([this])}};const QH=Symbol.for("drizzle:IsDrizzleView");class dhe{static[ge]="View";[ff];[QH]=!0;constructor({name:e,schema:n,selectedFields:r,query:i}){this[ff]={name:e,originalName:e,schema:n,selectedFields:r,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new xn([this])}}function fhe(t){return typeof t=="object"&&t!==null&&QH in t}Hm.prototype.getSQL=function(){return new xn([this])};Xi.prototype.getSQL=function(){return new xn([this])};UH.prototype.getSQL=function(){return new xn([this])};function hhe(t){return t[Xi.Symbol.Columns]}function phe(t){return t[ff].selectedFields}function Er(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}class sw extends Dt{static[ge]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class mhe extends sw{static[ge]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new ghe(e,this.config)}}class ghe extends xt{static[ge]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class yhe extends sw{static[ge]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new vhe(e,this.config)}}class vhe extends xt{static[ge]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function xhe(t,e){const{name:n,config:r}=Er(t,e);return r.mode==="number"?new mhe(n):new yhe(n)}class bhe extends Dt{static[ge]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new whe(e,this.config)}}class whe extends xt{static[ge]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class She extends Dt{static[ge]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new Che(e,this.config)}}class Che extends xt{static[ge]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function Nhe(t,e){const{name:n,config:r}=Er(t,e);return r.mode==="number"?new bhe(n):new She(n)}class Phe extends Dt{static[ge]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new The(e,this.config)}}class The extends xt{static[ge]="PgBoolean";getSQLType(){return"boolean"}}function yo(t){return new Phe(t??"")}class Ahe extends Dt{static[ge]="PgCharBuilder";constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new jhe(e,this.config)}}class jhe extends xt{static[ge]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function Ehe(t,e={}){const{name:n,config:r}=Er(t,e);return new Ahe(n,r)}class khe extends Dt{static[ge]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new Ohe(e,this.config)}}class Ohe extends xt{static[ge]="PgCidr";getSQLType(){return"cidr"}}function $he(t){return new khe(t??"")}class _he extends Dt{static[ge]="PgCustomColumnBuilder";constructor(e,n,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new Mhe(e,this.config)}}class Mhe extends xt{static[ge]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,n){super(e,n),this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function Ihe(t){return(e,n)=>{const{name:r,config:i}=Er(e,n);return new _he(r,i,t)}}class xy extends Dt{static[ge]="PgDateColumnBaseBuilder";defaultNow(){return this.default(Wm`now()`)}}class Rhe extends xy{static[ge]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new Dhe(e,this.config)}}class Dhe extends xt{static[ge]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class Lhe extends xy{static[ge]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new Fhe(e,this.config)}}class Fhe extends xt{static[ge]="PgDateString";getSQLType(){return"date"}}function Bhe(t,e){const{name:n,config:r}=Er(t,e);return r?.mode==="date"?new Rhe(n):new Lhe(n)}class Vhe extends Dt{static[ge]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new zhe(e,this.config)}}class zhe extends xt{static[ge]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}function Uhe(t){return new Vhe(t??"")}class qhe extends Dt{static[ge]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new Hhe(e,this.config)}}class Hhe extends xt{static[ge]="PgInet";getSQLType(){return"inet"}}function Whe(t){return new qhe(t??"")}class Khe extends sw{static[ge]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new Ghe(e,this.config)}}class Ghe extends xt{static[ge]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}function dn(t){return new Khe(t??"")}class Qhe extends Dt{static[ge]="PgIntervalBuilder";constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new Yhe(e,this.config)}}class Yhe extends xt{static[ge]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const e=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${e}${n}`}}function Xhe(t,e={}){const{name:n,config:r}=Er(t,e);return new Qhe(n,r)}class Zhe extends Dt{static[ge]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new Jhe(e,this.config)}}class Jhe extends xt{static[ge]="PgJson";constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function epe(t){return new Zhe(t??"")}class tpe extends Dt{static[ge]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new npe(e,this.config)}}class npe extends xt{static[ge]="PgJsonb";constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function Ou(t){return new tpe(t??"")}class rpe extends Dt{static[ge]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new ipe(e,this.config)}}class ipe extends xt{static[ge]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,i]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class spe extends Dt{static[ge]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new ope(e,this.config)}}class ope extends xt{static[ge]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function ape(t,e){const{name:n,config:r}=Er(t,e);return!r?.mode||r.mode==="tuple"?new rpe(n):new spe(n)}class lpe extends Dt{static[ge]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new cpe(e,this.config)}}class cpe extends xt{static[ge]="PgMacaddr";getSQLType(){return"macaddr"}}function upe(t){return new lpe(t??"")}class dpe extends Dt{static[ge]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new fpe(e,this.config)}}class fpe extends xt{static[ge]="PgMacaddr8";getSQLType(){return"macaddr8"}}function hpe(t){return new dpe(t??"")}class ppe extends Dt{static[ge]="PgNumericBuilder";constructor(e,n,r){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(e){return new mpe(e,this.config)}}class mpe extends xt{static[ge]="PgNumeric";precision;scale;constructor(e,n){super(e,n),this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function gpe(t,e){const{name:n,config:r}=Er(t,e);return new ppe(n,r?.precision,r?.scale)}class ype extends Dt{static[ge]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new vpe(e,this.config)}}class vpe extends xt{static[ge]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class xpe extends Dt{static[ge]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new bpe(e,this.config)}}class bpe extends xt{static[ge]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function wpe(t,e){const{name:n,config:r}=Er(t,e);return!r?.mode||r.mode==="tuple"?new ype(n):new xpe(n)}function Spe(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function j5(t,e){const n=new ArrayBuffer(8),r=new DataView(n);for(let i=0;i<8;i++)r.setUint8(i,t[e+i]);return r.getFloat64(0,!0)}function YH(t){const e=Spe(t);let n=0;const r=e[n];n+=1;const i=new DataView(e.buffer),s=i.getUint32(n,r===1);if(n+=4,s&536870912&&(i.getUint32(n,r===1),n+=4),(s&65535)===1){const o=j5(e,n);n+=8;const a=j5(e,n);return n+=8,[o,a]}throw new Error("Unsupported geometry type")}class Cpe extends Dt{static[ge]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new Npe(e,this.config)}}class Npe extends xt{static[ge]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return YH(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class Ppe extends Dt{static[ge]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new Tpe(e,this.config)}}class Tpe extends xt{static[ge]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=YH(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function Ape(t,e){const{name:n,config:r}=Er(t,e);return!r?.mode||r.mode==="tuple"?new Cpe(n):new Ppe(n)}class jpe extends Dt{static[ge]="PgRealBuilder";constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new Epe(e,this.config)}}class Epe extends xt{static[ge]="PgReal";constructor(e,n){super(e,n)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}function kpe(t){return new jpe(t??"")}class Ope extends Dt{static[ge]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new $pe(e,this.config)}}class $pe extends xt{static[ge]="PgSerial";getSQLType(){return"serial"}}function cs(t){return new Ope(t??"")}class _pe extends sw{static[ge]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new Mpe(e,this.config)}}class Mpe extends xt{static[ge]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}function Ipe(t){return new _pe(t??"")}class Rpe extends Dt{static[ge]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Dpe(e,this.config)}}class Dpe extends xt{static[ge]="PgSmallSerial";getSQLType(){return"smallserial"}}function Lpe(t){return new Rpe(t??"")}class Fpe extends Dt{static[ge]="PgTextBuilder";constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new Bpe(e,this.config)}}class Bpe extends xt{static[ge]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function Le(t,e={}){const{name:n,config:r}=Er(t,e);return new Fpe(n,r)}class Vpe extends xy{constructor(e,n,r){super(e,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}static[ge]="PgTimeBuilder";build(e){return new zpe(e,this.config)}}class zpe extends xt{static[ge]="PgTime";withTimezone;precision;constructor(e,n){super(e,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function Upe(t,e={}){const{name:n,config:r}=Er(t,e);return new Vpe(n,r.withTimezone??!1,r.precision)}class qpe extends xy{static[ge]="PgTimestampBuilder";constructor(e,n,r){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(e){return new Hpe(e,this.config)}}class Hpe extends xt{static[ge]="PgTimestamp";withTimezone;precision;constructor(e,n){super(e,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class Wpe extends xy{static[ge]="PgTimestampStringBuilder";constructor(e,n,r){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(e){return new Kpe(e,this.config)}}class Kpe extends xt{static[ge]="PgTimestampString";withTimezone;precision;constructor(e,n){super(e,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function ur(t,e={}){const{name:n,config:r}=Er(t,e);return r?.mode==="string"?new Wpe(n,r.withTimezone??!1,r.precision):new qpe(n,r?.withTimezone??!1,r?.precision)}class Gpe extends Dt{static[ge]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Wm`gen_random_uuid()`)}build(e){return new Qpe(e,this.config)}}class Qpe extends xt{static[ge]="PgUUID";getSQLType(){return"uuid"}}function Ype(t){return new Gpe(t??"")}class Xpe extends Dt{static[ge]="PgVarcharBuilder";constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new Zpe(e,this.config)}}class Zpe extends xt{static[ge]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function Zc(t,e={}){const{name:n,config:r}=Er(t,e);return new Xpe(n,r)}class Jpe extends Dt{static[ge]="PgBinaryVectorBuilder";constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new eme(e,this.config)}}class eme extends xt{static[ge]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function tme(t,e){const{name:n,config:r}=Er(t,e);return new Jpe(n,r)}class nme extends Dt{static[ge]="PgHalfVectorBuilder";constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new rme(e,this.config)}}class rme extends xt{static[ge]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function ime(t,e){const{name:n,config:r}=Er(t,e);return new nme(n,r)}class sme extends Dt{static[ge]="PgSparseVectorBuilder";constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new ome(e,this.config)}}class ome extends xt{static[ge]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function ame(t,e){const{name:n,config:r}=Er(t,e);return new sme(n,r)}class lme extends Dt{static[ge]="PgVectorBuilder";constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new cme(e,this.config)}}class cme extends xt{static[ge]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function ume(t,e){const{name:n,config:r}=Er(t,e);return new lme(n,r)}function dme(){return{bigint:xhe,bigserial:Nhe,boolean:yo,char:Ehe,cidr:$he,customType:Ihe,date:Bhe,doublePrecision:Uhe,inet:Whe,integer:dn,interval:Xhe,json:epe,jsonb:Ou,line:ape,macaddr:upe,macaddr8:hpe,numeric:gpe,point:wpe,geometry:Ape,real:kpe,serial:cs,smallint:Ipe,smallserial:Lpe,text:Le,time:Upe,timestamp:ur,uuid:Ype,varchar:Zc,bit:tme,halfvec:ime,sparsevec:ame,vector:ume}}const hE=Symbol.for("drizzle:PgInlineForeignKeys"),E5=Symbol.for("drizzle:EnableRLS");class _C extends Xi{static[ge]="PgTable";static Symbol=Object.assign({},Xi.Symbol,{InlineForeignKeys:hE,EnableRLS:E5});[hE]=[];[E5]=!1;[Xi.Symbol.ExtraConfigBuilder]=void 0}function fme(t,e,n,r,i=t){const s=new _C(t,r,i),o=typeof e=="function"?e(dme()):e,a=Object.fromEntries(Object.entries(o).map(([d,h])=>{const m=h;m.setName(d);const g=m.build(s);return s[hE].push(...m.buildForeignKeys(g,s)),[d,g]})),l=Object.fromEntries(Object.entries(o).map(([d,h])=>{const m=h;m.setName(d);const g=m.buildExtraConfigColumn(s);return[d,g]})),c=Object.assign(s,a);return c[Xi.Symbol.Columns]=a,c[Xi.Symbol.ExtraConfigColumns]=l,n&&(c[_C.Symbol.ExtraConfigBuilder]=n),Object.assign(c,{enableRLS:()=>(c[_C.Symbol.EnableRLS]=!0,c)})}const Li=(t,e,n)=>fme(t,e,n,void 0);class hme{constructor(e,n){this.unique=e,this.name=n}static[ge]="PgIndexBuilderOn";on(...e){return new MC(e.map(n=>{if(Zn(n,xn))return n;n=n;const r=new EC(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),r}),this.unique,!1,this.name)}onOnly(...e){return new MC(e.map(n=>{if(Zn(n,xn))return n;n=n;const r=new EC(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=n.defaultConfig,r}),this.unique,!0,this.name)}using(e,...n){return new MC(n.map(r=>{if(Zn(r,xn))return r;r=r;const i=new EC(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),i}),this.unique,!0,this.name,e)}}class MC{static[ge]="PgIndexBuilder";config;constructor(e,n,r,i,s="btree"){this.config={name:i,columns:e,unique:n,only:r,method:s}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new pme(this.config,e)}}class pme{static[ge]="PgIndex";config;constructor(e,n){this.config={...e,table:n}}}function mme(t){return new hme(!1,t)}const An={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function zn(t,e){return e.includes(t.columnType)}function gme(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const yme=DO([gt(),Wi(),Oo(),LH()]),vme=DO([yme,Nx(qm()),Dr(qm())]),xme=Qt(t=>t instanceof Buffer);function XH(t,e){const n=e?.zodInstance??Qfe,r=e?.coerce??{};let i;return gme(t)&&(i=t.enumValues.length?n.enum(t.enumValues):n.string()),i||(zn(t,["PgGeometry","PgPointTuple"])?i=n.tuple([n.number(),n.number()]):zn(t,["PgGeometryObject","PgPointObject"])?i=n.object({x:n.number(),y:n.number()}):zn(t,["PgHalfVector","PgVector"])?(i=n.array(n.number()),i=t.dimensions?i.length(t.dimensions):i):zn(t,["PgLine"])?i=n.tuple([n.number(),n.number(),n.number()]):zn(t,["PgLineABC"])?i=n.object({a:n.number(),b:n.number(),c:n.number()}):zn(t,["PgArray"])?(i=n.array(XH(t.baseColumn,n)),i=t.size?i.length(t.size):i):t.dataType==="array"?i=n.array(n.any()):t.dataType==="number"?i=bme(t,n,r):t.dataType==="bigint"?i=wme(t,n,r):t.dataType==="boolean"?i=r===!0||r.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?i=r===!0||r.date?n.coerce.date():n.date():t.dataType==="string"?i=Sme(t,n,r):t.dataType==="json"?i=vme:t.dataType==="custom"?i=n.any():t.dataType==="buffer"&&(i=xme)),i||(i=n.any()),i}function bme(t,e,n){let r=t.getSQLType().includes("unsigned"),i,s,o=!1;zn(t,["MySqlTinyInt","SingleStoreTinyInt"])?(i=r?0:An.INT8_MIN,s=r?An.INT8_UNSIGNED_MAX:An.INT8_MAX,o=!0):zn(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=r?0:An.INT16_MIN,s=r?An.INT16_UNSIGNED_MAX:An.INT16_MAX,o=!0):zn(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=r?0:An.INT24_MIN,s=r?An.INT24_UNSIGNED_MAX:An.INT24_MAX,o=zn(t,["MySqlMediumInt","SingleStoreMediumInt"])):zn(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=r?0:An.INT32_MIN,s=r?An.INT32_UNSIGNED_MAX:An.INT32_MAX,o=!0):zn(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=r?0:An.INT48_MIN,s=r?An.INT48_UNSIGNED_MAX:An.INT48_MAX):zn(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||zn(t,["MySqlSerial","SingleStoreSerial"]),i=r?0:Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,o=!0):zn(t,["MySqlYear","SingleStoreYear"])?(i=1901,s=2155,o=!0):(i=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER);let a=n===!0||n?.number?e.coerce.number():e.number();return a=a.min(i).max(s),o?a.int():a}function wme(t,e,n){const r=t.getSQLType().includes("unsigned"),i=r?0n:An.INT64_MIN,s=r?An.INT64_UNSIGNED_MAX:An.INT64_MAX;return(n===!0||n?.bigint?e.coerce.bigint():e.bigint()).min(i).max(s)}function Sme(t,e,n){if(zn(t,["PgUUID"]))return e.string().uuid();let r,i,s=!1;zn(t,["PgVarchar","SQLiteText"])?r=t.length:zn(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??An.INT16_UNSIGNED_MAX:zn(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=An.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=An.INT24_UNSIGNED_MAX:t.textType==="text"?r=An.INT16_UNSIGNED_MAX:r=An.INT8_UNSIGNED_MAX),zn(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,s=!0),zn(t,["PgBinaryVector"])&&(i=/^[01]+$/,r=t.dimensions);let o=n===!0||n?.string?e.coerce.string():e.string();return o=i?o.regex(i):o,r&&s?o.length(r):r?o.max(r):o}function ZH(t){return HH(t)?hhe(t):phe(t)}function JH(t,e,n,r){const i={};for(const[s,o]of Object.entries(t)){if(!Zn(o,Hm)&&!Zn(o,xn)&&!Zn(o,xn.Aliased)&&typeof o=="object"){const h=HH(o)||fhe(o)?ZH(o):o;i[s]=JH(h,e[s]??{},n,r);continue}const a=e[s];if(a!==void 0&&typeof a!="function"){i[s]=a;continue}const l=Zn(o,Hm)?o:void 0,c=l?XH(l,r):qm(),d=typeof a=="function"?a(c):c;n.never(l)||(i[s]=d,l&&(n.nullable(l)&&(i[s]=i[s].nullable()),n.optional(l)&&(i[s]=i[s].optional())))}return gn(i)}const Cme={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Yo=(t,e)=>{const n=ZH(t);return JH(n,{},Cme)};Li("sessions",{sid:Zc("sid").primaryKey(),sess:Ou("sess").notNull(),expire:ur("expire").notNull()},t=>[mme("IDX_session_expire").on(t.expire)]);const Nme=Li("users",{id:Zc("id").primaryKey().default(Wm`gen_random_uuid()`),email:Zc("email").unique(),firstName:Zc("first_name"),lastName:Zc("last_name"),profileImageUrl:Zc("profile_image_url"),createdAt:ur("created_at").defaultNow(),updatedAt:ur("updated_at").defaultNow()}),Pme=zH("user_role",["parent","student","admin"]),Tme=zH("question_type",["mcq","open"]),FO=Li("categories",{id:cs("id").primaryKey(),testAreaId:dn("test_area_id").references(()=>VO.id),name:Le("name").notNull(),description:Le("description"),isActive:yo("is_active").default(!0).notNull(),sortOrder:dn("sort_order").default(0).notNull(),createdAt:ur("created_at").defaultNow()}),eW=Li("sub_categories",{id:cs("id").primaryKey(),categoryId:dn("category_id").notNull().references(()=>FO.id),name:Le("name").notNull(),description:Le("description"),isActive:yo("is_active").default(!0).notNull(),sortOrder:dn("sort_order").default(0).notNull(),createdAt:ur("created_at").defaultNow()}),BO=Li("test_types",{id:cs("id").primaryKey(),name:Le("name").notNull().unique(),description:Le("description"),isActive:yo("is_active").default(!0).notNull(),sortOrder:dn("sort_order").default(0).notNull(),createdAt:ur("created_at").defaultNow()}),VO=Li("test_areas",{id:cs("id").primaryKey(),testTypeId:dn("test_type_id").notNull().references(()=>BO.id),name:Le("name").notNull(),description:Le("description"),isActive:yo("is_active").default(!0).notNull(),sortOrder:dn("sort_order").default(0).notNull(),createdAt:ur("created_at").defaultNow()}),Ame=Li("profiles",{id:cs("id").primaryKey(),userId:Le("user_id").notNull().references(()=>Nme.id),role:Pme("role").default("parent").notNull(),parentId:Le("parent_id"),school:Le("school"),year:Le("year"),isActive:yo("is_active").default(!0).notNull(),phone:Le("phone"),zone:Le("zone"),preferredLanguage:Le("preferred_language").default("English"),avatarUrl:Le("avatar_url"),gender:Le("gender").default("Not To Tell").notNull(),interests:Le("interests").array(),interestedInTests:Le("interested_in_tests").array().notNull(),interestedInTestAreas:Le("interested_in_test_areas").array().default([]),credits:dn("credits").default(0).notNull(),isAdmin:yo("is_admin").default(!1).notNull(),stripeCustomerId:Le("stripe_customer_id"),planId:Le("plan_id").default("discovery"),planSource:Le("plan_source").default("manual")});Li("test_prompts",{id:cs("id").primaryKey(),testType:Le("test_type").notNull(),area:Le("area").notNull(),prompt:Le("prompt").notNull(),updatedAt:ur("updated_at").defaultNow()});Li("invitations",{id:cs("id").primaryKey(),inviterId:Le("inviter_id").notNull(),email:Le("email").notNull(),token:Le("token").notNull().unique(),status:Le("status").default("pending").notNull(),planId:Le("plan_id").default("discovery"),createdAt:ur("created_at").defaultNow()});const tW=Li("folders",{id:cs("id").primaryKey(),parentId:Le("parent_id").notNull(),parentFolderId:dn("parent_folder_id"),name:Le("name").notNull(),color:Le("color").default("#6366f1"),sortOrder:dn("sort_order").default(0).notNull(),level:dn("level").default(1).notNull(),createdAt:ur("created_at").defaultNow()}),nW=Li("questions",{id:cs("id").primaryKey(),parentId:Le("parent_id").notNull(),folderId:dn("folder_id").references(()=>tW.id),name:Le("name"),content:Le("content").notNull(),imageUrl:Le("image_url"),type:Tme("type").default("mcq").notNull(),options:Ou("options").$type(),correctAnswer:Le("correct_answer"),explanation:Le("explanation"),subject:Le("subject"),testType:Le("test_type"),testTypeId:dn("test_type_id").references(()=>BO.id),testArea:Le("test_area"),testAreaId:dn("test_area_id").references(()=>VO.id),category:Le("category"),categoryId:dn("category_id").references(()=>FO.id),subCategory:Le("sub_category"),subCategoryId:dn("sub_category_id").references(()=>eW.id),specificSkill:Le("specific_skill"),source:dn("source").default(1).notNull(),difficulty:Le("difficulty"),parentNote:Le("parent_note"),needsRetest:yo("needs_retest").default(!1).notNull(),isArchived:yo("is_archived").default(!1).notNull(),createdAt:ur("created_at").defaultNow()}),rW=Li("tests",{id:cs("id").primaryKey(),publicId:Le("public_id").notNull().unique(),parentId:Le("parent_id").notNull(),title:Le("title").notNull(),description:Le("description"),questionIds:dn("question_ids").array().notNull(),createdAt:ur("created_at").defaultNow(),passcode:Le("passcode"),isPublic:yo("is_public").default(!1).notNull(),duration:dn("duration"),assignedStudentIds:Le("assigned_student_ids").array(),expiresAt:ur("expires_at")}),jme=Li("test_attempts",{id:cs("id").primaryKey(),testId:dn("test_id").notNull().references(()=>rW.id),studentId:Le("student_id").notNull(),answers:Ou("answers").$type(),score:dn("score"),startedAt:ur("started_at").defaultNow(),completedAt:ur("completed_at"),submittedAt:ur("submitted_at"),submittedBy:Le("submitted_by"),isReviewed:yo("is_reviewed").default(!1).notNull(),reviewedAt:ur("reviewed_at"),feedback:Le("feedback"),difficultyRating:dn("difficulty_rating"),feelingRating:dn("feeling_rating"),questionTiming:Ou("question_timing").$type()});Yo(Ame).omit({id:!0});const Ep=Yo(nW).omit({id:!0,createdAt:!0});Yo(rW).omit({id:!0,publicId:!0,createdAt:!0});Yo(jme).omit({id:!0,startedAt:!0,completedAt:!0,score:!0});const Eme=Yo(FO).omit({id:!0,createdAt:!0}),kme=Yo(eW).omit({id:!0,createdAt:!0}),Ome=Yo(BO).omit({id:!0,createdAt:!0}),$me=Yo(VO).omit({id:!0,createdAt:!0}),k5=Yo(tW).omit({id:!0,createdAt:!0}),_me=Li("explanation_requests",{id:cs("id").primaryKey(),parentId:Le("parent_id").notNull(),studentId:Le("student_id"),name:Le("name"),imageUrl:Le("image_url").notNull(),questionContent:Le("question_content"),aiAnswer:Le("ai_answer"),aiExplanation:Le("ai_explanation"),aiOptions:Ou("ai_options").$type(),questionId:dn("question_id").references(()=>nW.id),difficulty:Le("difficulty"),category:Le("category"),subCategory:Le("sub_category"),specificSkill:Le("specific_skill"),parentNote:Le("parent_note"),correctAnswer:Le("correct_answer"),feedback:Le("feedback"),isCorrect:dn("is_correct").default(0),status:Le("status").default("pending").notNull(),rawAiResponse:Ou("raw_ai_response").$type(),createdAt:ur("created_at").defaultNow()});Yo(_me).omit({id:!0,createdAt:!0});gn({message:gt(),field:gt().optional()}),gn({message:gt()}),gn({message:gt()});const ft={profiles:{me:{path:"/api/profiles/me",responses:{200:Qt()}},createStudent:{method:"POST",path:"/api/profiles/student",input:gn({username:gt(),password:gt(),firstName:gt()}),responses:{201:Qt()}}},questions:{list:{path:"/api/questions",responses:{200:Dr(Qt())}},get:{path:"/api/questions/:id",responses:{200:Qt()}},create:{method:"POST",path:"/api/questions",input:Ep.omit({parentId:!0}),responses:{201:Qt()}},parseFromImage:{method:"POST",path:"/api/questions/ocr",input:gn({image:gt()}),responses:{200:gn({questions:Dr(Ep.omit({parentId:!0}))})}},parseFromFiles:{method:"POST",path:"/api/questions/ocr-batch",input:qm(),responses:{200:gn({questions:Dr(Ep.omit({parentId:!0}))})}},aiClone:{method:"POST",path:"/api/questions/ai-clone",input:gn({content:gt(),type:FH(["mcq","open"]),options:Dr(gt()).optional(),correctAnswer:gt(),explanation:gt().optional(),testType:gt().optional(),testTypeId:Wi().optional(),testArea:gt().optional(),testAreaId:Wi().optional(),category:gt().optional(),subCategory:gt().optional(),specificSkill:gt().optional(),difficulty:gt().optional()}),responses:{200:Ep.omit({parentId:!0})}},aiGenerate:{method:"POST",path:"/api/questions/ai-generate",input:gn({testType:gt().optional(),testTypeId:Wi().optional(),testArea:gt().optional(),testAreaId:Wi().optional(),category:gt().optional(),subCategory:gt().optional(),difficulty:gt().optional()}),responses:{200:Ep.omit({parentId:!0})}}},tests:{list:{path:"/api/tests",responses:{200:Dr(Qt())}},create:{method:"POST",path:"/api/tests",responses:{201:Qt()}},get:{path:"/api/tests/:id",responses:{200:Qt()}}},attempts:{list:{path:"/api/attempts",responses:{200:Dr(Qt())}},start:{method:"POST",path:"/api/attempts",input:gn({testId:Wi()}),responses:{201:Qt()}},submit:{input:gn({answers:Nx(gt()),feedback:gt().optional(),difficultyRating:Wi().optional(),feelingRating:Wi().optional(),questionTiming:Nx(Wi()).optional()}),responses:{200:Qt()}}},categories:{list:{responses:{200:Dr(Qt())}},create:{responses:{201:Qt()}},update:{input:Eme.partial(),responses:{200:Qt()}},delete:{responses:{200:gn({success:Oo()})}}},subCategories:{list:{responses:{200:Dr(Qt())}},create:{responses:{201:Qt()}},update:{input:kme.partial(),responses:{200:Qt()}},delete:{responses:{200:gn({success:Oo()})}}},testTypes:{list:{responses:{200:Dr(Qt())}},create:{responses:{201:Qt()}},update:{input:Ome.partial(),responses:{200:Qt()}},delete:{responses:{200:gn({success:Oo()})}}},testAreas:{list:{responses:{200:Dr(Qt())}},create:{responses:{201:Qt()}},update:{input:$me.partial(),responses:{200:Qt()}},delete:{responses:{200:gn({success:Oo()})}}},folders:{list:{responses:{200:Dr(Qt())}},create:{input:k5.omit({parentId:!0}),responses:{201:Qt()}},update:{input:k5.partial(),responses:{200:Qt()}},delete:{responses:{200:gn({success:Oo()})}},assignQuestion:{input:gn({questionId:Wi()}),responses:{200:gn({success:Oo()})}},unassignQuestion:{input:gn({questionId:Wi()}),responses:{200:gn({success:Oo()})}}}};function Mme(t,e){let n=t;return e&&Object.entries(e).forEach(([r,i])=>{n.includes(`:${r}`)&&(n=n.replace(`:${r}`,String(i)))}),n}function Sh(){return pt({queryKey:[ft.profiles.me.path],queryFn:async()=>{const t=await fetch(ft.profiles.me.path,{credentials:"include"});if(t.status===404||t.status===401)return null;if(!t.ok)throw new Error("Failed to fetch profile");return ft.profiles.me.responses[200].parse(await t.json())},retry:!1,staleTime:1e3*60*5})}function Ka(){return pt({queryKey:["/api/students"],queryFn:async()=>{const t=await fetch("/api/students",{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch students");return await t.json()}})}function Ime(){const t=Kn();return dt({mutationFn:async e=>{const n=await fetch("/api/profiles/me",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!n.ok)throw new Error("Failed to update profile");return await n.json()},onSuccess:()=>{t.invalidateQueries({queryKey:[ft.profiles.me.path]})}})}function Rme(){return Kn(),dt({mutationFn:async t=>{const e=await fetch("/api/profiles/switch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetUserId:t}),credentials:"include"});if(!e.ok)throw new Error("Failed to switch profile");return await e.json()},onSuccess:t=>{localStorage.setItem("active_student_profile",JSON.stringify(t.targetProfile)),window.location.href="/student/dashboard"}})}function Dme(){const t=Kn();return dt({mutationFn:async({id:e,...n})=>{const r=await fetch(`/api/students/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"});if(!r.ok)throw new Error("Failed to update student");return await r.json()},onSuccess:()=>t.invalidateQueries({queryKey:["/api/students"]})})}function Lme(){const t=Kn();return dt({mutationFn:async e=>{if(!(await fetch(`/api/students/${e}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete student")},onSuccess:()=>t.invalidateQueries({queryKey:["/api/students"]})})}function Fme(){const t=Kn();return dt({mutationFn:async e=>{const n={...e,password:"placeholder-pwd"},r=await fetch(ft.profiles.createStudent.path,{method:ft.profiles.createStudent.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"});if(!r.ok){const i=await r.json();throw new Error(i.message||"Failed to create student")}return ft.profiles.createStudent.responses[201].parse(await r.json())},onSuccess:()=>{t.invalidateQueries({queryKey:[ft.profiles.me.path]})}})}function zO(){return pt({queryKey:[ft.questions.list.path],queryFn:async()=>{const t=await fetch(ft.questions.list.path,{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch questions");return ft.questions.list.responses[200].parse(await t.json())}})}function Bme(t){return pt({queryKey:t?[ft.questions.get.path,t]:[],queryFn:async()=>{if(!t)throw new Error("Question ID is required");const e=ft.questions.get.path.replace(":id",String(t)),n=await fetch(e,{credentials:"include"});if(!n.ok)throw n.status===404?new Error("Question not found"):n.status===403?new Error("Access denied"):new Error("Failed to fetch question details");return ft.questions.get.responses[200].parse(await n.json())},enabled:!!t})}function iW(){const t=Kn();return dt({mutationFn:async e=>{const n=await fetch(ft.questions.create.path,{method:ft.questions.create.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!n.ok)throw new Error("Failed to create question");return ft.questions.create.responses[201].parse(await n.json())},onSuccess:(e,n)=>{t.invalidateQueries({queryKey:[ft.questions.list.path]});const r=n?.id!==void 0&&n?.id!==null?Number(n.id):e?.id?Number(e.id):null;r&&!Number.isNaN(r)&&t.invalidateQueries({queryKey:[ft.questions.get.path,r]})}})}function Vme(){return dt({mutationFn:async t=>{const e=typeof t=="string"?{image:t}:t,n=await fetch(ft.questions.parseFromImage.path,{method:ft.questions.parseFromImage.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!n.ok){const r=await n.json().catch(()=>null);throw new Error(r?.message||"Upload failed, question not parsed")}return ft.questions.parseFromImage.responses[200].parse(await n.json())}})}function zme(){return dt({mutationFn:async t=>{const e=new FormData;for(const r of t.files)e.append("files",r);t.testType&&e.append("testType",t.testType),t.testArea&&e.append("testArea",t.testArea),t.categories&&e.append("categories",JSON.stringify(t.categories)),t.subCategories&&e.append("subCategories",JSON.stringify(t.subCategories));const n=await fetch(ft.questions.parseFromFiles.path,{method:ft.questions.parseFromFiles.method,body:e,credentials:"include"});if(!n.ok){const r=await n.json().catch(()=>null);throw new Error(r?.message||"Batch upload failed, questions not parsed")}return ft.questions.parseFromFiles.responses[200].parse(await n.json())}})}function Ume(){return dt({mutationFn:async t=>{const e=await fetch(ft.questions.aiClone.path,{method:ft.questions.aiClone.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"});if(!e.ok){const r=await e.json().catch(()=>({message:"AI Clone Failed"}));throw new Error(r.message||"AI Clone Failed")}const n=await e.json();return{name:String(n.name||""),content:String(n.content||""),type:n.type==="open"?"open":"mcq",options:Array.isArray(n.options)?n.options.map(String):[],correctAnswer:String(n.correctAnswer||""),explanation:String(n.explanation||""),difficulty:String(n.difficulty||"3"),testType:n.testType,testArea:n.testArea,category:n.category,subCategory:n.subCategory,specificSkill:n.specificSkill}}})}function sW(){return dt({mutationFn:async t=>{const e=await fetch(ft.questions.aiGenerate.path,{method:ft.questions.aiGenerate.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"});if(!e.ok){const r=await e.json().catch(()=>({message:"AI Generate Failed"}));throw new Error(r.message||"AI Generate Failed")}const n=await e.json();return{name:String(n.name||""),content:String(n.content||""),type:n.type==="open"?"open":"mcq",options:Array.isArray(n.options)?n.options.map(String):[],correctAnswer:String(n.correctAnswer||""),explanation:String(n.explanation||""),difficulty:String(n.difficulty||"3"),testType:n.testType,testArea:n.testArea,category:n.category,subCategory:n.subCategory}}})}function ow(){return pt({queryKey:[ft.tests.list.path],queryFn:async()=>{const t=await fetch(ft.tests.list.path,{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch tests");return ft.tests.list.responses[200].parse(await t.json())}})}function qme(t){return pt({queryKey:[ft.tests.get.path,t],queryFn:async()=>{const e=Mme(ft.tests.get.path,{id:t}),n=await fetch(e,{credentials:"include"});if(n.status===404)return null;if(!n.ok)throw new Error("Failed to fetch test");return ft.tests.get.responses[200].parse(await n.json())},enabled:!!t})}function Hme(){const t=Kn();return dt({mutationFn:async e=>{const n=await fetch(ft.tests.create.path,{method:ft.tests.create.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!n.ok)throw new Error("Failed to create test");return ft.tests.create.responses[201].parse(await n.json())},onSuccess:()=>t.invalidateQueries({queryKey:[ft.tests.list.path]})})}function UO(){return pt({queryKey:[ft.attempts.list.path],queryFn:async()=>{const t=await fetch(ft.attempts.list.path,{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch attempts");return ft.attempts.list.responses[200].parse(await t.json())}})}function Wme(){const t=Kn();return dt({mutationFn:async e=>{const n=await fetch(ft.attempts.start.path,{method:ft.attempts.start.method,headers:{"Content-Type":"application/json"},body:JSON.stringify({testId:e}),credentials:"include"});if(!n.ok)throw new Error("Failed to start test");return ft.attempts.start.responses[201].parse(await n.json())},onSuccess:()=>t.invalidateQueries({queryKey:[ft.attempts.list.path]})})}function Kme(t){return pt({queryKey:["/api/reports/student",t],queryFn:async()=>{if(!t)return null;const e=await fetch(`/api/reports/student/${t}`,{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch student report");return await e.json()},enabled:!!t})}function Gme(){return pt({queryKey:["/api/reports/summary"],queryFn:async()=>{const t=await fetch("/api/reports/summary",{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch reports summary");return await t.json()}})}function Qme(){const{data:t}=pt({queryKey:["/api/plans"]});return t?.data,u.jsxs("div",{className:"min-h-screen bg-background flex flex-col font-sans selection:bg-primary/20",children:[u.jsx("nav",{className:"border-b border-border/40 backdrop-blur-md sticky top-0 z-50 bg-background/80",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center",children:u.jsx(zl,{className:"w-6 h-6 text-primary"})}),u.jsx("span",{className:"text-xl font-display font-bold",children:"AcePrep"})]}),u.jsx("div",{className:"flex items-center gap-4",children:u.jsx("a",{href:"/api/login",className:"px-6 py-2.5 rounded-full font-semibold bg-primary text-primary-foreground shadow-lg shadow-primary/25 hover:shadow-xl hover:shadow-primary/30 hover:-translate-y-0.5 transition-all duration-300",children:"Log In"})})]})}),u.jsxs("section",{className:"relative pt-20 pb-32 px-6 overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-[600px] h-[600px] bg-primary/5 rounded-full blur-3xl pointer-events-none"}),u.jsx("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-[500px] h-[500px] bg-accent/5 rounded-full blur-3xl pointer-events-none"}),u.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-16 items-center relative z-10",children:[u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"inline-flex flex-col gap-4",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-primary font-medium text-sm w-fit",children:[u.jsxs("span",{className:"relative flex h-2 w-2",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]}),"AI-Powered Learning Platform"]}),u.jsx("p",{className:"text-primary font-display font-medium text-lg italic",children:'"Learn smarter to lead smarter in the AI era."'})]}),u.jsxs("h1",{className:"text-5xl lg:text-7xl font-display font-extrabold tracking-tight leading-[1.1]",children:["Master any subject with"," ",u.jsx("span",{className:"gradient-text",children:"intelligent tools"})]}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-lg leading-relaxed",children:"Create tests instantly from images, track progress with advanced analytics, and personalize learning paths for every student."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[u.jsx("a",{href:"/api/login",className:"px-8 py-4 rounded-xl font-bold text-lg bg-primary text-primary-foreground shadow-xl shadow-primary/20 hover:shadow-2xl hover:shadow-primary/30 hover:-translate-y-1 transition-all duration-300 text-center",children:"Get Started Free"}),u.jsx("button",{className:"px-8 py-4 rounded-xl font-bold text-lg bg-card border border-border text-foreground hover:bg-muted/50 transition-all duration-300",children:"View Demo"})]}),u.jsxs("div",{className:"flex items-center gap-8 pt-8 text-sm font-medium text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Vr,{className:"w-5 h-5 text-accent"}),u.jsx("span",{children:"OCR Question Parsing"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Vr,{className:"w-5 h-5 text-accent"}),u.jsx("span",{children:"Real-time Analytics"})]})]})]}),u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary to-accent rounded-3xl blur-2xl opacity-20 group-hover:opacity-30 transition-opacity duration-500"}),u.jsx("img",{src:"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?w=800&q=80",alt:"Platform Dashboard",className:"relative rounded-3xl shadow-2xl border border-white/20"}),u.jsx("div",{className:"absolute -bottom-10 -left-10 bg-card p-6 rounded-2xl shadow-xl border border-border hidden md:block",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",children:"A+"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-bold text-lg",children:"Test Score"}),u.jsx("p",{className:"text-muted-foreground",children:"Excellent Work!"})]})]})})]})]})]}),u.jsx("section",{className:"py-24 bg-muted/30",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[u.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[u.jsx("h2",{className:"text-4xl font-display font-bold mb-4",children:"Everything you need to succeed"}),u.jsx("p",{className:"text-lg text-muted-foreground",children:"Powerful features designed for both educators and students."})]}),u.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:Gu,title:"AI Question Generation",desc:"Upload images of textbooks or notes and let our AI instantly convert them into interactive quizzes."},{icon:nc,title:"Smart Question Bank",desc:"Organize questions by subject and difficulty. Create custom tests in seconds."},{icon:zl,title:"Student Progress",desc:"Track performance over time with detailed analytics and personalized recommendations."}].map((e,n)=>u.jsxs("div",{className:"bg-card p-8 rounded-3xl shadow-sm border border-border/50 hover:shadow-xl hover:border-primary/20 transition-all duration-300 group",children:[u.jsx("div",{className:"w-14 h-14 bg-primary/10 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:u.jsx(e.icon,{className:"w-7 h-7 text-primary"})}),u.jsx("h3",{className:"text-xl font-bold mb-3",children:e.title}),u.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e.desc})]},n))})]})}),u.jsx("footer",{className:"border-t border-border/40 py-12 px-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(zl,{className:"w-5 h-5 text-primary"}),u.jsx("span",{className:"font-display font-bold",children:"AcePrep"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," OrionCloud Pty Ltd. All rights reserved."]})]})})]})}function O5(){return u.jsx("div",{className:"min-h-screen w-full flex flex-col items-center justify-center bg-background p-4",children:u.jsxs("div",{className:"bg-card p-8 rounded-3xl border border-border shadow-2xl max-w-md w-full text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6 text-red-500",children:u.jsx(jm,{className:"w-8 h-8"})}),u.jsx("h1",{className:"text-2xl font-bold font-display mb-2",children:"Page Not Found"}),u.jsx("p",{className:"text-muted-foreground mb-8",children:"The page you are looking for doesn't exist or has been moved."}),u.jsx(yi,{href:"/",children:u.jsx("button",{className:"w-full py-3 rounded-xl font-semibold bg-primary text-primary-foreground hover:opacity-90 transition-opacity",children:"Return Home"})})]})})}var Yme=C.createContext(void 0);function aw(t){const e=C.useContext(Yme);return t||e||"ltr"}var IC=0;function lw(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$5()),document.body.insertAdjacentElement("beforeend",t[1]??$5()),IC++,()=>{IC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),IC--}},[])}function $5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var RC="focusScope.autoFocusOnMount",DC="focusScope.autoFocusOnUnmount",_5={bubbles:!1,cancelable:!0},Xme="FocusScope",by=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=C.useState(null),c=fr(i),d=fr(s),h=C.useRef(null),m=Ot(e,b=>l(b)),g=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let b=function(T){if(g.paused||!a)return;const j=T.target;a.contains(j)?h.current=j:El(h.current,{select:!0})},x=function(T){if(g.paused||!a)return;const j=T.relatedTarget;j!==null&&(a.contains(j)||El(h.current,{select:!0}))},S=function(T){if(document.activeElement===document.body)for(const P of T)P.removedNodes.length>0&&El(a)};document.addEventListener("focusin",b),document.addEventListener("focusout",x);const N=new MutationObserver(S);return a&&N.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",x),N.disconnect()}}},[r,a,g.paused]),C.useEffect(()=>{if(a){I5.add(g);const b=document.activeElement;if(!a.contains(b)){const S=new CustomEvent(RC,_5);a.addEventListener(RC,c),a.dispatchEvent(S),S.defaultPrevented||(Zme(rge(oW(a)),{select:!0}),document.activeElement===b&&El(a))}return()=>{a.removeEventListener(RC,c),setTimeout(()=>{const S=new CustomEvent(DC,_5);a.addEventListener(DC,d),a.dispatchEvent(S),S.defaultPrevented||El(b??document.body,{select:!0}),a.removeEventListener(DC,d),I5.remove(g)},0)}}},[a,c,d,g]);const y=C.useCallback(b=>{if(!n&&!r||g.paused)return;const x=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,S=document.activeElement;if(x&&S){const N=b.currentTarget,[T,j]=Jme(N);T&&j?!b.shiftKey&&S===j?(b.preventDefault(),n&&El(T,{select:!0})):b.shiftKey&&S===T&&(b.preventDefault(),n&&El(j,{select:!0})):S===N&&b.preventDefault()}},[n,r,g.paused]);return u.jsx(Xe.div,{tabIndex:-1,...o,ref:m,onKeyDown:y})});by.displayName=Xme;function Zme(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(El(r,{select:e}),document.activeElement!==n)return}function Jme(t){const e=oW(t),n=M5(e,t),r=M5(e.reverse(),t);return[n,r]}function oW(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function M5(t,e){for(const n of t)if(!ege(n,{upTo:e}))return n}function ege(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function tge(t){return t instanceof HTMLInputElement&&"select"in t}function El(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&tge(t)&&e&&t.select()}}var I5=nge();function nge(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=R5(t,e),t.unshift(e)},remove(e){t=R5(t,e),t[0]?.resume()}}}function R5(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function rge(t){return t.filter(e=>e.tagName!=="A")}var LC="rovingFocusGroup.onEntryFocus",ige={bubbles:!1,cancelable:!0},cw="RovingFocusGroup",[pE,aW,sge]=Ub(cw),[oge,uw]=Hr(cw,[sge]),[age,lge]=oge(cw),lW=C.forwardRef((t,e)=>u.jsx(pE.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(pE.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(cge,{...t,ref:e})})}));lW.displayName=cw;var cge=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,m=C.useRef(null),g=Ot(e,m),y=aw(s),[b=null,x]=fo({prop:o,defaultProp:a,onChange:l}),[S,N]=C.useState(!1),T=fr(c),j=aW(n),P=C.useRef(!1),[E,O]=C.useState(0);return C.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(LC,T),()=>_.removeEventListener(LC,T)},[T]),u.jsx(age,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:b,onItemFocus:C.useCallback(_=>x(_),[x]),onItemShiftTab:C.useCallback(()=>N(!0),[]),onFocusableItemAdd:C.useCallback(()=>O(_=>_+1),[]),onFocusableItemRemove:C.useCallback(()=>O(_=>_-1),[]),children:u.jsx(Xe.div,{tabIndex:S||E===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:Ee(t.onMouseDown,()=>{P.current=!0}),onFocus:Ee(t.onFocus,_=>{const $=!P.current;if(_.target===_.currentTarget&&$&&!S){const B=new CustomEvent(LC,ige);if(_.currentTarget.dispatchEvent(B),!B.defaultPrevented){const I=j().filter(F=>F.focusable),V=I.find(F=>F.active),U=I.find(F=>F.id===b),z=[V,U,...I].filter(Boolean).map(F=>F.ref.current);dW(z,d)}}P.current=!1}),onBlur:Ee(t.onBlur,()=>N(!1))})})}),cW="RovingFocusGroupItem",uW=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=es(),l=s||a,c=lge(cW,n),d=c.currentTabStopId===l,h=aW(n),{onFocusableItemAdd:m,onFocusableItemRemove:g}=c;return C.useEffect(()=>{if(r)return m(),()=>g()},[r,m,g]),u.jsx(pE.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:u.jsx(Xe.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Ee(t.onMouseDown,y=>{r?c.onItemFocus(l):y.preventDefault()}),onFocus:Ee(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Ee(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=fge(y,c.orientation,c.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let S=h().filter(N=>N.focusable).map(N=>N.ref.current);if(b==="last")S.reverse();else if(b==="prev"||b==="next"){b==="prev"&&S.reverse();const N=S.indexOf(y.currentTarget);S=c.loop?hge(S,N+1):S.slice(N+1)}setTimeout(()=>dW(S))}})})})});uW.displayName=cW;var uge={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dge(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function fge(t,e,n){const r=dge(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return uge[r]}function dW(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function hge(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var fW=lW,hW=uW,pge=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},jd=new WeakMap,p0=new WeakMap,m0={},FC=0,pW=function(t){return t&&(t.host||pW(t.parentNode))},mge=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=pW(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},gge=function(t,e,n,r){var i=mge(e,Array.isArray(t)?t:[t]);m0[n]||(m0[n]=new WeakMap);var s=m0[n],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(m){if(a.has(m))d(m);else try{var g=m.getAttribute(r),y=g!==null&&g!=="false",b=(jd.get(m)||0)+1,x=(s.get(m)||0)+1;jd.set(m,b),s.set(m,x),o.push(m),b===1&&y&&p0.set(m,!0),x===1&&m.setAttribute(n,"true"),y||m.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",m,S)}})};return d(e),a.clear(),FC++,function(){o.forEach(function(h){var m=jd.get(h)-1,g=s.get(h)-1;jd.set(h,m),s.set(h,g),m||(p0.has(h)||h.removeAttribute(r),p0.delete(h)),g||h.removeAttribute(n)}),FC--,FC||(jd=new WeakMap,jd=new WeakMap,p0=new WeakMap,m0={})}},dw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=pge(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),gge(r,i,n,"aria-hidden")):function(){return null}},$o=function(){return $o=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$o.apply(this,arguments)};function mW(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function yge(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var X0="right-scroll-bar-position",Z0="width-before-scroll-bar",vge="with-scroll-bars-hidden",xge="--removed-body-scroll-bar-size";function BC(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function bge(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var wge=typeof window<"u"?C.useLayoutEffect:C.useEffect,D5=new WeakMap;function Sge(t,e){var n=bge(null,function(r){return t.forEach(function(i){return BC(i,r)})});return wge(function(){var r=D5.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||BC(a,null)}),s.forEach(function(a){i.has(a)||BC(a,o)})}D5.set(n,t)},[t]),n}function Cge(t){return t}function Nge(t,e){e===void 0&&(e=Cge);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function Pge(t){t===void 0&&(t={});var e=Nge(null);return e.options=$o({async:!0,ssr:!1},t),e}var gW=function(t){var e=t.sideCar,n=mW(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,$o({},n))};gW.isSideCarExport=!0;function Tge(t,e){return t.useMedium(e),gW}var yW=Pge(),VC=function(){},fw=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:VC,onWheelCapture:VC,onTouchMoveCapture:VC}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,m=t.sideCar,g=t.noIsolation,y=t.inert,b=t.allowPinchZoom,x=t.as,S=x===void 0?"div":x,N=t.gapMode,T=mW(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,P=Sge([n,e]),E=$o($o({},T),i);return C.createElement(C.Fragment,null,d&&C.createElement(j,{sideCar:yW,removeScrollBar:c,shards:h,noIsolation:g,inert:y,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:N}),o?C.cloneElement(C.Children.only(a),$o($o({},E),{ref:P})):C.createElement(S,$o({},E,{className:l,ref:P}),a))});fw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fw.classNames={fullWidth:Z0,zeroRight:X0};var Age=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jge(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Age();return e&&t.setAttribute("nonce",e),t}function Ege(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function kge(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Oge=function(){var t=0,e=null;return{add:function(n){t==0&&(e=jge())&&(Ege(e,n),kge(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$ge=function(){var t=Oge();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},vW=function(){var t=$ge(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},_ge={left:0,top:0,right:0,gap:0},zC=function(t){return parseInt(t||"",10)||0},Mge=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[zC(n),zC(r),zC(i)]},Ige=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _ge;var e=Mge(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Rge=vW(),hf="data-scroll-locked",Dge=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(vge,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(hf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(X0,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Z0,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(X0," .").concat(X0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Z0," .").concat(Z0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(hf,`] {
    `).concat(xge,": ").concat(a,`px;
  }
`)},L5=function(){var t=parseInt(document.body.getAttribute(hf)||"0",10);return isFinite(t)?t:0},Lge=function(){C.useEffect(function(){return document.body.setAttribute(hf,(L5()+1).toString()),function(){var t=L5()-1;t<=0?document.body.removeAttribute(hf):document.body.setAttribute(hf,t.toString())}},[])},Fge=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Lge();var s=C.useMemo(function(){return Ige(i)},[i]);return C.createElement(Rge,{styles:Dge(s,!e,i,n?"":"!important")})},mE=!1;if(typeof window<"u")try{var g0=Object.defineProperty({},"passive",{get:function(){return mE=!0,!0}});window.addEventListener("test",g0,g0),window.removeEventListener("test",g0,g0)}catch{mE=!1}var Ed=mE?{passive:!1}:!1,Bge=function(t){return t.tagName==="TEXTAREA"},xW=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Bge(t)&&n[e]==="visible")},Vge=function(t){return xW(t,"overflowY")},zge=function(t){return xW(t,"overflowX")},F5=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=bW(t,r);if(i){var s=wW(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Uge=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},qge=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},bW=function(t,e){return t==="v"?Vge(e):zge(e)},wW=function(t,e){return t==="v"?Uge(e):qge(e)},Hge=function(t,e){return t==="h"&&e==="rtl"?-1:1},Wge=function(t,e,n,r,i){var s=Hge(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,m=0;do{var g=wW(t,a),y=g[0],b=g[1],x=g[2],S=b-x-s*y;(y||S)&&bW(t,a)&&(h+=S,m+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(c=!0),c},y0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},B5=function(t){return[t.deltaX,t.deltaY]},V5=function(t){return t&&"current"in t?t.current:t},Kge=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Gge=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Qge=0,kd=[];function Yge(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(Qge++)[0],s=C.useState(vW)[0],o=C.useRef(t);C.useEffect(function(){o.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=yge([t.lockRef.current],(t.shards||[]).map(V5),!0).filter(Boolean);return b.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=C.useCallback(function(b,x){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var S=y0(b),N=n.current,T="deltaX"in b?b.deltaX:N[0]-S[0],j="deltaY"in b?b.deltaY:N[1]-S[1],P,E=b.target,O=Math.abs(T)>Math.abs(j)?"h":"v";if("touches"in b&&O==="h"&&E.type==="range")return!1;var _=F5(O,E);if(!_)return!0;if(_?P=O:(P=O==="v"?"h":"v",_=F5(O,E)),!_)return!1;if(!r.current&&"changedTouches"in b&&(T||j)&&(r.current=P),!P)return!0;var $=r.current||P;return Wge($,x,b,$==="h"?T:j)},[]),l=C.useCallback(function(b){var x=b;if(!(!kd.length||kd[kd.length-1]!==s)){var S="deltaY"in x?B5(x):y0(x),N=e.current.filter(function(P){return P.name===x.type&&(P.target===x.target||x.target===P.shadowParent)&&Kge(P.delta,S)})[0];if(N&&N.should){x.cancelable&&x.preventDefault();return}if(!N){var T=(o.current.shards||[]).map(V5).filter(Boolean).filter(function(P){return P.contains(x.target)}),j=T.length>0?a(x,T[0]):!o.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),c=C.useCallback(function(b,x,S,N){var T={name:b,delta:x,target:S,should:N,shadowParent:Xge(S)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(j){return j!==T})},1)},[]),d=C.useCallback(function(b){n.current=y0(b),r.current=void 0},[]),h=C.useCallback(function(b){c(b.type,B5(b),b.target,a(b,t.lockRef.current))},[]),m=C.useCallback(function(b){c(b.type,y0(b),b.target,a(b,t.lockRef.current))},[]);C.useEffect(function(){return kd.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Ed),document.addEventListener("touchmove",l,Ed),document.addEventListener("touchstart",d,Ed),function(){kd=kd.filter(function(b){return b!==s}),document.removeEventListener("wheel",l,Ed),document.removeEventListener("touchmove",l,Ed),document.removeEventListener("touchstart",d,Ed)}},[]);var g=t.removeScrollBar,y=t.inert;return C.createElement(C.Fragment,null,y?C.createElement(s,{styles:Gge(i)}):null,g?C.createElement(Fge,{gapMode:t.gapMode}):null)}function Xge(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Zge=Tge(yW,Yge);var wy=C.forwardRef(function(t,e){return C.createElement(fw,$o({},t,{ref:e,sideCar:Zge}))});wy.classNames=fw.classNames;var gE=["Enter"," "],Jge=["ArrowDown","PageUp","Home"],SW=["ArrowUp","PageDown","End"],eye=[...Jge,...SW],tye={ltr:[...gE,"ArrowRight"],rtl:[...gE,"ArrowLeft"]},nye={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Sy="Menu",[Km,rye,iye]=Ub(Sy),[Qu,hw]=Hr(Sy,[iye,mc,uw]),Cy=mc(),CW=uw(),[NW,gc]=Qu(Sy),[sye,Ny]=Qu(Sy),PW=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=Cy(e),[l,c]=C.useState(null),d=C.useRef(!1),h=fr(s),m=aw(i);return C.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),u.jsx(Jb,{...a,children:u.jsx(NW,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:u.jsx(sye,{scope:e,onClose:C.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:o,children:r})})})};PW.displayName=Sy;var oye="MenuAnchor",qO=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Cy(n);return u.jsx(yy,{...i,...r,ref:e})});qO.displayName=oye;var HO="MenuPortal",[aye,TW]=Qu(HO,{forceMount:void 0}),AW=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=gc(HO,e);return u.jsx(aye,{scope:e,forceMount:n,children:u.jsx(Di,{present:n||s.open,children:u.jsx(yh,{asChild:!0,container:i,children:r})})})};AW.displayName=HO;var js="MenuContent",[lye,WO]=Qu(js),jW=C.forwardRef((t,e)=>{const n=TW(js,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=gc(js,t.__scopeMenu),o=Ny(js,t.__scopeMenu);return u.jsx(Km.Provider,{scope:t.__scopeMenu,children:u.jsx(Di,{present:r||s.open,children:u.jsx(Km.Slot,{scope:t.__scopeMenu,children:o.modal?u.jsx(cye,{...i,ref:e}):u.jsx(uye,{...i,ref:e})})})})}),cye=C.forwardRef((t,e)=>{const n=gc(js,t.__scopeMenu),r=C.useRef(null),i=Ot(e,r);return C.useEffect(()=>{const s=r.current;if(s)return dw(s)},[]),u.jsx(KO,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ee(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),uye=C.forwardRef((t,e)=>{const n=gc(js,t.__scopeMenu);return u.jsx(KO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),dye=tc("MenuContent.ScrollLock"),KO=C.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:g,disableOutsideScroll:y,...b}=t,x=gc(js,n),S=Ny(js,n),N=Cy(n),T=CW(n),j=rye(n),[P,E]=C.useState(null),O=C.useRef(null),_=Ot(e,O,x.onContentChange),$=C.useRef(0),B=C.useRef(""),I=C.useRef(0),V=C.useRef(null),U=C.useRef("right"),L=C.useRef(0),z=y?wy:C.Fragment,F=y?{as:dye,allowPinchZoom:!0}:void 0,q=D=>{const Q=B.current+D,W=j().filter(me=>!me.disabled),Y=document.activeElement,le=W.find(me=>me.ref.current===Y)?.textValue,pe=W.map(me=>me.textValue),he=Cye(pe,Q,le),Ae=W.find(me=>me.textValue===he)?.ref.current;(function me(Se){B.current=Se,window.clearTimeout($.current),Se!==""&&($.current=window.setTimeout(()=>me(""),1e3))})(Q),Ae&&setTimeout(()=>Ae.focus())};C.useEffect(()=>()=>window.clearTimeout($.current),[]),lw();const M=C.useCallback(D=>U.current===V.current?.side&&Pye(D,V.current?.area),[]);return u.jsx(lye,{scope:n,searchRef:B,onItemEnter:C.useCallback(D=>{M(D)&&D.preventDefault()},[M]),onItemLeave:C.useCallback(D=>{M(D)||(O.current?.focus(),E(null))},[M]),onTriggerLeave:C.useCallback(D=>{M(D)&&D.preventDefault()},[M]),pointerGraceTimerRef:I,onPointerGraceIntentChange:C.useCallback(D=>{V.current=D},[]),children:u.jsx(z,{...F,children:u.jsx(by,{asChild:!0,trapped:i,onMountAutoFocus:Ee(s,D=>{D.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u.jsx(Ku,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:g,children:u.jsx(fW,{asChild:!0,...T,dir:S.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:E,onEntryFocus:Ee(l,D=>{S.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(ew,{role:"menu","aria-orientation":"vertical","data-state":HW(x.open),"data-radix-menu-content":"",dir:S.dir,...N,...b,ref:_,style:{outline:"none",...b.style},onKeyDown:Ee(b.onKeyDown,D=>{const W=D.target.closest("[data-radix-menu-content]")===D.currentTarget,Y=D.ctrlKey||D.altKey||D.metaKey,le=D.key.length===1;W&&(D.key==="Tab"&&D.preventDefault(),!Y&&le&&q(D.key));const pe=O.current;if(D.target!==pe||!eye.includes(D.key))return;D.preventDefault();const Ae=j().filter(me=>!me.disabled).map(me=>me.ref.current);SW.includes(D.key)&&Ae.reverse(),wye(Ae)}),onBlur:Ee(t.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout($.current),B.current="")}),onPointerMove:Ee(t.onPointerMove,Gm(D=>{const Q=D.target,W=L.current!==D.clientX;if(D.currentTarget.contains(Q)&&W){const Y=D.clientX>L.current?"right":"left";U.current=Y,L.current=D.clientX}}))})})})})})})});jW.displayName=js;var fye="MenuGroup",GO=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Xe.div,{role:"group",...r,ref:e})});GO.displayName=fye;var hye="MenuLabel",EW=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Xe.div,{...r,ref:e})});EW.displayName=hye;var Tx="MenuItem",z5="menu.itemSelect",pw=C.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=C.useRef(null),o=Ny(Tx,t.__scopeMenu),a=WO(Tx,t.__scopeMenu),l=Ot(e,s),c=C.useRef(!1),d=()=>{const h=s.current;if(!n&&h){const m=new CustomEvent(z5,{bubbles:!0,cancelable:!0});h.addEventListener(z5,g=>r?.(g),{once:!0}),pO(h,m),m.defaultPrevented?c.current=!1:o.onClose()}};return u.jsx(kW,{...i,ref:l,disabled:n,onClick:Ee(t.onClick,d),onPointerDown:h=>{t.onPointerDown?.(h),c.current=!0},onPointerUp:Ee(t.onPointerUp,h=>{c.current||h.currentTarget?.click()}),onKeyDown:Ee(t.onKeyDown,h=>{const m=a.searchRef.current!=="";n||m&&h.key===" "||gE.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});pw.displayName=Tx;var kW=C.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=WO(Tx,n),a=CW(n),l=C.useRef(null),c=Ot(e,l),[d,h]=C.useState(!1),[m,g]=C.useState("");return C.useEffect(()=>{const y=l.current;y&&g((y.textContent??"").trim())},[s.children]),u.jsx(Km.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:u.jsx(hW,{asChild:!0,...a,focusable:!r,children:u.jsx(Xe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:Ee(t.onPointerMove,Gm(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(t.onPointerLeave,Gm(y=>o.onItemLeave(y))),onFocus:Ee(t.onFocus,()=>h(!0)),onBlur:Ee(t.onBlur,()=>h(!1))})})})}),pye="MenuCheckboxItem",OW=C.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return u.jsx(RW,{scope:t.__scopeMenu,checked:n,children:u.jsx(pw,{role:"menuitemcheckbox","aria-checked":Ax(n)?"mixed":n,...i,ref:e,"data-state":XO(n),onSelect:Ee(i.onSelect,()=>r?.(Ax(n)?!0:!n),{checkForDefaultPrevented:!1})})})});OW.displayName=pye;var $W="MenuRadioGroup",[mye,gye]=Qu($W,{value:void 0,onValueChange:()=>{}}),_W=C.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=fr(r);return u.jsx(mye,{scope:t.__scopeMenu,value:n,onValueChange:s,children:u.jsx(GO,{...i,ref:e})})});_W.displayName=$W;var MW="MenuRadioItem",IW=C.forwardRef((t,e)=>{const{value:n,...r}=t,i=gye(MW,t.__scopeMenu),s=n===i.value;return u.jsx(RW,{scope:t.__scopeMenu,checked:s,children:u.jsx(pw,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":XO(s),onSelect:Ee(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});IW.displayName=MW;var QO="MenuItemIndicator",[RW,yye]=Qu(QO,{checked:!1}),DW=C.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=yye(QO,n);return u.jsx(Di,{present:r||Ax(s.checked)||s.checked===!0,children:u.jsx(Xe.span,{...i,ref:e,"data-state":XO(s.checked)})})});DW.displayName=QO;var vye="MenuSeparator",LW=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});LW.displayName=vye;var xye="MenuArrow",FW=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Cy(n);return u.jsx(tw,{...i,...r,ref:e})});FW.displayName=xye;var YO="MenuSub",[bye,BW]=Qu(YO),VW=t=>{const{__scopeMenu:e,children:n,open:r=!1,onOpenChange:i}=t,s=gc(YO,e),o=Cy(e),[a,l]=C.useState(null),[c,d]=C.useState(null),h=fr(i);return C.useEffect(()=>(s.open===!1&&h(!1),()=>h(!1)),[s.open,h]),u.jsx(Jb,{...o,children:u.jsx(NW,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:d,children:u.jsx(bye,{scope:e,contentId:es(),triggerId:es(),trigger:a,onTriggerChange:l,children:n})})})};VW.displayName=YO;var Wp="MenuSubTrigger",zW=C.forwardRef((t,e)=>{const n=gc(Wp,t.__scopeMenu),r=Ny(Wp,t.__scopeMenu),i=BW(Wp,t.__scopeMenu),s=WO(Wp,t.__scopeMenu),o=C.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},d=C.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return C.useEffect(()=>d,[d]),C.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),u.jsx(qO,{asChild:!0,...c,children:u.jsx(kW,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":HW(n.open),...t,ref:zb(e,i.onTriggerChange),onClick:h=>{t.onClick?.(h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ee(t.onPointerMove,Gm(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Ee(t.onPointerLeave,Gm(h=>{d();const m=n.content?.getBoundingClientRect();if(m){const g=n.content?.dataset.side,y=g==="right",b=y?-5:5,x=m[y?"left":"right"],S=m[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x,y:m.top},{x:S,y:m.top},{x:S,y:m.bottom},{x,y:m.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(t.onKeyDown,h=>{const m=s.searchRef.current!=="";t.disabled||m&&h.key===" "||tye[r.dir].includes(h.key)&&(n.onOpenChange(!0),n.content?.focus(),h.preventDefault())})})})});zW.displayName=Wp;var UW="MenuSubContent",qW=C.forwardRef((t,e)=>{const n=TW(js,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=gc(js,t.__scopeMenu),o=Ny(js,t.__scopeMenu),a=BW(UW,t.__scopeMenu),l=C.useRef(null),c=Ot(e,l);return u.jsx(Km.Provider,{scope:t.__scopeMenu,children:u.jsx(Di,{present:r||s.open,children:u.jsx(Km.Slot,{scope:t.__scopeMenu,children:u.jsx(KO,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&l.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ee(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ee(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ee(t.onKeyDown,d=>{const h=d.currentTarget.contains(d.target),m=nye[o.dir].includes(d.key);h&&m&&(s.onOpenChange(!1),a.trigger?.focus(),d.preventDefault())})})})})})});qW.displayName=UW;function HW(t){return t?"open":"closed"}function Ax(t){return t==="indeterminate"}function XO(t){return Ax(t)?"indeterminate":t?"checked":"unchecked"}function wye(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Sye(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Cye(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Sye(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Nye(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function Pye(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Nye(n,e)}function Gm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var WW=PW,KW=qO,GW=AW,QW=jW,YW=GO,XW=EW,ZW=pw,JW=OW,eK=_W,tK=IW,nK=DW,rK=LW,iK=FW,Tye=VW,sK=zW,oK=qW,ZO="DropdownMenu",[Aye]=Hr(ZO,[hw]),li=hw(),[jye,aK]=Aye(ZO),lK=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=li(e),c=C.useRef(null),[d=!1,h]=fo({prop:i,defaultProp:s,onChange:o});return u.jsx(jye,{scope:e,triggerId:es(),triggerRef:c,contentId:es(),open:d,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(m=>!m),[h]),modal:a,children:u.jsx(WW,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};lK.displayName=ZO;var cK="DropdownMenuTrigger",uK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=aK(cK,n),o=li(n);return u.jsx(KW,{asChild:!0,...o,children:u.jsx(Xe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:zb(e,s.triggerRef),onPointerDown:Ee(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Ee(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});uK.displayName=cK;var Eye="DropdownMenuPortal",dK=t=>{const{__scopeDropdownMenu:e,...n}=t,r=li(e);return u.jsx(GW,{...r,...n})};dK.displayName=Eye;var fK="DropdownMenuContent",hK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=aK(fK,n),s=li(n),o=C.useRef(!1);return u.jsx(QW,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Ee(t.onCloseAutoFocus,a=>{o.current||i.triggerRef.current?.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Ee(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hK.displayName=fK;var kye="DropdownMenuGroup",Oye=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=li(n);return u.jsx(YW,{...i,...r,ref:e})});Oye.displayName=kye;var $ye="DropdownMenuLabel",pK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=li(n);return u.jsx(XW,{...i,...r,ref:e})});pK.displayName=$ye;var _ye="DropdownMenuItem",mK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=li(n);return u.jsx(ZW,{...i,...r,ref:e})});mK.displayName=_ye;var Mye="DropdownMenuCheckboxItem",gK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=li(n);return u.jsx(JW,{...i,...r,ref:e})});gK.displayName=Mye;var Iye="DropdownMenuRadioGroup",Rye=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=li(n);return u.jsx(eK,{...i,...r,ref:e})});Rye.displayName=Iye;var Dye="DropdownMenuRadioItem",yK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=li(n);return u.jsx(tK,{...i,...r,ref:e})});yK.displayName=Dye;var Lye="DropdownMenuItemIndicator",vK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=li(n);return u.jsx(nK,{...i,...r,ref:e})});vK.displayName=Lye;var Fye="DropdownMenuSeparator",xK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=li(n);return u.jsx(rK,{...i,...r,ref:e})});xK.displayName=Fye;var Bye="DropdownMenuArrow",Vye=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=li(n);return u.jsx(iK,{...i,...r,ref:e})});Vye.displayName=Bye;var zye=t=>{const{__scopeDropdownMenu:e,children:n,open:r,onOpenChange:i,defaultOpen:s}=t,o=li(e),[a=!1,l]=fo({prop:r,defaultProp:s,onChange:i});return u.jsx(Tye,{...o,open:a,onOpenChange:l,children:n})},Uye="DropdownMenuSubTrigger",bK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=li(n);return u.jsx(sK,{...i,...r,ref:e})});bK.displayName=Uye;var qye="DropdownMenuSubContent",wK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=li(n);return u.jsx(oK,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wK.displayName=qye;var Hye=lK,Wye=uK,Kye=dK,SK=hK,CK=pK,NK=mK,PK=gK,TK=yK,AK=vK,jK=xK,Gye=zye,EK=bK,kK=wK;const OK=Hye,$K=Wye,Qye=Gye,_K=C.forwardRef(({className:t,inset:e,children:n,...r},i)=>u.jsxs(EK,{ref:i,className:se("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,u.jsx(Go,{className:"ml-auto"})]}));_K.displayName=EK.displayName;const MK=C.forwardRef(({className:t,...e},n)=>u.jsx(kK,{ref:n,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));MK.displayName=kK.displayName;const JO=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(Kye,{children:u.jsx(SK,{ref:r,sideOffset:e,className:se("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));JO.displayName=SK.displayName;const du=C.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(NK,{ref:r,className:se("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));du.displayName=NK.displayName;const Yye=C.forwardRef(({className:t,children:e,checked:n,...r},i)=>u.jsxs(PK,{ref:i,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(AK,{children:u.jsx(ho,{className:"h-4 w-4"})})}),e]}));Yye.displayName=PK.displayName;const Xye=C.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(TK,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(AK,{children:u.jsx(Bq,{className:"h-2 w-2 fill-current"})})}),e]}));Xye.displayName=TK.displayName;const yE=C.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(CK,{ref:r,className:se("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));yE.displayName=CK.displayName;const sm=C.forwardRef(({className:t,...e},n)=>u.jsx(jK,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",t),...e}));sm.displayName=jK.displayName;var e$="Avatar",[Zye]=Hr(e$),[Jye,IK]=Zye(e$),RK=C.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=C.useState("idle");return u.jsx(Jye,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:u.jsx(Xe.span,{...r,ref:e})})});RK.displayName=e$;var DK="AvatarImage",LK=C.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=IK(DK,n),a=eve(r,s),l=fr(c=>{i(c),o.onImageLoadingStatusChange(c)});return hr(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?u.jsx(Xe.img,{...s,ref:e,src:r}):null});LK.displayName=DK;var FK="AvatarFallback",BK=C.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=IK(FK,n),[o,a]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?u.jsx(Xe.span,{...i,ref:e}):null});BK.displayName=FK;function U5(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function eve(t,{referrerPolicy:e,crossOrigin:n}){const r=nve(),i=C.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,a]=C.useState(()=>U5(s,t));return hr(()=>{a(U5(s,t))},[s,t]),hr(()=>{const l=h=>()=>{a(h)};if(!s)return;const c=l("loaded"),d=l("error");return s.addEventListener("load",c),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",d)}},[s,n,e]),o}function tve(){return()=>{}}function nve(){return C.useSyncExternalStore(tve,()=>!0,()=>!1)}var VK=RK,zK=LK,UK=BK;const Qm=C.forwardRef(({className:t,...e},n)=>u.jsx(VK,{ref:n,className:se(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Qm.displayName=VK.displayName;const Ym=C.forwardRef(({className:t,...e},n)=>u.jsx(zK,{ref:n,className:se("aspect-square h-full w-full",t),...e}));Ym.displayName=zK.displayName;const Xm=C.forwardRef(({className:t,...e},n)=>u.jsx(UK,{ref:n,className:se("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Xm.displayName=UK.displayName;const t$=py("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ce=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?dq:"button";return u.jsx(o,{className:se(t$({variant:e,size:n,className:t})),ref:s,...i})});ce.displayName="Button";var n$="Dialog",[qK,HK]=Hr(n$),[rve,xo]=qK(n$),WK=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=C.useRef(null),l=C.useRef(null),[c=!1,d]=fo({prop:r,defaultProp:i,onChange:s});return u.jsx(rve,{scope:e,triggerRef:a,contentRef:l,contentId:es(),titleId:es(),descriptionId:es(),open:c,onOpenChange:d,onOpenToggle:C.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};WK.displayName=n$;var KK="DialogTrigger",GK=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xo(KK,n),s=Ot(e,i.triggerRef);return u.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":s$(i.open),...r,ref:s,onClick:Ee(t.onClick,i.onOpenToggle)})});GK.displayName=KK;var r$="DialogPortal",[ive,QK]=qK(r$,{forceMount:void 0}),YK=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=xo(r$,e);return u.jsx(ive,{scope:e,forceMount:n,children:C.Children.map(r,o=>u.jsx(Di,{present:n||s.open,children:u.jsx(yh,{asChild:!0,container:i,children:o})}))})};YK.displayName=r$;var jx="DialogOverlay",XK=C.forwardRef((t,e)=>{const n=QK(jx,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=xo(jx,t.__scopeDialog);return s.modal?u.jsx(Di,{present:r||s.open,children:u.jsx(ove,{...i,ref:e})}):null});XK.displayName=jx;var sve=tc("DialogOverlay.RemoveScroll"),ove=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xo(jx,n);return u.jsx(wy,{as:sve,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Xe.div,{"data-state":s$(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),$u="DialogContent",ZK=C.forwardRef((t,e)=>{const n=QK($u,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=xo($u,t.__scopeDialog);return u.jsx(Di,{present:r||s.open,children:s.modal?u.jsx(ave,{...i,ref:e}):u.jsx(lve,{...i,ref:e})})});ZK.displayName=$u;var ave=C.forwardRef((t,e)=>{const n=xo($u,t.__scopeDialog),r=C.useRef(null),i=Ot(e,n.contentRef,r);return C.useEffect(()=>{const s=r.current;if(s)return dw(s)},[]),u.jsx(JK,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,s=>s.preventDefault())})}),lve=C.forwardRef((t,e)=>{const n=xo($u,t.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return u.jsx(JK,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;n.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),JK=C.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=xo($u,n),l=C.useRef(null),c=Ot(e,l);return lw(),u.jsxs(u.Fragment,{children:[u.jsx(by,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:u.jsx(Ku,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":s$(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(uve,{titleId:a.titleId}),u.jsx(fve,{contentRef:l,descriptionId:a.descriptionId})]})]})}),i$="DialogTitle",eG=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xo(i$,n);return u.jsx(Xe.h2,{id:i.titleId,...r,ref:e})});eG.displayName=i$;var tG="DialogDescription",nG=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xo(tG,n);return u.jsx(Xe.p,{id:i.descriptionId,...r,ref:e})});nG.displayName=tG;var rG="DialogClose",iG=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xo(rG,n);return u.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Ee(t.onClick,()=>i.onOpenChange(!1))})});iG.displayName=rG;function s$(t){return t?"open":"closed"}var sG="DialogTitleWarning",[cve,oG]=sle(sG,{contentName:$u,titleName:i$,docsSlug:"dialog"}),uve=({titleId:t})=>{const e=oG(sG),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},dve="DialogDescriptionWarning",fve=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oG(dve).contentName}}.`;return C.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},o$=WK,aG=GK,a$=YK,Py=XK,Ty=ZK,Ay=eG,jy=nG,mw=iG;const hve=o$,pve=a$,lG=C.forwardRef(({className:t,...e},n)=>u.jsx(Py,{className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));lG.displayName=Py.displayName;const mve=py("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),cG=C.forwardRef(({side:t="right",className:e,children:n,...r},i)=>u.jsxs(pve,{children:[u.jsx(lG,{}),u.jsxs(Ty,{ref:i,className:se(mve({side:t}),e),...r,children:[n,u.jsxs(mw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(Ra,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cG.displayName=Ty.displayName;const gve=C.forwardRef(({className:t,...e},n)=>u.jsx(Ay,{ref:n,className:se("text-lg font-semibold text-foreground",t),...e}));gve.displayName=Ay.displayName;const yve=C.forwardRef(({className:t,...e},n)=>u.jsx(jy,{ref:n,className:se("text-sm text-muted-foreground",t),...e}));yve.displayName=jy.displayName;const UC=768;function vve(){const[t,e]=C.useState(void 0);return C.useEffect(()=>{const n=window.matchMedia(`(max-width: ${UC-1}px)`),r=()=>{e(window.innerWidth<UC)};return n.addEventListener("change",r),e(window.innerWidth<UC),()=>n.removeEventListener("change",r)},[]),!!t}function xve({children:t}){const{user:e,logout:n}=wh(),{data:r}=Sh(),{data:i}=Ka(),s=Rme(),[o]=vo(),[a,l]=C.useState(!1),[c,d]=C.useState(!1),h=vve(),m=localStorage.getItem("active_student_profile"),g=m?JSON.parse(m):null,y=g||r,b=y?.role==="parent",x=r?.isAdmin===!0&&!g,S=[{name:"Overview",href:"/admin/dashboard",icon:fx},{name:"Users",href:"/admin/users",icon:Io},{name:"Plans",href:"/admin/plans",icon:rce},{name:"AI Prompts",href:"/admin/prompts",icon:vce},{name:"Reference Tables",href:"/admin/reference-tables",icon:Jj}],N=b?[{name:"Dashboard",href:"/parent/dashboard",icon:f0},{name:"Students",href:"/parent/students",icon:Io},{name:"Questions",href:"/parent/questions",icon:nc},{name:"Tests",href:"/parent/tests",icon:Tu},{name:"Results",href:"/parent/results",icon:o5},{name:"Reports",href:"/parent/reports",icon:fx},{name:"Explanations",href:"/parent/explanations",icon:Gu}]:[{name:"Dashboard",href:"/student/dashboard",icon:f0},{name:"My Tests",href:"/student/tests",icon:zl}];if(!e)return u.jsx(u.Fragment,{children:t});const T=()=>{localStorage.removeItem("active_student_profile"),window.location.href="/parent/dashboard"},j=()=>{h&&d(!1)},P=b?[{name:"Dashboard",href:"/parent/dashboard",icon:f0},{name:"Questions",href:"/parent/questions",icon:nc},{name:"Tests",href:"/parent/tests",icon:Tu},{name:"Results",href:"/parent/results",icon:o5}]:[{name:"Dashboard",href:"/student/dashboard",icon:f0},{name:"My Tests",href:"/student/tests",icon:zl}],E=$=>o===$?!0:$==="/parent/dashboard"||$==="/student/dashboard"?!1:o.startsWith($+"/")||o===$,O=()=>u.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-card border-t border-border z-50 shadow-lg",children:u.jsx("div",{className:"flex items-center justify-around h-16",children:P.map($=>{const B=E($.href);return u.jsxs(yi,{href:$.href,className:se("flex flex-col items-center justify-center gap-1 flex-1 h-full transition-colors relative",B?"text-primary":"text-muted-foreground active:text-primary"),children:[u.jsxs("div",{className:"relative",children:[u.jsx($.icon,{className:se("w-5 h-5 transition-all",B&&"scale-110")}),B&&u.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-primary rounded-full"})]}),u.jsx("span",{className:se("text-xs font-medium transition-all",B&&"font-semibold"),children:$.name})]},$.name)})})}),_=({onNavClick:$,collapsed:B=!1})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:se("p-6 border-b border-border/50 overflow-hidden",B&&"px-4"),children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center shrink-0",children:u.jsx(zl,{className:"w-6 h-6 text-primary"})}),!B&&u.jsxs("div",{className:"animate-in fade-in duration-300",children:[u.jsx("h1",{className:"font-display font-bold text-xl leading-none",children:"AcePrep"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Platform"})]})]})}),u.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[N.map(I=>u.jsx(yi,{href:I.href,onClick:$,children:u.jsxs("div",{title:B?I.name:"",className:se("flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 cursor-pointer",o===I.href?"bg-primary text-primary-foreground shadow-lg shadow-primary/20":"text-muted-foreground hover:bg-muted hover:text-foreground",B&&"justify-center px-0"),children:[u.jsx(I.icon,{className:"w-5 h-5 shrink-0"}),!B&&u.jsx("span",{className:"animate-in fade-in duration-300",children:I.name})]})},I.name)),x&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:se("pt-4 pb-2",B&&"flex justify-center"),children:u.jsxs("div",{className:"flex items-center gap-2 px-4 text-xs font-bold uppercase text-muted-foreground tracking-wider",children:[u.jsx(Kq,{className:"w-3 h-3"}),!B&&u.jsx("span",{className:"animate-in fade-in duration-300",children:"Admin"})]})}),S.map(I=>u.jsx(yi,{href:I.href,onClick:$,children:u.jsxs("div",{title:B?I.name:"",className:se("flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 cursor-pointer",o===I.href?"bg-amber-500 text-white shadow-lg shadow-amber-500/20":"text-muted-foreground hover:bg-muted hover:text-foreground",B&&"justify-center px-0"),children:[u.jsx(I.icon,{className:"w-5 h-5 shrink-0"}),!B&&u.jsx("span",{className:"animate-in fade-in duration-300",children:I.name})]})},I.name))]})]}),u.jsxs("div",{className:"p-4 border-t border-border/50 space-y-2",children:[g&&u.jsxs("button",{onClick:()=>{T(),$?.()},title:B?"Exit Student Mode":"",className:se("w-full flex items-center gap-2 px-4 py-2 text-sm font-medium text-primary hover:bg-primary/10 rounded-lg transition-colors",B&&"justify-center px-0"),children:[u.jsx(Qle,{className:"w-4 h-4 shrink-0"}),!B&&u.jsx("span",{className:"animate-in fade-in duration-300",children:"Exit Student Mode"})]}),u.jsxs(OK,{children:[u.jsx($K,{asChild:!0,children:u.jsx("button",{className:"w-full text-left focus:outline-none",children:u.jsx("div",{className:se("bg-muted/50 hover:bg-muted transition-colors rounded-xl p-4",B&&"p-2"),children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs(Qm,{className:"w-10 h-10 border-2 border-background shrink-0",children:[u.jsx(Ym,{src:y?.avatarUrl||e.profileImageUrl}),u.jsx(Xm,{children:e.firstName?.[0]})]}),!B&&u.jsxs("div",{className:"overflow-hidden animate-in fade-in duration-300",children:[u.jsx("p",{className:"text-sm font-semibold truncate",children:g?g.firstName:`${e.firstName} ${e.lastName}`}),u.jsx("p",{className:"text-xs text-muted-foreground truncate capitalize",children:y?.role||"User"})]})]})})})}),u.jsxs(JO,{align:B?"center":"end",side:B?"right":"bottom",className:"w-56 rounded-xl",children:[u.jsx(yE,{children:"My Account"}),u.jsx(sm,{}),u.jsx(yi,{href:"/profile",onClick:$,children:u.jsxs(du,{className:"cursor-pointer gap-2",children:[u.jsx(tce,{className:"w-4 h-4"}),"Profile Settings"]})}),b&&i&&i.length>0&&u.jsxs(u.Fragment,{children:[u.jsx(sm,{}),u.jsx(yE,{className:"text-xs text-muted-foreground",children:"Switch to Student"}),i.map(I=>u.jsxs(du,{className:"cursor-pointer gap-2",onClick:()=>{s.mutate(I.id),$?.()},children:[u.jsxs(Qm,{className:"w-5 h-5",children:[u.jsx(Ym,{src:I.profile.avatarUrl}),u.jsx(Xm,{children:I.firstName[0]})]}),I.firstName]},I.id))]}),u.jsx(sm,{}),u.jsxs(du,{onClick:()=>{n(),$?.()},className:"cursor-pointer gap-2 text-destructive focus:text-destructive",children:[u.jsx(mce,{className:"w-4 h-4"}),"Sign Out"]})]})]})]})]});return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col md:flex-row",children:[u.jsxs("div",{className:"md:hidden bg-card border-b border-border px-4 py-3 flex items-center justify-between sticky top-0 z-40",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-xl bg-primary/10 flex items-center justify-center",children:u.jsx(zl,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"font-display font-bold text-lg leading-none",children:"AcePrep"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Platform"})]})]}),u.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>d(!0),className:"md:hidden",children:u.jsx(yce,{className:"h-6 w-6"})})]}),u.jsx(hve,{open:c,onOpenChange:d,children:u.jsx(cG,{side:"left",className:"w-64 p-0",children:u.jsx("div",{className:"flex flex-col h-full bg-card",children:u.jsx(_,{onNavClick:j,collapsed:!1})})})}),u.jsxs("aside",{className:se("hidden md:flex bg-card border-r border-border min-h-screen flex-col transition-all duration-300 relative",a?"w-20":"w-64"),children:[u.jsx(ce,{variant:"ghost",size:"icon",className:"absolute -right-3 top-20 h-6 w-6 rounded-full border bg-background shadow-sm z-50",onClick:()=>l(!a),children:a?u.jsx(Go,{className:"h-4 w-4"}):u.jsx(Cf,{className:"h-4 w-4"})}),u.jsx(_,{collapsed:a})]}),u.jsx("main",{className:"flex-1 overflow-auto pb-16 md:pb-0",children:u.jsx("div",{className:"max-w-7xl mx-auto p-4 md:p-8",children:t})}),u.jsx(O,{})]})}const uG=C.createContext({});function bve(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const l$=C.createContext(null),dG=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function wve(t=!0){const e=C.useContext(l$);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=C.useId();C.useEffect(()=>{t&&i(s)},[t]);const o=C.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const c$=typeof window<"u",Sve=c$?C.useLayoutEffect:C.useEffect,rs=t=>t;let fG=rs;function u$(t){let e;return()=>(e===void 0&&(e=t()),e)}const kf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Pa=t=>t*1e3,Ta=t=>t/1e3,Cve={useManualTiming:!1};function Nve(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,d=!1,h=!1)=>{const g=h&&r?e:n;return d&&s.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const v0=["read","resolveKeyframes","update","preRender","render","postRender"],Pve=40;function hG(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=v0.reduce((S,N)=>(S[N]=Nve(s),S),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:m}=o,g=()=>{const S=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,Pve),1),i.timestamp=S,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),h.process(i),m.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},y=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:v0.reduce((S,N)=>{const T=o[N];return S[N]=(j,P=!1,E=!1)=>(n||y(),T.schedule(j,P,E)),S},{}),cancel:S=>{for(let N=0;N<v0.length;N++)o[v0[N]].cancel(S)},state:i,steps:o}}const{schedule:bn,cancel:dc,state:Lr,steps:qC}=hG(typeof requestAnimationFrame<"u"?requestAnimationFrame:rs,!0),pG=C.createContext({strict:!1}),q5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Of={};for(const t in q5)Of[t]={isEnabled:e=>q5[t].some(n=>!!e[n])};function Tve(t){for(const e in t)Of[e]={...Of[e],...t[e]}}const Ave=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ex(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Ave.has(t)}let mG=t=>!Ex(t);function jve(t){t&&(mG=e=>e.startsWith("on")?!Ex(e):t(e))}try{jve(require("@emotion/is-prop-valid").default)}catch{}function Eve(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(mG(i)||n===!0&&Ex(i)||!e&&!Ex(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function kve(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const gw=C.createContext({});function Zm(t){return typeof t=="string"||Array.isArray(t)}function yw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const d$=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],f$=["initial",...d$];function vw(t){return yw(t.animate)||f$.some(e=>Zm(t[e]))}function gG(t){return!!(vw(t)||t.variants)}function Ove(t,e){if(vw(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Zm(n)?n:void 0,animate:Zm(r)?r:void 0}}return t.inherit!==!1?e:{}}function $ve(t){const{initial:e,animate:n}=Ove(t,C.useContext(gw));return C.useMemo(()=>({initial:e,animate:n}),[H5(e),H5(n)])}function H5(t){return Array.isArray(t)?t.join(" "):t}const _ve=Symbol.for("motionComponentSymbol");function Qd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Mve(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Qd(n)&&(n.current=r))},[e])}const h$=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ive="framerAppearId",yG="data-"+h$(Ive),{schedule:p$}=hG(queueMicrotask,!1),vG=C.createContext({});function Rve(t,e,n,r,i){var s,o;const{visualElement:a}=C.useContext(gw),l=C.useContext(pG),c=C.useContext(l$),d=C.useContext(dG).reducedMotion,h=C.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,g=C.useContext(vG);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&Dve(h.current,n,i,g);const y=C.useRef(!1);C.useInsertionEffect(()=>{m&&y.current&&m.update(n,c)});const b=n[yG],x=C.useRef(!!b&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,b))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,b)));return Sve(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),p$.render(m.render),x.current&&m.animationState&&m.animationState.animateChanges())}),C.useEffect(()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)===null||S===void 0||S.call(window,b)}),x.current=!1))}),m}function Dve(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:xG(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Qd(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function xG(t){if(t)return t.options.allowProjection!==!1?t.projection:xG(t.parent)}function Lve({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&Tve(t);function a(c,d){let h;const m={...C.useContext(dG),...c,layoutId:Fve(c)},{isStatic:g}=m,y=$ve(c),b=r(c,g);if(!g&&c$){Bve();const x=Vve(m);h=x.MeasureLayout,y.visualElement=Rve(i,b,m,e,x.ProjectionNode)}return u.jsxs(gw.Provider,{value:y,children:[h&&y.visualElement?u.jsx(h,{visualElement:y.visualElement,...m}):null,n(i,c,Mve(b,y.visualElement,d),b,g,y.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=C.forwardRef(a);return l[_ve]=i,l}function Fve({layoutId:t}){const e=C.useContext(uG).id;return e&&t!==void 0?e+"-"+t:t}function Bve(t,e){C.useContext(pG).strict}function Vve(t){const{drag:e,layout:n}=Of;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const zve=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function m$(t){return typeof t!="string"||t.includes("-")?!1:!!(zve.indexOf(t)>-1||/[A-Z]/u.test(t))}function W5(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function g$(t,e,n,r){if(typeof e=="function"){const[i,s]=W5(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=W5(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const vE=t=>Array.isArray(t),Uve=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),qve=t=>vE(t)?t[t.length-1]||0:t,oi=t=>!!(t&&t.getVelocity);function J0(t){const e=oi(t)?t.get():t;return Uve(e)?e.toValue():e}function Hve({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:Wve(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const bG=t=>(e,n)=>{const r=C.useContext(gw),i=C.useContext(l$),s=()=>Hve(t,e,r,i);return n?s():bve(s)};function Wve(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=J0(s[m]);let{initial:o,animate:a}=t;const l=vw(t),c=gG(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!yw(h)){const m=Array.isArray(h)?h:[h];for(let g=0;g<m.length;g++){const y=g$(t,m[g]);if(y){const{transitionEnd:b,transition:x,...S}=y;for(const N in S){let T=S[N];if(Array.isArray(T)){const j=d?T.length-1:0;T=T[j]}T!==null&&(i[N]=T)}for(const N in b)i[N]=b[N]}}}return i}const Ch=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yu=new Set(Ch),wG=t=>e=>typeof e=="string"&&e.startsWith(t),SG=wG("--"),Kve=wG("var(--"),y$=t=>Kve(t)?Gve.test(t.split("/*")[0].trim()):!1,Gve=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,CG=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ba=(t,e,n)=>n>e?e:n<t?t:n,Nh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Jm={...Nh,transform:t=>Ba(0,1,t)},x0={...Nh,default:1},Ey=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),kl=Ey("deg"),Lo=Ey("%"),it=Ey("px"),Qve=Ey("vh"),Yve=Ey("vw"),K5={...Lo,parse:t=>Lo.parse(t)/100,transform:t=>Lo.transform(t*100)},Xve={borderWidth:it,borderTopWidth:it,borderRightWidth:it,borderBottomWidth:it,borderLeftWidth:it,borderRadius:it,radius:it,borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomRightRadius:it,borderBottomLeftRadius:it,width:it,maxWidth:it,height:it,maxHeight:it,top:it,right:it,bottom:it,left:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,backgroundPositionX:it,backgroundPositionY:it},Zve={rotate:kl,rotateX:kl,rotateY:kl,rotateZ:kl,scale:x0,scaleX:x0,scaleY:x0,scaleZ:x0,skew:kl,skewX:kl,skewY:kl,distance:it,translateX:it,translateY:it,translateZ:it,x:it,y:it,z:it,perspective:it,transformPerspective:it,opacity:Jm,originX:K5,originY:K5,originZ:it},G5={...Nh,transform:Math.round},v$={...Xve,...Zve,zIndex:G5,size:it,fillOpacity:Jm,strokeOpacity:Jm,numOctaves:G5},Jve={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},e0e=Ch.length;function t0e(t,e,n){let r="",i=!0;for(let s=0;s<e0e;s++){const o=Ch[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=CG(a,v$[o]);if(!l){i=!1;const d=Jve[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function x$(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Yu.has(l)){o=!0;continue}else if(SG(l)){i[l]=c;continue}else{const d=CG(c,v$[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=t0e(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const n0e={offset:"stroke-dashoffset",array:"stroke-dasharray"},r0e={offset:"strokeDashoffset",array:"strokeDasharray"};function i0e(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?n0e:r0e;t[s.offset]=it.transform(-r);const o=it.transform(e),a=it.transform(n);t[s.array]=`${o} ${a}`}function Q5(t,e,n){return typeof t=="string"?t:it.transform(e+n*t)}function s0e(t,e,n){const r=Q5(e,t.x,t.width),i=Q5(n,t.y,t.height);return`${r} ${i}`}function b$(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(x$(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g,dimensions:y}=t;m.transform&&(y&&(g.transform=m.transform),delete m.transform),y&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=s0e(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&i0e(m,o,a,l,!1)}const w$=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),NG=()=>({...w$(),attrs:{}}),S$=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PG(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const TG=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AG(t,e,n,r){PG(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(TG.has(i)?i:h$(i),e.attrs[i])}const kx={};function o0e(t){Object.assign(kx,t)}function jG(t,{layout:e,layoutId:n}){return Yu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!kx[t]||t==="opacity")}function C$(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(oi(i[o])||e.style&&oi(e.style[o])||jG(o,t)||((r=n?.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function EG(t,e,n){const r=C$(t,e,n);for(const i in t)if(oi(t[i])||oi(e[i])){const s=Ch.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function a0e(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Y5=["x","y","width","height","cx","cy","r"],l0e={useVisualState:bG({scrapeMotionValuesFromProps:EG,createRenderState:NG,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(Yu.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<Y5.length;a++){const l=Y5[a];t[l]!==e[l]&&(o=!0)}o&&bn.read(()=>{a0e(n,r),bn.render(()=>{b$(r,i,S$(n.tagName),t.transformTemplate),AG(n,r)})})}})},c0e={useVisualState:bG({scrapeMotionValuesFromProps:C$,createRenderState:w$})};function kG(t,e,n){for(const r in e)!oi(e[r])&&!jG(r,n)&&(t[r]=e[r])}function u0e({transformTemplate:t},e){return C.useMemo(()=>{const n=w$();return x$(n,e,t),Object.assign({},n.vars,n.style)},[e])}function d0e(t,e){const n=t.style||{},r={};return kG(r,n,t),Object.assign(r,u0e(t,e)),r}function f0e(t,e){const n={},r=d0e(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function h0e(t,e,n,r){const i=C.useMemo(()=>{const s=NG();return b$(s,e,S$(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};kG(s,t.style,t),i.style={...s,...i.style}}return i}function p0e(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(m$(n)?h0e:f0e)(r,s,o,n),c=Eve(r,typeof n=="string",t),d=n!==C.Fragment?{...c,...l,ref:i}:{},{children:h}=r,m=C.useMemo(()=>oi(h)?h.get():h,[h]);return C.createElement(n,{...d,children:m})}}function m0e(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...m$(r)?l0e:c0e,preloadedFeatures:t,useRender:p0e(i),createVisualElement:e,Component:r};return Lve(o)}}function OG(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function xw(t,e,n){const r=t.getProps();return g$(r,e,n!==void 0?n:r.custom,t)}const g0e=u$(()=>window.ScrollTimeline!==void 0);class y0e{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(g0e()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class v0e extends y0e{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function N$(t,e){return t?t[e]||t.default||t:void 0}const xE=2e4;function $G(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<xE;)e+=n,r=t.next(e);return e>=xE?1/0:e}function P$(t){return typeof t=="function"}function X5(t,e){t.timeline=e,t.onfinish=null}const T$=t=>Array.isArray(t)&&typeof t[0]=="number",x0e={linearEasing:void 0};function b0e(t,e){const n=u$(t);return()=>{var r;return(r=x0e[e])!==null&&r!==void 0?r:n()}}const Ox=b0e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_G=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(kf(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function MG(t){return!!(typeof t=="function"&&Ox()||!t||typeof t=="string"&&(t in bE||Ox())||T$(t)||Array.isArray(t)&&t.every(MG))}const Kp=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,bE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kp([0,.65,.55,1]),circOut:Kp([.55,0,1,.45]),backIn:Kp([.31,.01,.66,-.59]),backOut:Kp([.33,1.53,.69,.99])};function IG(t,e){if(t)return typeof t=="function"&&Ox()?_G(t,e):T$(t)?Kp(t):Array.isArray(t)?t.map(n=>IG(n,e)||bE.easeOut):bE[t]}const Ks={x:!1,y:!1};function RG(){return Ks.x||Ks.y}function w0e(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function DG(t,e){const n=w0e(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Z5(t){return e=>{e.pointerType==="touch"||RG()||t(e)}}function S0e(t,e,n={}){const[r,i,s]=DG(t,n),o=Z5(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const d=Z5(h=>{c(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const LG=(t,e)=>e?t===e?!0:LG(t,e.parentElement):!1,A$=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,C0e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function N0e(t){return C0e.has(t.tagName)||t.tabIndex!==-1}const Gp=new WeakSet;function J5(t){return e=>{e.key==="Enter"&&t(e)}}function HC(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const P0e=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=J5(()=>{if(Gp.has(n))return;HC(n,"down");const i=J5(()=>{HC(n,"up")}),s=()=>HC(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function eD(t){return A$(t)&&!RG()}function T0e(t,e,n={}){const[r,i,s]=DG(t,n),o=a=>{const l=a.currentTarget;if(!eD(a)||Gp.has(l))return;Gp.add(l);const c=e(a),d=(g,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!eD(g)||!Gp.has(l))&&(Gp.delete(l),typeof c=="function"&&c(g,{success:y}))},h=g=>{d(g,n.useGlobalTarget||LG(l,g.target))},m=g=>{d(g,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return r.forEach(a=>{!N0e(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>P0e(c,i),i)}),s}function A0e(t){return t==="x"||t==="y"?Ks[t]?null:(Ks[t]=!0,()=>{Ks[t]=!1}):Ks.x||Ks.y?null:(Ks.x=Ks.y=!0,()=>{Ks.x=Ks.y=!1})}const FG=new Set(["width","height","top","left","right","bottom",...Ch]);let ex;function j0e(){ex=void 0}const Fo={now:()=>(ex===void 0&&Fo.set(Lr.isProcessing||Cve.useManualTiming?Lr.timestamp:performance.now()),ex),set:t=>{ex=t,queueMicrotask(j0e)}};function j$(t,e){t.indexOf(e)===-1&&t.push(e)}function E$(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class k${constructor(){this.subscriptions=[]}add(e){return j$(this.subscriptions,e),()=>E$(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function BG(t,e){return e?t*(1e3/e):0}const tD=30,E0e=t=>!isNaN(parseFloat(t));class k0e{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Fo.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Fo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=E0e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new k$);const r=this.events[e].add(n);return e==="change"?()=>{r(),bn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Fo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>tD)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tD);return BG(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eg(t,e){return new k0e(t,e)}function O0e(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,eg(n))}function $0e(t,e){const n=xw(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=qve(s[o]);O0e(t,o,a)}}function _0e(t){return!!(oi(t)&&t.add)}function wE(t,e){const n=t.getValue("willChange");if(_0e(n))return n.add(e)}function VG(t){return t.props[yG]}const zG=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,M0e=1e-7,I0e=12;function R0e(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=zG(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>M0e&&++a<I0e);return o}function ky(t,e,n,r){if(t===e&&n===r)return rs;const i=s=>R0e(s,0,1,t,n);return s=>s===0||s===1?s:zG(i(s),e,r)}const UG=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,qG=t=>e=>1-t(1-e),HG=ky(.33,1.53,.69,.99),O$=qG(HG),WG=UG(O$),KG=t=>(t*=2)<1?.5*O$(t):.5*(2-Math.pow(2,-10*(t-1))),$$=t=>1-Math.sin(Math.acos(t)),GG=qG($$),QG=UG($$),YG=t=>/^0[^.\s]+$/u.test(t);function D0e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||YG(t):!0}const om=t=>Math.round(t*1e5)/1e5,_$=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function L0e(t){return t==null}const F0e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,M$=(t,e)=>n=>!!(typeof n=="string"&&F0e.test(n)&&n.startsWith(t)||e&&!L0e(n)&&Object.prototype.hasOwnProperty.call(n,e)),XG=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(_$);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},B0e=t=>Ba(0,255,t),WC={...Nh,transform:t=>Math.round(B0e(t))},eu={test:M$("rgb","red"),parse:XG("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+WC.transform(t)+", "+WC.transform(e)+", "+WC.transform(n)+", "+om(Jm.transform(r))+")"};function V0e(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const SE={test:M$("#"),parse:V0e,transform:eu.transform},Yd={test:M$("hsl","hue"),parse:XG("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Lo.transform(om(e))+", "+Lo.transform(om(n))+", "+om(Jm.transform(r))+")"},Xr={test:t=>eu.test(t)||SE.test(t)||Yd.test(t),parse:t=>eu.test(t)?eu.parse(t):Yd.test(t)?Yd.parse(t):SE.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?eu.transform(t):Yd.transform(t)},z0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function U0e(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(_$))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(z0e))===null||n===void 0?void 0:n.length)||0)>0}const ZG="number",JG="color",q0e="var",H0e="var(",nD="${}",W0e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(W0e,l=>(Xr.test(l)?(r.color.push(s),i.push(JG),n.push(Xr.parse(l))):l.startsWith(H0e)?(r.var.push(s),i.push(q0e),n.push(l)):(r.number.push(s),i.push(ZG),n.push(parseFloat(l))),++s,nD)).split(nD);return{values:n,split:a,indexes:r,types:i}}function eQ(t){return tg(t).values}function tQ(t){const{split:e,types:n}=tg(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===ZG?s+=om(i[o]):a===JG?s+=Xr.transform(i[o]):s+=i[o]}return s}}const K0e=t=>typeof t=="number"?0:t;function G0e(t){const e=eQ(t);return tQ(t)(e.map(K0e))}const fc={test:U0e,parse:eQ,createTransformer:tQ,getAnimatableNone:G0e},Q0e=new Set(["brightness","contrast","saturate","opacity"]);function Y0e(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_$)||[];if(!r)return t;const i=n.replace(r,"");let s=Q0e.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const X0e=/\b([a-z-]*)\(.*?\)/gu,CE={...fc,getAnimatableNone:t=>{const e=t.match(X0e);return e?e.map(Y0e).join(" "):t}},Z0e={...v$,color:Xr,backgroundColor:Xr,outlineColor:Xr,fill:Xr,stroke:Xr,borderColor:Xr,borderTopColor:Xr,borderRightColor:Xr,borderBottomColor:Xr,borderLeftColor:Xr,filter:CE,WebkitFilter:CE},I$=t=>Z0e[t];function nQ(t,e){let n=I$(t);return n!==CE&&(n=fc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const J0e=new Set(["auto","none","0"]);function exe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!J0e.has(s)&&tg(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=nQ(n,i)}const rD=t=>t===Nh||t===it,iD=(t,e)=>parseFloat(t.split(", ")[e]),sD=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return iD(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?iD(s[1],t):0}},txe=new Set(["x","y","z"]),nxe=Ch.filter(t=>!txe.has(t));function rxe(t){const e=[];return nxe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const $f={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:sD(4,13),y:sD(5,14)};$f.translateX=$f.x;$f.translateY=$f.y;const fu=new Set;let NE=!1,PE=!1;function rQ(){if(PE){const t=Array.from(fu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=rxe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}PE=!1,NE=!1,fu.forEach(t=>t.complete()),fu.clear()}function iQ(){fu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(PE=!0)})}function ixe(){iQ(),rQ()}class R${constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(fu.add(this),NE||(NE=!0,bn.read(iQ),bn.resolveKeyframes(rQ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i?.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),fu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,fu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sQ=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),sxe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oxe(t){const e=sxe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function oQ(t,e,n=1){const[r,i]=oxe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return sQ(o)?parseFloat(o):o}return y$(i)?oQ(i,e,n+1):i}const aQ=t=>e=>e.test(t),axe={test:t=>t==="auto",parse:t=>t},lQ=[Nh,it,Lo,kl,Yve,Qve,axe],oD=t=>lQ.find(aQ(t));class cQ extends R${constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),y$(c))){const d=oQ(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!FG.has(r)||e.length!==2)return;const[i,s]=e,o=oD(i),a=oD(s);if(o!==a)if(rD(o)&&rD(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)D0e(e[i])&&r.push(i);r.length&&exe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$f[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=$f[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const aD=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fc.test(t)||t==="0")&&!t.startsWith("url("));function lxe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function cxe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=aD(i,e),a=aD(s,e);return!o||!a?!1:lxe(t)||(n==="spring"||P$(n))&&r}const uxe=t=>t!==null;function bw(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(uxe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const dxe=40;class uQ{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Fo.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>dxe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ixe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Fo.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!cxe(e,r,i,s))if(o)this.options.duration=0;else{l&&l(bw(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const kn=(t,e,n)=>t+(e-t)*n;function KC(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function fxe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=KC(l,a,t+1/3),s=KC(l,a,t),o=KC(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function $x(t,e){return n=>n>0?e:t}const GC=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},hxe=[SE,eu,Yd],pxe=t=>hxe.find(e=>e.test(t));function lD(t){const e=pxe(t);if(!e)return!1;let n=e.parse(t);return e===Yd&&(n=fxe(n)),n}const cD=(t,e)=>{const n=lD(t),r=lD(e);if(!n||!r)return $x(t,e);const i={...n};return s=>(i.red=GC(n.red,r.red,s),i.green=GC(n.green,r.green,s),i.blue=GC(n.blue,r.blue,s),i.alpha=kn(n.alpha,r.alpha,s),eu.transform(i))},mxe=(t,e)=>n=>e(t(n)),Oy=(...t)=>t.reduce(mxe),TE=new Set(["none","hidden"]);function gxe(t,e){return TE.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function yxe(t,e){return n=>kn(t,e,n)}function D$(t){return typeof t=="number"?yxe:typeof t=="string"?y$(t)?$x:Xr.test(t)?cD:bxe:Array.isArray(t)?dQ:typeof t=="object"?Xr.test(t)?cD:vxe:$x}function dQ(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>D$(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function vxe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=D$(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function xxe(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const bxe=(t,e)=>{const n=fc.createTransformer(e),r=tg(t),i=tg(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?TE.has(t)&&!i.values.length||TE.has(e)&&!r.values.length?gxe(t,e):Oy(dQ(xxe(r,i),i.values),n):$x(t,e)};function fQ(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?kn(t,e,n):D$(t)(t,e)}const wxe=5;function hQ(t,e,n){const r=Math.max(e-wxe,0);return BG(n-t(r),e-r)}const Rn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},QC=.001;function Sxe({duration:t=Rn.duration,bounce:e=Rn.bounce,velocity:n=Rn.velocity,mass:r=Rn.mass}){let i,s,o=1-e;o=Ba(Rn.minDamping,Rn.maxDamping,o),t=Ba(Rn.minDuration,Rn.maxDuration,Ta(t)),o<1?(i=c=>{const d=c*o,h=d*t,m=d-n,g=AE(c,o),y=Math.exp(-h);return QC-m/g*y},s=c=>{const h=c*o*t,m=h*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,y=Math.exp(-h),b=AE(Math.pow(c,2),o);return(-i(c)+QC>0?-1:1)*((m-g)*y)/b}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-QC+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=Nxe(i,s,a);if(t=Pa(t),isNaN(l))return{stiffness:Rn.stiffness,damping:Rn.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Cxe=12;function Nxe(t,e,n){let r=n;for(let i=1;i<Cxe;i++)r=r-t(r)/e(r);return r}function AE(t,e){return t*Math.sqrt(1-e*e)}const Pxe=["duration","bounce"],Txe=["stiffness","damping","mass"];function uD(t,e){return e.some(n=>t[n]!==void 0)}function Axe(t){let e={velocity:Rn.velocity,stiffness:Rn.stiffness,damping:Rn.damping,mass:Rn.mass,isResolvedFromDuration:!1,...t};if(!uD(t,Txe)&&uD(t,Pxe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Ba(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Rn.mass,stiffness:i,damping:s}}else{const n=Sxe(t);e={...e,...n,mass:Rn.mass},e.isResolvedFromDuration=!0}return e}function pQ(t=Rn.visualDuration,e=Rn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:m,isResolvedFromDuration:g}=Axe({...n,velocity:-Ta(n.velocity||0)}),y=m||0,b=c/(2*Math.sqrt(l*d)),x=o-s,S=Ta(Math.sqrt(l/d)),N=Math.abs(x)<5;r||(r=N?Rn.restSpeed.granular:Rn.restSpeed.default),i||(i=N?Rn.restDelta.granular:Rn.restDelta.default);let T;if(b<1){const P=AE(S,b);T=E=>{const O=Math.exp(-b*S*E);return o-O*((y+b*S*x)/P*Math.sin(P*E)+x*Math.cos(P*E))}}else if(b===1)T=P=>o-Math.exp(-S*P)*(x+(y+S*x)*P);else{const P=S*Math.sqrt(b*b-1);T=E=>{const O=Math.exp(-b*S*E),_=Math.min(P*E,300);return o-O*((y+b*S*x)*Math.sinh(_)+P*x*Math.cosh(_))/P}}const j={calculatedDuration:g&&h||null,next:P=>{const E=T(P);if(g)a.done=P>=h;else{let O=0;b<1&&(O=P===0?Pa(y):hQ(T,P,E));const _=Math.abs(O)<=r,$=Math.abs(o-E)<=i;a.done=_&&$}return a.value=a.done?o:E,a},toString:()=>{const P=Math.min($G(j),xE),E=_G(O=>j.next(P*O).value,P,30);return P+"ms "+E}};return j}function dD({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],m={done:!1,value:h},g=_=>a!==void 0&&_<a||l!==void 0&&_>l,y=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let b=n*e;const x=h+b,S=o===void 0?x:o(x);S!==x&&(b=S-h);const N=_=>-b*Math.exp(-_/r),T=_=>S+N(_),j=_=>{const $=N(_),B=T(_);m.done=Math.abs($)<=c,m.value=m.done?S:B};let P,E;const O=_=>{g(m.value)&&(P=_,E=pQ({keyframes:[m.value,y(m.value)],velocity:hQ(T,_,m.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return O(0),{calculatedDuration:null,next:_=>{let $=!1;return!E&&P===void 0&&($=!0,j(_),O(_)),P!==void 0&&_>=P?E.next(_-P):(!$&&j(_),m)}}}const jxe=ky(.42,0,1,1),Exe=ky(0,0,.58,1),mQ=ky(.42,0,.58,1),kxe=t=>Array.isArray(t)&&typeof t[0]!="number",Oxe={linear:rs,easeIn:jxe,easeInOut:mQ,easeOut:Exe,circIn:$$,circInOut:QG,circOut:GG,backIn:O$,backInOut:WG,backOut:HG,anticipate:KG},fD=t=>{if(T$(t)){fG(t.length===4);const[e,n,r,i]=t;return ky(e,n,r,i)}else if(typeof t=="string")return Oxe[t];return t};function $xe(t,e,n){const r=[],i=n||fQ,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||rs:e;a=Oy(l,a)}r.push(a)}return r}function _xe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(fG(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=$xe(e,r,i),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const m=kf(t[h],t[h+1],d);return a[h](m)};return n?d=>c(Ba(t[0],t[s-1],d)):c}function Mxe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=kf(0,e,r);t.push(kn(n,1,i))}}function Ixe(t){const e=[0];return Mxe(e,t.length-1),e}function Rxe(t,e){return t.map(n=>n*e)}function Dxe(t,e){return t.map(()=>e||mQ).splice(0,t.length-1)}function _x({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=kxe(r)?r.map(fD):fD(r),s={done:!1,value:e[0]},o=Rxe(n&&n.length===e.length?n:Ixe(e),t),a=_xe(o,e,{ease:Array.isArray(i)?i:Dxe(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const Lxe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>bn.update(e,!0),stop:()=>dc(e),now:()=>Lr.isProcessing?Lr.timestamp:Fo.now()}},Fxe={decay:dD,inertia:dD,tween:_x,keyframes:_x,spring:pQ},Bxe=t=>t/100;class L$ extends uQ{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=i?.KeyframeResolver||R$,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=P$(n)?n:Fxe[n]||_x;let l,c;a!==_x&&typeof e[0]!="number"&&(l=Oy(Bxe,fQ(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=$G(d));const{calculatedDuration:h}=d,m=h+i,g=m*(r+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:m,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:m,repeat:g,repeatType:y,repeatDelay:b,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const S=this.currentTime-m*(this.speed>=0?1:-1),N=this.speed>=0?S<0:S>d;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let T=this.currentTime,j=s;if(g){const _=Math.min(this.currentTime,d)/h;let $=Math.floor(_),B=_%1;!B&&_>=1&&(B=1),B===1&&$--,$=Math.min($,g+1),$%2&&(y==="reverse"?(B=1-B,b&&(B-=b/h)):y==="mirror"&&(j=o)),T=Ba(0,1,B)*h}const P=N?{done:!1,value:l[0]}:j.next(T);a&&(P.value=a(P.value));let{done:E}=P;!N&&c!==null&&(E=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return O&&i!==void 0&&(P.value=bw(l,this.options,i)),x&&x(P.value),O&&this.finish(),P}get duration(){const{resolved:e}=this;return e?Ta(e.calculatedDuration):0}get time(){return Ta(this.currentTime)}set time(e){e=Pa(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ta(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Lxe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Vxe=new Set(["opacity","clipPath","filter","transform"]);function zxe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=IG(a,i);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Uxe=u$(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Mx=10,qxe=2e4;function Hxe(t){return P$(t.type)||t.type==="spring"||!MG(t.ease)}function Wxe(t,e){const n=new L$({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<qxe;)r=n.sample(s),i.push(r.value),s+=Mx;return{times:void 0,keyframes:i,duration:s-Mx,ease:"linear"}}const gQ={anticipate:KG,backInOut:WG,circInOut:QG};function Kxe(t){return t in gQ}class hD extends uQ{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new cQ(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Ox()&&Kxe(s)&&(s=gQ[s]),Hxe(this.options)){const{onComplete:h,onUpdate:m,motionValue:g,element:y,...b}=this.options,x=Wxe(e,b);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,i=x.times,s=x.ease,o="keyframes"}const d=zxe(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(X5(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(bw(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ta(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ta(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Pa(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return rs;const{animation:r}=n;X5(r,e)}return rs}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:m,...g}=this.options,y=new L$({...g,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),b=Pa(this.time);c.setWithVelocity(y.sample(b-Mx).value,y.sample(b).value,Mx)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Uxe()&&r&&Vxe.has(r)&&!l&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Gxe={type:"spring",stiffness:500,damping:25,restSpeed:10},Qxe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Yxe={type:"keyframes",duration:.8},Xxe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Zxe=(t,{keyframes:e})=>e.length>2?Yxe:Yu.has(t)?t.startsWith("scale")?Qxe(e[1]):Gxe:Xxe;function Jxe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const F$=(t,e,n,r={},i,s)=>o=>{const a=N$(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Pa(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Jxe(a)||(d={...d,...Zxe(t,d)}),d.duration&&(d.duration=Pa(d.duration)),d.repeatDelay&&(d.repeatDelay=Pa(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const m=bw(d.keyframes,a);if(m!==void 0)return bn.update(()=>{d.onUpdate(m),d.onComplete()}),new v0e([])}return!s&&hD.supports(d)?new hD(d):new L$(d)};function e1e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function yQ(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const m=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),g=l[h];if(g===void 0||d&&e1e(d,h))continue;const y={delay:n,...N$(o||{},h)};let b=!1;if(window.MotionHandoffAnimation){const S=VG(t);if(S){const N=window.MotionHandoffAnimation(S,h,bn);N!==null&&(y.startTime=N,b=!0)}}wE(t,h),m.start(F$(h,m,g,t.shouldReduceMotion&&FG.has(h)?{type:!1}:y,t,b));const x=m.animation;x&&c.push(x)}return a&&Promise.all(c).then(()=>{bn.update(()=>{a&&$0e(t,a)})}),c}function jE(t,e,n={}){var r;const i=xw(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(yQ(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=s;return t1e(t,e,d+c,h,m,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function t1e(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(n1e).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(jE(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function n1e(t,e){return t.sortNodePosition(e)}function r1e(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>jE(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=jE(t,e,n);else{const i=typeof e=="function"?xw(t,e,n.custom):e;r=Promise.all(yQ(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const i1e=f$.length;function vQ(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?vQ(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<i1e;n++){const r=f$[n],i=t.props[r];(Zm(i)||i===!1)&&(e[r]=i)}return e}const s1e=[...d$].reverse(),o1e=d$.length;function a1e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>r1e(t,n,r)))}function l1e(t){let e=a1e(t),n=pD(),r=!0;const i=l=>(c,d)=>{var h;const m=xw(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:g,transitionEnd:y,...b}=m;c={...c,...b,...y}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=vQ(t.parent)||{},h=[],m=new Set;let g={},y=1/0;for(let x=0;x<o1e;x++){const S=s1e[x],N=n[S],T=c[S]!==void 0?c[S]:d[S],j=Zm(T),P=S===l?N.isActive:null;P===!1&&(y=x);let E=T===d[S]&&T!==c[S]&&j;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),N.protectedKeys={...g},!N.isActive&&P===null||!T&&!N.prevProp||yw(T)||typeof T=="boolean")continue;const O=c1e(N.prevProp,T);let _=O||S===l&&N.isActive&&!E&&j||x>y&&j,$=!1;const B=Array.isArray(T)?T:[T];let I=B.reduce(i(S),{});P===!1&&(I={});const{prevResolvedValues:V={}}=N,U={...V,...I},L=q=>{_=!0,m.has(q)&&($=!0,m.delete(q)),N.needsAnimating[q]=!0;const M=t.getValue(q);M&&(M.liveStyle=!1)};for(const q in U){const M=I[q],D=V[q];if(g.hasOwnProperty(q))continue;let Q=!1;vE(M)&&vE(D)?Q=!OG(M,D):Q=M!==D,Q?M!=null?L(q):m.add(q):M!==void 0&&m.has(q)?L(q):N.protectedKeys[q]=!0}N.prevProp=T,N.prevResolvedValues=I,N.isActive&&(g={...g,...I}),r&&t.blockInitialAnimation&&(_=!1),_&&(!(E&&O)||$)&&h.push(...B.map(q=>({animation:q,options:{type:S}})))}if(m.size){const x={};m.forEach(S=>{const N=t.getBaseTarget(S),T=t.getValue(S);T&&(T.liveStyle=!0),x[S]=N??null}),h.push({animation:x})}let b=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=pD(),r=!0}}}function c1e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!OG(e,t):!1}function qc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pD(){return{animate:qc(!0),whileInView:qc(),whileHover:qc(),whileTap:qc(),whileDrag:qc(),whileFocus:qc(),exit:qc()}}class yc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class u1e extends yc{constructor(e){super(e),e.animationState||(e.animationState=l1e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let d1e=0;class f1e extends yc{constructor(){super(...arguments),this.id=d1e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const h1e={animation:{Feature:u1e},exit:{Feature:f1e}};function ng(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function $y(t){return{point:{x:t.pageX,y:t.pageY}}}const p1e=t=>e=>A$(e)&&t(e,$y(e));function am(t,e,n,r){return ng(t,e,p1e(n),r)}const mD=(t,e)=>Math.abs(t-e);function m1e(t,e){const n=mD(t.x,e.x),r=mD(t.y,e.y);return Math.sqrt(n**2+r**2)}class xQ{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=XC(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=m1e(h.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:y}=h,{timestamp:b}=Lr;this.history.push({...y,timestamp:b});const{onStart:x,onMove:S}=this.handlers;m||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=YC(m,this.transformPagePoint),bn.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=XC(h.type==="pointercancel"?this.lastMoveEventInfo:YC(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,x),y&&y(h,x)},!A$(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=$y(e),a=YC(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Lr;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,XC(a,this.history)),this.removeListeners=Oy(am(this.contextWindow,"pointermove",this.handlePointerMove),am(this.contextWindow,"pointerup",this.handlePointerUp),am(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),dc(this.updatePoint)}}function YC(t,e){return e?{point:e(t.point)}:t}function gD(t,e){return{x:t.x-e.x,y:t.y-e.y}}function XC({point:t},e){return{point:t,delta:gD(t,bQ(e)),offset:gD(t,g1e(e)),velocity:y1e(e,.1)}}function g1e(t){return t[0]}function bQ(t){return t[t.length-1]}function y1e(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=bQ(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Pa(e)));)n--;if(!r)return{x:0,y:0};const s=Ta(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const wQ=1e-4,v1e=1-wQ,x1e=1+wQ,SQ=.01,b1e=0-SQ,w1e=0+SQ;function as(t){return t.max-t.min}function S1e(t,e,n){return Math.abs(t-e)<=n}function yD(t,e,n,r=.5){t.origin=r,t.originPoint=kn(e.min,e.max,t.origin),t.scale=as(n)/as(e),t.translate=kn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=v1e&&t.scale<=x1e||isNaN(t.scale))&&(t.scale=1),(t.translate>=b1e&&t.translate<=w1e||isNaN(t.translate))&&(t.translate=0)}function lm(t,e,n,r){yD(t.x,e.x,n.x,r?r.originX:void 0),yD(t.y,e.y,n.y,r?r.originY:void 0)}function vD(t,e,n){t.min=n.min+e.min,t.max=t.min+as(e)}function C1e(t,e,n){vD(t.x,e.x,n.x),vD(t.y,e.y,n.y)}function xD(t,e,n){t.min=e.min-n.min,t.max=t.min+as(e)}function cm(t,e,n){xD(t.x,e.x,n.x),xD(t.y,e.y,n.y)}function N1e(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?kn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?kn(n,t,r.max):Math.min(t,n)),t}function bD(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function P1e(t,{top:e,left:n,bottom:r,right:i}){return{x:bD(t.x,n,i),y:bD(t.y,e,r)}}function wD(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function T1e(t,e){return{x:wD(t.x,e.x),y:wD(t.y,e.y)}}function A1e(t,e){let n=.5;const r=as(t),i=as(e);return i>r?n=kf(e.min,e.max-r,t.min):r>i&&(n=kf(t.min,t.max-i,e.min)),Ba(0,1,n)}function j1e(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const EE=.35;function E1e(t=EE){return t===!1?t=0:t===!0&&(t=EE),{x:SD(t,"left","right"),y:SD(t,"top","bottom")}}function SD(t,e,n){return{min:CD(t,e),max:CD(t,n)}}function CD(t,e){return typeof t=="number"?t:t[e]||0}const ND=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xd=()=>({x:ND(),y:ND()}),PD=()=>({min:0,max:0}),Vn=()=>({x:PD(),y:PD()});function Ss(t){return[t("x"),t("y")]}function CQ({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function k1e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function O1e(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ZC(t){return t===void 0||t===1}function kE({scale:t,scaleX:e,scaleY:n}){return!ZC(t)||!ZC(e)||!ZC(n)}function Kc(t){return kE(t)||NQ(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function NQ(t){return TD(t.x)||TD(t.y)}function TD(t){return t&&t!=="0%"}function Ix(t,e,n){const r=t-n,i=e*r;return n+i}function AD(t,e,n,r,i){return i!==void 0&&(t=Ix(t,i,r)),Ix(t,n,r)+e}function OE(t,e=0,n=1,r,i){t.min=AD(t.min,e,n,r,i),t.max=AD(t.max,e,n,r,i)}function PQ(t,{x:e,y:n}){OE(t.x,e.translate,e.scale,e.originPoint),OE(t.y,n.translate,n.scale,n.originPoint)}const jD=.999999999999,ED=1.0000000000001;function $1e(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Jd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,PQ(t,o)),r&&Kc(s.latestValues)&&Jd(t,s.latestValues))}e.x<ED&&e.x>jD&&(e.x=1),e.y<ED&&e.y>jD&&(e.y=1)}function Zd(t,e){t.min=t.min+e,t.max=t.max+e}function kD(t,e,n,r,i=.5){const s=kn(t.min,t.max,i);OE(t,e,n,s,r)}function Jd(t,e){kD(t.x,e.x,e.scaleX,e.scale,e.originX),kD(t.y,e.y,e.scaleY,e.scale,e.originY)}function TQ(t,e){return CQ(O1e(t.getBoundingClientRect(),e))}function _1e(t,e,n){const r=TQ(t,n),{scroll:i}=e;return i&&(Zd(r.x,i.offset.x),Zd(r.y,i.offset.y)),r}const AQ=({current:t})=>t?t.ownerDocument.defaultView:null,M1e=new WeakMap;class I1e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($y(d).point)},s=(d,h)=>{const{drag:m,dragPropagation:g,onDragStart:y}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=A0e(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ss(x=>{let S=this.getAxisMotionValue(x).get()||0;if(Lo.test(S)){const{projection:N}=this.visualElement;if(N&&N.layout){const T=N.layout.layoutBox[x];T&&(S=as(T)*(parseFloat(S)/100))}}this.originPoint[x]=S}),y&&bn.postRender(()=>y(d,h)),wE(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:y,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:x}=h;if(g&&this.currentDirection===null){this.currentDirection=R1e(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),b&&b(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Ss(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new xQ(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:AQ(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&bn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!b0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=N1e(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Qd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=P1e(i.layoutBox,n):this.constraints=!1,this.elastic=E1e(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ss(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=j1e(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=_1e(r,i.root,this.visualElement.getTransformPagePoint());let o=T1e(i.layout.layoutBox,s);if(n){const a=n(k1e(o));this.hasMutatedConstraints=!!a,a&&(o=CQ(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ss(d=>{if(!b0(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return wE(this.visualElement,e),r.start(F$(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ss(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ss(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ss(n=>{const{drag:r}=this.getProps();if(!b0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-kn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ss(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=A1e({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ss(o=>{if(!b0(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(kn(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;M1e.set(this.visualElement,this);const e=this.visualElement.current,n=am(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Qd(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),bn.read(r);const o=ng(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ss(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=EE,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function b0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function R1e(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class D1e extends yc{constructor(e){super(e),this.removeGroupControls=rs,this.removeListeners=rs,this.controls=new I1e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rs}unmount(){this.removeGroupControls(),this.removeListeners()}}const OD=t=>(e,n)=>{t&&bn.postRender(()=>t(e,n))};class L1e extends yc{constructor(){super(...arguments),this.removePointerDownListener=rs}onPointerDown(e){this.session=new xQ(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AQ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:OD(e),onStart:OD(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&bn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=am(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $D(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const kp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(it.test(t))t=parseFloat(t);else return t;const n=$D(t,e.target.x),r=$D(t,e.target.y);return`${n}% ${r}%`}},F1e={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=fc.parse(t);if(i.length>5)return r;const s=fc.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=kn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class B1e extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;o0e(V1e),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),tx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||bn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),p$.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jQ(t){const[e,n]=wve(),r=C.useContext(uG);return u.jsx(B1e,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(vG),isPresent:e,safeToRemove:n})}const V1e={borderRadius:{...kp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kp,borderTopRightRadius:kp,borderBottomLeftRadius:kp,borderBottomRightRadius:kp,boxShadow:F1e};function z1e(t,e,n){const r=oi(t)?t:eg(t);return r.start(F$("",r,e,n)),r.animation}function U1e(t){return t instanceof SVGElement&&t.tagName!=="svg"}const q1e=(t,e)=>t.depth-e.depth;class H1e{constructor(){this.children=[],this.isDirty=!1}add(e){j$(this.children,e),this.isDirty=!0}remove(e){E$(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(q1e),this.isDirty=!1,this.children.forEach(e)}}function W1e(t,e){const n=Fo.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(dc(r),t(s-e))};return bn.read(r,!0),()=>dc(r)}const EQ=["TopLeft","TopRight","BottomLeft","BottomRight"],K1e=EQ.length,_D=t=>typeof t=="string"?parseFloat(t):t,MD=t=>typeof t=="number"||it.test(t);function G1e(t,e,n,r,i,s){i?(t.opacity=kn(0,n.opacity!==void 0?n.opacity:1,Q1e(r)),t.opacityExit=kn(e.opacity!==void 0?e.opacity:1,0,Y1e(r))):s&&(t.opacity=kn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<K1e;o++){const a=`border${EQ[o]}Radius`;let l=ID(e,a),c=ID(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||MD(l)===MD(c)?(t[a]=Math.max(kn(_D(l),_D(c),r),0),(Lo.test(c)||Lo.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=kn(e.rotate||0,n.rotate||0,r))}function ID(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Q1e=kQ(0,.5,GG),Y1e=kQ(.5,.95,rs);function kQ(t,e,n){return r=>r<t?0:r>e?1:n(kf(t,e,r))}function RD(t,e){t.min=e.min,t.max=e.max}function ys(t,e){RD(t.x,e.x),RD(t.y,e.y)}function DD(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function LD(t,e,n,r,i){return t-=e,t=Ix(t,1/n,r),i!==void 0&&(t=Ix(t,1/i,r)),t}function X1e(t,e=0,n=1,r=.5,i,s=t,o=t){if(Lo.test(e)&&(e=parseFloat(e),e=kn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=kn(s.min,s.max,r);t===s&&(a-=e),t.min=LD(t.min,e,n,a,i),t.max=LD(t.max,e,n,a,i)}function FD(t,e,[n,r,i],s,o){X1e(t,e[n],e[r],e[i],e.scale,s,o)}const Z1e=["x","scaleX","originX"],J1e=["y","scaleY","originY"];function BD(t,e,n,r){FD(t.x,e,Z1e,n?n.x:void 0,r?r.x:void 0),FD(t.y,e,J1e,n?n.y:void 0,r?r.y:void 0)}function VD(t){return t.translate===0&&t.scale===1}function OQ(t){return VD(t.x)&&VD(t.y)}function zD(t,e){return t.min===e.min&&t.max===e.max}function ebe(t,e){return zD(t.x,e.x)&&zD(t.y,e.y)}function UD(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $Q(t,e){return UD(t.x,e.x)&&UD(t.y,e.y)}function qD(t){return as(t.x)/as(t.y)}function HD(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class tbe{constructor(){this.members=[]}add(e){j$(this.members,e),e.scheduleRender()}remove(e){if(E$(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nbe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:m,skewX:g,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),g&&(r+=`skewX(${g}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Gc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Qp=typeof window<"u"&&window.MotionDebug!==void 0,JC=["","X","Y","Z"],rbe={visibility:"hidden"},WD=1e3;let ibe=0;function eN(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function _Q(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=VG(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",bn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&_Q(r)}function MQ({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e?.()){this.id=ibe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Qp&&(Gc.totalNodes=Gc.resolvedTargetDeltas=Gc.recalculatedProjection=0),this.nodes.forEach(abe),this.nodes.forEach(fbe),this.nodes.forEach(hbe),this.nodes.forEach(lbe),Qp&&window.MotionDebug.record(Gc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new H1e)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new k$),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=U1e(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=W1e(m,250),tx.hasAnimatedSinceResize&&(tx.hasAnimatedSinceResize=!1,this.nodes.forEach(GD))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||vbe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:S}=d.getProps(),N=!this.targetLayout||!$Q(this.targetLayout,y)||g,T=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const j={...N$(b,"layout"),onPlay:x,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||GD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,dc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pbe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_Q(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(KD);return}this.isUpdating||this.nodes.forEach(ube),this.isUpdating=!1,this.nodes.forEach(dbe),this.nodes.forEach(sbe),this.nodes.forEach(obe),this.clearAllSnapshots();const a=Fo.now();Lr.delta=Ba(0,1e3/60,a-Lr.timestamp),Lr.timestamp=a,Lr.isProcessing=!0,qC.update.process(Lr),qC.preRender.process(Lr),qC.render.process(Lr),Lr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,p$.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cbe),this.sharedNodes.forEach(mbe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!OQ(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Kc(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),xbe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Vn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(bbe))){const{scroll:d}=this.root;d&&(Zd(l.x,d.offset.x),Zd(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Vn();if(ys(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&ys(l,o),Zd(l.x,h.offset.x),Zd(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Vn();ys(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Jd(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Kc(d.latestValues)&&Jd(l,d.latestValues)}return Kc(this.latestValues)&&Jd(l,this.latestValues),l}removeTransform(o){const a=Vn();ys(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Kc(c.latestValues))continue;kE(c.latestValues)&&c.updateSnapshot();const d=Vn(),h=c.measurePageBox();ys(d,h),BD(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Kc(this.latestValues)&&BD(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Lr.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vn(),this.relativeTargetOrigin=Vn(),cm(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Vn(),this.targetWithTransforms=Vn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C1e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ys(this.target,this.layout.layoutBox),PQ(this.target,this.targetDelta)):ys(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vn(),this.relativeTargetOrigin=Vn(),cm(this.relativeTargetOrigin,this.target,g.target),ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Qp&&Gc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||kE(this.parent.latestValues)||NQ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Lr.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ys(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;$1e(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Vn());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(DD(this.prevProjectionDelta.x,this.projectionDelta.x),DD(this.prevProjectionDelta.y,this.projectionDelta.y)),lm(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!HD(this.projectionDelta.x,this.prevProjectionDelta.x)||!HD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Qp&&Gc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xd(),this.projectionDelta=Xd(),this.projectionDeltaWithTransform=Xd()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Xd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Vn(),g=l?l.source:void 0,y=this.layout?this.layout.source:void 0,b=g!==y,x=this.getStack(),S=!x||x.members.length<=1,N=!!(b&&!S&&this.options.crossfade===!0&&!this.path.some(ybe));this.animationProgress=0;let T;this.mixTargetDelta=j=>{const P=j/1e3;QD(h.x,o.x,P),QD(h.y,o.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cm(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gbe(this.relativeTarget,this.relativeTargetOrigin,m,P),T&&ebe(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Vn()),ys(T,this.relativeTarget)),b&&(this.animationValues=d,G1e(d,c,this.latestValues,P,N,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(dc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bn.update(()=>{tx.hasAnimatedSinceResize=!0,this.currentAnimation=z1e(0,WD,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&IQ(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Vn();const h=as(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const m=as(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}ys(a,l),Jd(a,d),lm(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new tbe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&eN("z",o,c,this.animationValues);for(let d=0;d<JC.length;d++)eN(`rotate${JC[d]}`,o,c,this.animationValues),eN(`skew${JC[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return rbe;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=J0(o?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=J0(o?.pointerEvents)||""),this.hasProjected&&!Kc(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=nbe(this.projectionDeltaWithTransform,this.treeScale,m),d&&(c.transform=d(m,c.transform));const{x:g,y}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in kx){if(m[b]===void 0)continue;const{correct:x,applyTo:S}=kx[b],N=c.transform==="none"?m[b]:x(m[b],h);if(S){const T=S.length;for(let j=0;j<T;j++)c[S[j]]=N}else c[b]=N}return this.options.layoutId&&(c.pointerEvents=h===this?J0(o?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(KD),this.root.sharedNodes.clear()}}}function sbe(t){t.updateLayout()}function obe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Ss(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],g=as(m);m.min=r[h].min,m.max=m.min+g}):IQ(s,n.layoutBox,r)&&Ss(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],g=as(r[h]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=Xd();lm(a,r,n.layoutBox);const l=Xd();o?lm(l,t.applyTransform(i,!0),n.measuredBox):lm(l,r,n.layoutBox);const c=!OQ(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:g}=h;if(m&&g){const y=Vn();cm(y,n.layoutBox,m.layoutBox);const b=Vn();cm(b,r,g.layoutBox),$Q(y,b)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function abe(t){Qp&&Gc.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lbe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cbe(t){t.clearSnapshot()}function KD(t){t.clearMeasurements()}function ube(t){t.isLayoutDirty=!1}function dbe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function GD(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fbe(t){t.resolveTargetDelta()}function hbe(t){t.calcProjection()}function pbe(t){t.resetSkewAndRotation()}function mbe(t){t.removeLeadSnapshot()}function QD(t,e,n){t.translate=kn(e.translate,0,n),t.scale=kn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function YD(t,e,n,r){t.min=kn(e.min,n.min,r),t.max=kn(e.max,n.max,r)}function gbe(t,e,n,r){YD(t.x,e.x,n.x,r),YD(t.y,e.y,n.y,r)}function ybe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vbe={duration:.45,ease:[.4,0,.1,1]},XD=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ZD=XD("applewebkit/")&&!XD("chrome/")?Math.round:rs;function JD(t){t.min=ZD(t.min),t.max=ZD(t.max)}function xbe(t){JD(t.x),JD(t.y)}function IQ(t,e,n){return t==="position"||t==="preserve-aspect"&&!S1e(qD(e),qD(n),.2)}function bbe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const wbe=MQ({attachResizeListener:(t,e)=>ng(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tN={current:void 0},RQ=MQ({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tN.current){const t=new wbe({});t.mount(window),t.setOptions({layoutScroll:!0}),tN.current=t}return tN.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Sbe={pan:{Feature:L1e},drag:{Feature:D1e,ProjectionNode:RQ,MeasureLayout:jQ}};function e8(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&bn.postRender(()=>s(e,$y(e)))}class Cbe extends yc{mount(){const{current:e}=this.node;e&&(this.unmount=S0e(e,n=>(e8(this.node,n,"Start"),r=>e8(this.node,r,"End"))))}unmount(){}}class Nbe extends yc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oy(ng(this.node.current,"focus",()=>this.onFocus()),ng(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function t8(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&bn.postRender(()=>s(e,$y(e)))}class Pbe extends yc{mount(){const{current:e}=this.node;e&&(this.unmount=T0e(e,n=>(t8(this.node,n,"Start"),(r,{success:i})=>t8(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $E=new WeakMap,nN=new WeakMap,Tbe=t=>{const e=$E.get(t.target);e&&e(t)},Abe=t=>{t.forEach(Tbe)};function jbe({root:t,...e}){const n=t||document;nN.has(n)||nN.set(n,{});const r=nN.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Abe,{root:t,...e})),r[i]}function Ebe(t,e,n){const r=jbe(e);return $E.set(t,n),r.observe(t),()=>{$E.delete(t),r.unobserve(t)}}const kbe={some:0,all:1};class Obe extends yc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:kbe[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=c?d:h;m&&m(l)};return Ebe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some($be(e,n))&&this.startObserver()}unmount(){}}function $be({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _be={inView:{Feature:Obe},tap:{Feature:Pbe},focus:{Feature:Nbe},hover:{Feature:Cbe}},Mbe={layout:{ProjectionNode:RQ,MeasureLayout:jQ}},_E={current:null},DQ={current:!1};function Ibe(){if(DQ.current=!0,!!c$)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_E.current=t.matches;t.addListener(e),e()}else _E.current=!1}const Rbe=[...lQ,Xr,fc],Dbe=t=>Rbe.find(aQ(t)),n8=new WeakMap;function Lbe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(oi(i))t.addValue(r,i);else if(oi(s))t.addValue(r,eg(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,eg(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const r8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Fbe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=R$,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Fo.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,bn.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=vw(n),this.isVariantNode=gG(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const y=m[g];l[g]!==void 0&&oi(y)&&y.set(l[g],!1)}}mount(e){this.current=e,n8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),DQ.current||Ibe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_E.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){n8.delete(this.current),this.projection&&this.projection.unmount(),dc(this.notifyUpdate),dc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Yu.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&bn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Of){const n=Of[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<r8.length;r++){const i=r8[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Lbe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=eg(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(sQ(i)||YG(i))?i=parseFloat(i):!Dbe(i)&&fc.test(n)&&(i=nQ(e,n)),this.setBaseTarget(e,oi(i)?i.get():i)),oi(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=g$(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!oi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new k$),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class LQ extends Fbe{constructor(){super(...arguments),this.KeyframeResolver=cQ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;oi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Bbe(t){return window.getComputedStyle(t)}class Vbe extends LQ{constructor(){super(...arguments),this.type="html",this.renderInstance=PG}readValueFromInstance(e,n){if(Yu.has(n)){const r=I$(n);return r&&r.default||0}else{const r=Bbe(e),i=(SG(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TQ(e,n)}build(e,n,r){x$(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return C$(e,n,r)}}class zbe extends LQ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Yu.has(n)){const r=I$(n);return r&&r.default||0}return n=TG.has(n)?n:h$(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return EG(e,n,r)}build(e,n,r){b$(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){AG(e,n,r,i)}mount(e){this.isSVGTag=S$(e.tagName),super.mount(e)}}const Ube=(t,e)=>m$(t)?new zbe(e):new Vbe(e,{allowProjection:t!==C.Fragment}),qbe=m0e({...h1e,..._be,...Sbe,...Mbe},Ube),Hbe=kve(qbe);function Wbe(){const{user:t}=wh(),{data:e}=zO(),{data:n}=ow(),{data:r}=UO(),{data:i}=Ka(),s=C.useMemo(()=>!r||!i?[]:r.filter(c=>!!c.completedAt).map(c=>{const h=i.find(O=>O.id===c.studentId)?.firstName||"Unknown Student",m=c.test?.title||"Unknown Test",g=c.test?.questions||[],y=g.length||c.test?.questionIds?.length||0,b=c.answers||{};let x=0;if(y>0)if(g.length>0){let O=0;g.forEach(_=>{const $=b[_.id];let B=!1;if(_.type==="mcq")if(/^[A-E]$/i.test(_.correctAnswer)){const V=_.correctAnswer.toUpperCase().charCodeAt(0)-65,U=_.options?.[V];B=$===U}else B=$===_.correctAnswer;else B=$?.trim().toLowerCase()===_.correctAnswer?.trim().toLowerCase();B&&O++}),x=Math.round(O/y*100)}else x=c.score??0;const S=c.completedAt?new Date(c.completedAt):new Date(c.startedAt),N=S.getDate().toString().padStart(2,"0"),j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][S.getMonth()],P=S.getFullYear(),E=`${N}${j}${P}`;return{...c,displayName:`${h}_${m}_${E}`,score:x,displayScore:x,formattedDate:S.toLocaleDateString(),formattedTime:S.toLocaleTimeString()}}),[r,i]),o=s.length,a=o>0?Math.round(s.reduce((c,d)=>c+(d.score||0),0)/o):0,l=[{label:"Total Questions",value:e?.length||0,icon:nc,color:"bg-blue-500",href:"/parent/questions",clickable:!0},{label:"Active Tests",value:n?.length||0,icon:Tu,color:"bg-purple-500",href:"/parent/tests",clickable:!0},{label:"Average Score",value:`${a}%`,icon:Qb,color:"bg-green-500",clickable:!1},{label:"Students",value:i?.length||0,icon:Io,color:"bg-orange-500",clickable:!1}];return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-display font-bold text-foreground",children:["Welcome back, ",t?.firstName,"!"]}),u.jsx("p",{className:"text-muted-foreground mt-1",children:"Here's what's happening with your students today."})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:l.map((c,d)=>{const h=u.jsx(Hbe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},className:se("bg-card p-4 md:p-6 rounded-2xl shadow-sm border border-border/60 hover:shadow-md transition-all",c.clickable&&"cursor-pointer hover:border-primary/50"),children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-muted-foreground font-medium text-xs md:text-sm",children:c.label}),u.jsx("h3",{className:se("text-2xl md:text-3xl font-display font-bold mt-1 md:mt-2",c.clickable&&"text-primary hover:underline"),children:c.value})]}),u.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-xl ${c.color} bg-opacity-10 flex items-center justify-center flex-shrink-0`,children:u.jsx(c.icon,{className:`w-5 h-5 md:w-6 md:h-6 ${c.color.replace("bg-","text-")}`})})]})});return c.clickable&&c.href?u.jsx(yi,{href:c.href,children:h},c.label):u.jsx("div",{children:h},c.label)})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8",children:[u.jsxs("div",{className:"bg-card rounded-2xl shadow-sm border border-border/60 overflow-hidden",children:[u.jsxs("div",{className:"p-4 md:p-6 border-b border-border/40 flex items-center justify-between",children:[u.jsx("h3",{className:"font-bold text-base md:text-lg",children:"Recent Attempts"}),u.jsxs(yi,{href:"/parent/results",className:"text-primary text-xs md:text-sm font-medium hover:underline flex items-center gap-1",children:["View All ",u.jsx(Xj,{className:"w-3 h-3 md:w-4 md:h-4"})]})]}),u.jsx("div",{className:"divide-y divide-border/40",children:s.length>0?s.slice(0,5).map(c=>u.jsx(yi,{href:`/parent/results/${c.id}`,children:u.jsxs("div",{className:"p-3 md:p-4 flex items-center justify-between hover:bg-muted/30 transition-colors cursor-pointer",children:[u.jsxs("div",{className:"flex items-center gap-2 md:gap-4 min-w-0 flex-1",children:[u.jsxs("div",{className:se("w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center font-bold text-xs md:text-sm flex-shrink-0",(c.score??0)>=80?"bg-green-100 text-green-700":(c.score??0)>=50?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"),children:[c.score??0,"%"]}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("p",{className:"font-medium text-sm md:text-base line-clamp-1",children:c.displayName}),u.jsxs("p",{className:"text-xs text-muted-foreground line-clamp-1",children:[c.formattedDate," at ",c.formattedTime]})]})]}),u.jsx("div",{className:"text-xs md:text-sm font-medium text-muted-foreground flex-shrink-0 ml-2",children:"Completed"})]})},c.id)):u.jsx("div",{className:"p-6 md:p-8 text-center text-muted-foreground text-sm",children:"No completed attempts yet."})})]}),u.jsxs("div",{className:"bg-card rounded-2xl shadow-sm border border-border/60 overflow-hidden",children:[u.jsxs("div",{className:"p-4 md:p-6 border-b border-border/40 flex items-center justify-between",children:[u.jsx("h3",{className:"font-bold text-base md:text-lg",children:"Recent Questions"}),u.jsxs(yi,{href:"/parent/questions",className:"text-primary text-xs md:text-sm font-medium hover:underline flex items-center gap-1",children:["View All ",u.jsx(Xj,{className:"w-3 h-3 md:w-4 md:h-4"})]})]}),u.jsx("div",{className:"divide-y divide-border/40",children:e?.slice(0,5).map(c=>u.jsxs("div",{className:"p-3 md:p-4 hover:bg-muted/30 transition-colors",children:[u.jsx("p",{className:"font-medium text-sm md:text-base line-clamp-2",children:c.content?c.content.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," "):c.name||"Question"}),u.jsxs("div",{className:"flex items-center gap-2 mt-1.5 md:mt-2 flex-wrap",children:[u.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-primary/10 text-primary uppercase font-bold",children:c.type}),u.jsx("span",{className:"text-xs text-muted-foreground",children:c.subject||"General"})]})]},c.id))||u.jsx("div",{className:"p-6 md:p-8 text-center text-muted-foreground text-sm",children:"No questions created yet."})})]})]})]})}var _y=t=>t.type==="checkbox",tu=t=>t instanceof Date,mi=t=>t==null;const FQ=t=>typeof t=="object";var Hn=t=>!mi(t)&&!Array.isArray(t)&&FQ(t)&&!tu(t),BQ=t=>Hn(t)&&t.target?_y(t.target)?t.target.checked:t.target.value:t,Kbe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,VQ=(t,e)=>t.has(Kbe(e)),Gbe=t=>{const e=t.constructor&&t.constructor.prototype;return Hn(e)&&e.hasOwnProperty("isPrototypeOf")},B$=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Mr(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(B$&&(t instanceof Blob||r))&&(n||Hn(t)))if(e=n?[]:{},!n&&!Gbe(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Mr(t[i]));else return t;return e}var ww=t=>Array.isArray(t)?t.filter(Boolean):[],Un=t=>t===void 0,Re=(t,e,n)=>{if(!e||!Hn(t))return n;const r=ww(e.split(/[,[\].]+?/)).reduce((i,s)=>mi(i)?i:i[s],t);return Un(r)||r===t?Un(t[e])?n:t[e]:r},Qi=t=>typeof t=="boolean",V$=t=>/^\w*$/.test(t),zQ=t=>ww(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Wt=(t,e,n)=>{let r=-1;const i=V$(e)?[e]:zQ(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=Hn(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const Rx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},no={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ua={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},UQ=H.createContext(null),Sw=()=>H.useContext(UQ),Qbe=t=>{const{children:e,...n}=t;return H.createElement(UQ.Provider,{value:n},e)};var qQ=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==no.all&&(e._proxyFormState[o]=!r||no.all),n&&(n[o]=!0),t[o]}});return i};function Ybe(t){const e=Sw(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=H.useState(n._formState),l=H.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=H.useRef(i);return c.current=i,H.useEffect(()=>n._subscribe({name:c.current,formState:l.current,exact:s,callback:d=>{!r&&a({...n._formState,...d})}}),[n,r,s]),H.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),H.useMemo(()=>qQ(o,n,l.current,!1),[o,n])}var _o=t=>typeof t=="string",HQ=(t,e,n,r,i)=>_o(t)?(r&&e.watch.add(t),Re(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Re(n,s))):(r&&(e.watchAll=!0),n);function Xbe(t){const e=Sw(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=H.useRef(r),l=H.useRef(i);a.current=r,H.useEffect(()=>n._subscribe({name:a.current,formState:{values:!0},exact:o,callback:h=>!s&&d(HQ(a.current,n._names,h.values||n._formValues,!1,l.current))}),[n,s,o]);const[c,d]=H.useState(n._getWatch(r,i));return H.useEffect(()=>n._removeUnmounted()),c}function Zbe(t){const e=Sw(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=VQ(i._names.array,n),a=Xbe({control:i,name:n,defaultValue:Re(i._formValues,n,Re(i._defaultValues,n,t.defaultValue)),exact:!0}),l=Ybe({control:i,name:n,exact:!0}),c=H.useRef(t),d=H.useRef(i.register(n,{...t.rules,value:a,...Qi(t.disabled)?{disabled:t.disabled}:{}})),h=H.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Re(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!Re(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Re(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Re(l.validatingFields,n)},error:{enumerable:!0,get:()=>Re(l.errors,n)}}),[l,n]),m=H.useCallback(x=>d.current.onChange({target:{value:BQ(x),name:n},type:Rx.CHANGE}),[n]),g=H.useCallback(()=>d.current.onBlur({target:{value:Re(i._formValues,n),name:n},type:Rx.BLUR}),[n,i._formValues]),y=H.useCallback(x=>{const S=Re(i._fields,n);S&&x&&(S._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:N=>x.setCustomValidity(N),reportValidity:()=>x.reportValidity()})},[i._fields,n]),b=H.useMemo(()=>({name:n,value:a,...Qi(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:m,onBlur:g,ref:y}),[n,r,l.disabled,m,g,y,a]);return H.useEffect(()=>{const x=i._options.shouldUnregister||s;i.register(n,{...c.current.rules,...Qi(c.current.disabled)?{disabled:c.current.disabled}:{}});const S=(N,T)=>{const j=Re(i._fields,N);j&&j._f&&(j._f.mount=T)};if(S(n,!0),x){const N=Mr(Re(i._options.defaultValues,n));Wt(i._defaultValues,n,N),Un(Re(i._formValues,n))&&Wt(i._formValues,n,N)}return!o&&i.register(n),()=>{(o?x&&!i._state.action:x)?i.unregister(n):S(n,!1)}},[n,i,o,s]),H.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),H.useMemo(()=>({field:b,formState:l,fieldState:h}),[b,l,h])}const Jbe=t=>t.render(Zbe(t));var WQ=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},um=t=>Array.isArray(t)?t:[t],i8=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},ME=t=>mi(t)||!FQ(t);function Ll(t,e){if(ME(t)||ME(e))return t===e;if(tu(t)&&tu(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(tu(s)&&tu(o)||Hn(s)&&Hn(o)||Array.isArray(s)&&Array.isArray(o)?!Ll(s,o):s!==o)return!1}}return!0}var pi=t=>Hn(t)&&!Object.keys(t).length,z$=t=>t.type==="file",ro=t=>typeof t=="function",Dx=t=>{if(!B$)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},KQ=t=>t.type==="select-multiple",U$=t=>t.type==="radio",ewe=t=>U$(t)||_y(t),rN=t=>Dx(t)&&t.isConnected;function twe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Un(t)?r++:t[e[r++]];return t}function nwe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Un(t[e]))return!1;return!0}function lr(t,e){const n=Array.isArray(e)?e:V$(e)?[e]:zQ(e),r=n.length===1?t:twe(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Hn(r)&&pi(r)||Array.isArray(r)&&nwe(r))&&lr(t,n.slice(0,-1)),t}var GQ=t=>{for(const e in t)if(ro(t[e]))return!0;return!1};function Lx(t,e={}){const n=Array.isArray(t);if(Hn(t)||n)for(const r in t)Array.isArray(t[r])||Hn(t[r])&&!GQ(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Lx(t[r],e[r])):mi(t[r])||(e[r]=!0);return e}function QQ(t,e,n){const r=Array.isArray(t);if(Hn(t)||r)for(const i in t)Array.isArray(t[i])||Hn(t[i])&&!GQ(t[i])?Un(e)||ME(n[i])?n[i]=Array.isArray(t[i])?Lx(t[i],[]):{...Lx(t[i])}:QQ(t[i],mi(e)?{}:e[i],n[i]):n[i]=!Ll(t[i],e[i]);return n}var Op=(t,e)=>QQ(t,e,Lx(e));const s8={value:!1,isValid:!1},o8={value:!0,isValid:!0};var YQ=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Un(t[0].attributes.value)?Un(t[0].value)||t[0].value===""?o8:{value:t[0].value,isValid:!0}:o8:s8}return s8},XQ=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Un(t)?t:e?t===""?NaN:t&&+t:n&&_o(t)?new Date(t):r?r(t):t;const a8={isValid:!1,value:null};var ZQ=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,a8):a8;function l8(t){const e=t.ref;return z$(e)?e.files:U$(e)?ZQ(t.refs).value:KQ(e)?[...e.selectedOptions].map(({value:n})=>n):_y(e)?YQ(t.refs).value:XQ(Un(e.value)?t.ref.value:e.value,t)}var rwe=(t,e,n,r)=>{const i={};for(const s of t){const o=Re(e,s);o&&Wt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Fx=t=>t instanceof RegExp,$p=t=>Un(t)?t:Fx(t)?t.source:Hn(t)?Fx(t.value)?t.value.source:t.value:t,c8=t=>({isOnSubmit:!t||t===no.onSubmit,isOnBlur:t===no.onBlur,isOnChange:t===no.onChange,isOnAll:t===no.all,isOnTouch:t===no.onTouched});const u8="AsyncFunction";var iwe=t=>!!t&&!!t.validate&&!!(ro(t.validate)&&t.validate.constructor.name===u8||Hn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===u8)),swe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),d8=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const dm=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Re(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(dm(a,e))break}else if(Hn(a)&&dm(a,e))break}}};function f8(t,e,n){const r=Re(t,n);if(r||V$(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Re(e,s),a=Re(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var owe=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return pi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||no.all))},awe=(t,e,n)=>!t||!e||t===e||um(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),lwe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,cwe=(t,e)=>!ww(Re(t,e)).length&&lr(t,e),uwe=(t,e,n)=>{const r=um(Re(t,n));return Wt(r,"root",e[n]),Wt(t,n,r),t},nx=t=>_o(t);function h8(t,e,n="validate"){if(nx(t)||Array.isArray(t)&&t.every(nx)||Qi(t)&&!t)return{type:n,message:nx(t)?t:"",ref:e}}var Od=t=>Hn(t)&&!Fx(t)?t:{value:t,message:""},p8=async(t,e,n,r,i,s)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:d,min:h,max:m,pattern:g,validate:y,name:b,valueAsNumber:x,mount:S}=t._f,N=Re(n,b);if(!S||e.has(b))return{};const T=a?a[0]:o,j=V=>{i&&T.reportValidity&&(T.setCustomValidity(Qi(V)?"":V||""),T.reportValidity())},P={},E=U$(o),O=_y(o),_=E||O,$=(x||z$(o))&&Un(o.value)&&Un(N)||Dx(o)&&o.value===""||N===""||Array.isArray(N)&&!N.length,B=WQ.bind(null,b,r,P),I=(V,U,L,z=ua.maxLength,F=ua.minLength)=>{const q=V?U:L;P[b]={type:V?z:F,message:q,ref:o,...B(V?z:F,q)}};if(s?!Array.isArray(N)||!N.length:l&&(!_&&($||mi(N))||Qi(N)&&!N||O&&!YQ(a).isValid||E&&!ZQ(a).isValid)){const{value:V,message:U}=nx(l)?{value:!!l,message:l}:Od(l);if(V&&(P[b]={type:ua.required,message:U,ref:T,...B(ua.required,U)},!r))return j(U),P}if(!$&&(!mi(h)||!mi(m))){let V,U;const L=Od(m),z=Od(h);if(!mi(N)&&!isNaN(N)){const F=o.valueAsNumber||N&&+N;mi(L.value)||(V=F>L.value),mi(z.value)||(U=F<z.value)}else{const F=o.valueAsDate||new Date(N),q=Q=>new Date(new Date().toDateString()+" "+Q),M=o.type=="time",D=o.type=="week";_o(L.value)&&N&&(V=M?q(N)>q(L.value):D?N>L.value:F>new Date(L.value)),_o(z.value)&&N&&(U=M?q(N)<q(z.value):D?N<z.value:F<new Date(z.value))}if((V||U)&&(I(!!V,L.message,z.message,ua.max,ua.min),!r))return j(P[b].message),P}if((c||d)&&!$&&(_o(N)||s&&Array.isArray(N))){const V=Od(c),U=Od(d),L=!mi(V.value)&&N.length>+V.value,z=!mi(U.value)&&N.length<+U.value;if((L||z)&&(I(L,V.message,U.message),!r))return j(P[b].message),P}if(g&&!$&&_o(N)){const{value:V,message:U}=Od(g);if(Fx(V)&&!N.match(V)&&(P[b]={type:ua.pattern,message:U,ref:o,...B(ua.pattern,U)},!r))return j(U),P}if(y){if(ro(y)){const V=await y(N,n),U=h8(V,T);if(U&&(P[b]={...U,...B(ua.validate,U.message)},!r))return j(U.message),P}else if(Hn(y)){let V={};for(const U in y){if(!pi(V)&&!r)break;const L=h8(await y[U](N,n),T,U);L&&(V={...L,...B(U,L.message)},j(L.message),r&&(P[b]=V))}if(!pi(V)&&(P[b]={ref:T,...V},!r))return P}}return j(!0),P};const dwe={mode:no.onSubmit,reValidateMode:no.onChange,shouldFocusError:!0};function fwe(t={}){let e={...dwe,...t},n={submitCount:0,isDirty:!1,isLoading:ro(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=Hn(e.defaultValues)||Hn(e.values)?Mr(e.values||e.defaultValues)||{}:{},s=e.shouldUnregister?{}:Mr(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const m={array:i8(),state:i8()},g=c8(e.mode),y=c8(e.reValidateMode),b=e.criteriaMode===no.all,x=X=>te=>{clearTimeout(c),c=setTimeout(X,te)},S=async X=>{if(!e.disabled&&(d.isValid||h.isValid||X)){const te=e.resolver?pi((await $()).errors):await I(r,!0);te!==n.isValid&&m.state.next({isValid:te})}},N=(X,te)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((X||Array.from(a.mount)).forEach(ie=>{ie&&(te?Wt(n.validatingFields,ie,te):lr(n.validatingFields,ie))}),m.state.next({validatingFields:n.validatingFields,isValidating:!pi(n.validatingFields)}))},T=(X,te=[],ie,Ie,$e=!0,Te=!0)=>{if(Ie&&ie&&!e.disabled){if(o.action=!0,Te&&Array.isArray(Re(r,X))){const Fe=ie(Re(r,X),Ie.argA,Ie.argB);$e&&Wt(r,X,Fe)}if(Te&&Array.isArray(Re(n.errors,X))){const Fe=ie(Re(n.errors,X),Ie.argA,Ie.argB);$e&&Wt(n.errors,X,Fe),cwe(n.errors,X)}if((d.touchedFields||h.touchedFields)&&Te&&Array.isArray(Re(n.touchedFields,X))){const Fe=ie(Re(n.touchedFields,X),Ie.argA,Ie.argB);$e&&Wt(n.touchedFields,X,Fe)}(d.dirtyFields||h.dirtyFields)&&(n.dirtyFields=Op(i,s)),m.state.next({name:X,isDirty:U(X,te),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Wt(s,X,te)},j=(X,te)=>{Wt(n.errors,X,te),m.state.next({errors:n.errors})},P=X=>{n.errors=X,m.state.next({errors:n.errors,isValid:!1})},E=(X,te,ie,Ie)=>{const $e=Re(r,X);if($e){const Te=Re(s,X,Un(ie)?Re(i,X):ie);Un(Te)||Ie&&Ie.defaultChecked||te?Wt(s,X,te?Te:l8($e._f)):F(X,Te),o.mount&&S()}},O=(X,te,ie,Ie,$e)=>{let Te=!1,Fe=!1;const wt={name:X};if(!e.disabled){if(!ie||Ie){(d.isDirty||h.isDirty)&&(Fe=n.isDirty,n.isDirty=wt.isDirty=U(),Te=Fe!==wt.isDirty);const Kt=Ll(Re(i,X),te);Fe=!!Re(n.dirtyFields,X),Kt?lr(n.dirtyFields,X):Wt(n.dirtyFields,X,!0),wt.dirtyFields=n.dirtyFields,Te=Te||(d.dirtyFields||h.dirtyFields)&&Fe!==!Kt}if(ie){const Kt=Re(n.touchedFields,X);Kt||(Wt(n.touchedFields,X,ie),wt.touchedFields=n.touchedFields,Te=Te||(d.touchedFields||h.touchedFields)&&Kt!==ie)}Te&&$e&&m.state.next(wt)}return Te?wt:{}},_=(X,te,ie,Ie)=>{const $e=Re(n.errors,X),Te=(d.isValid||h.isValid)&&Qi(te)&&n.isValid!==te;if(e.delayError&&ie?(l=x(()=>j(X,ie)),l(e.delayError)):(clearTimeout(c),l=null,ie?Wt(n.errors,X,ie):lr(n.errors,X)),(ie?!Ll($e,ie):$e)||!pi(Ie)||Te){const Fe={...Ie,...Te&&Qi(te)?{isValid:te}:{},errors:n.errors,name:X};n={...n,...Fe},m.state.next(Fe)}},$=async X=>{N(X,!0);const te=await e.resolver(s,e.context,rwe(X||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return N(X),te},B=async X=>{const{errors:te}=await $(X);if(X)for(const ie of X){const Ie=Re(te,ie);Ie?Wt(n.errors,ie,Ie):lr(n.errors,ie)}else n.errors=te;return te},I=async(X,te,ie={valid:!0})=>{for(const Ie in X){const $e=X[Ie];if($e){const{_f:Te,...Fe}=$e;if(Te){const wt=a.array.has(Te.name),Kt=$e._f&&iwe($e._f);Kt&&d.validatingFields&&N([Ie],!0);const an=await p8($e,a.disabled,s,b,e.shouldUseNativeValidation&&!te,wt);if(Kt&&d.validatingFields&&N([Ie]),an[Te.name]&&(ie.valid=!1,te))break;!te&&(Re(an,Te.name)?wt?uwe(n.errors,an,Te.name):Wt(n.errors,Te.name,an[Te.name]):lr(n.errors,Te.name))}!pi(Fe)&&await I(Fe,te,ie)}}return ie.valid},V=()=>{for(const X of a.unMount){const te=Re(r,X);te&&(te._f.refs?te._f.refs.every(ie=>!rN(ie)):!rN(te._f.ref))&&ue(X)}a.unMount=new Set},U=(X,te)=>!e.disabled&&(X&&te&&Wt(s,X,te),!Ll(Y(),i)),L=(X,te,ie)=>HQ(X,a,{...o.mount?s:Un(te)?i:_o(X)?{[X]:te}:te},ie,te),z=X=>ww(Re(o.mount?s:i,X,e.shouldUnregister?Re(i,X,[]):[])),F=(X,te,ie={})=>{const Ie=Re(r,X);let $e=te;if(Ie){const Te=Ie._f;Te&&(!Te.disabled&&Wt(s,X,XQ(te,Te)),$e=Dx(Te.ref)&&mi(te)?"":te,KQ(Te.ref)?[...Te.ref.options].forEach(Fe=>Fe.selected=$e.includes(Fe.value)):Te.refs?_y(Te.ref)?Te.refs.length>1?Te.refs.forEach(Fe=>(!Fe.defaultChecked||!Fe.disabled)&&(Fe.checked=Array.isArray($e)?!!$e.find(wt=>wt===Fe.value):$e===Fe.value)):Te.refs[0]&&(Te.refs[0].checked=!!$e):Te.refs.forEach(Fe=>Fe.checked=Fe.value===$e):z$(Te.ref)?Te.ref.value="":(Te.ref.value=$e,Te.ref.type||m.state.next({name:X,values:Mr(s)})))}(ie.shouldDirty||ie.shouldTouch)&&O(X,$e,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&W(X)},q=(X,te,ie)=>{for(const Ie in te){const $e=te[Ie],Te=`${X}.${Ie}`,Fe=Re(r,Te);(a.array.has(X)||Hn($e)||Fe&&!Fe._f)&&!tu($e)?q(Te,$e,ie):F(Te,$e,ie)}},M=(X,te,ie={})=>{const Ie=Re(r,X),$e=a.array.has(X),Te=Mr(te);Wt(s,X,Te),$e?(m.array.next({name:X,values:Mr(s)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&ie.shouldDirty&&m.state.next({name:X,dirtyFields:Op(i,s),isDirty:U(X,Te)})):Ie&&!Ie._f&&!mi(Te)?q(X,Te,ie):F(X,Te,ie),d8(X,a)&&m.state.next({...n}),m.state.next({name:o.mount?X:void 0,values:Mr(s)})},D=async X=>{o.mount=!0;const te=X.target;let ie=te.name,Ie=!0;const $e=Re(r,ie),Te=Fe=>{Ie=Number.isNaN(Fe)||tu(Fe)&&isNaN(Fe.getTime())||Ll(Fe,Re(s,ie,Fe))};if($e){let Fe,wt;const Kt=te.type?l8($e._f):BQ(X),an=X.type===Rx.BLUR||X.type===Rx.FOCUS_OUT,Zy=!swe($e._f)&&!e.resolver&&!Re(n.errors,ie)&&!$e._f.deps||lwe(an,Re(n.touchedFields,ie),n.isSubmitted,y,g),So=d8(ie,a,an);Wt(s,ie,Kt),an?($e._f.onBlur&&$e._f.onBlur(X),l&&l(0)):$e._f.onChange&&$e._f.onChange(X);const Is=O(ie,Kt,an),Ja=!pi(Is)||So;if(!an&&m.state.next({name:ie,type:X.type,values:Mr(s)}),Zy)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?an&&S():an||S()),Ja&&m.state.next({name:ie,...So?{}:Is});if(!an&&So&&m.state.next({...n}),e.resolver){const{errors:el}=await $([ie]);if(Te(Kt),Ie){const $n=f8(n.errors,r,ie),Rs=f8(el,r,$n.name||ie);Fe=Rs.error,ie=Rs.name,wt=pi(el)}}else N([ie],!0),Fe=(await p8($e,a.disabled,s,b,e.shouldUseNativeValidation))[ie],N([ie]),Te(Kt),Ie&&(Fe?wt=!1:(d.isValid||h.isValid)&&(wt=await I(r,!0)));Ie&&($e._f.deps&&W($e._f.deps),_(ie,wt,Fe,Is))}},Q=(X,te)=>{if(Re(n.errors,te)&&X.focus)return X.focus(),1},W=async(X,te={})=>{let ie,Ie;const $e=um(X);if(e.resolver){const Te=await B(Un(X)?X:$e);ie=pi(Te),Ie=X?!$e.some(Fe=>Re(Te,Fe)):ie}else X?(Ie=(await Promise.all($e.map(async Te=>{const Fe=Re(r,Te);return await I(Fe&&Fe._f?{[Te]:Fe}:Fe)}))).every(Boolean),!(!Ie&&!n.isValid)&&S()):Ie=ie=await I(r);return m.state.next({...!_o(X)||(d.isValid||h.isValid)&&ie!==n.isValid?{}:{name:X},...e.resolver||!X?{isValid:ie}:{},errors:n.errors}),te.shouldFocus&&!Ie&&dm(r,Q,X?$e:a.mount),Ie},Y=X=>{const te={...o.mount?s:i};return Un(X)?te:_o(X)?Re(te,X):X.map(ie=>Re(te,ie))},le=(X,te)=>({invalid:!!Re((te||n).errors,X),isDirty:!!Re((te||n).dirtyFields,X),error:Re((te||n).errors,X),isValidating:!!Re(n.validatingFields,X),isTouched:!!Re((te||n).touchedFields,X)}),pe=X=>{X&&um(X).forEach(te=>lr(n.errors,te)),m.state.next({errors:X?n.errors:{}})},he=(X,te,ie)=>{const Ie=(Re(r,X,{_f:{}})._f||{}).ref,$e=Re(n.errors,X)||{},{ref:Te,message:Fe,type:wt,...Kt}=$e;Wt(n.errors,X,{...Kt,...te,ref:Ie}),m.state.next({name:X,errors:n.errors,isValid:!1}),ie&&ie.shouldFocus&&Ie&&Ie.focus&&Ie.focus()},Ae=(X,te)=>ro(X)?m.state.subscribe({next:ie=>X(L(void 0,te),ie)}):L(X,te,!0),me=X=>m.state.subscribe({next:te=>{awe(X.name,te.name,X.exact)&&owe(te,X.formState||d,gr,X.reRenderRoot)&&X.callback({values:{...s},...n,...te})}}).unsubscribe,Se=X=>(o.mount=!0,h={...h,...X.formState},me({...X,formState:h})),ue=(X,te={})=>{for(const ie of X?um(X):a.mount)a.mount.delete(ie),a.array.delete(ie),te.keepValue||(lr(r,ie),lr(s,ie)),!te.keepError&&lr(n.errors,ie),!te.keepDirty&&lr(n.dirtyFields,ie),!te.keepTouched&&lr(n.touchedFields,ie),!te.keepIsValidating&&lr(n.validatingFields,ie),!e.shouldUnregister&&!te.keepDefaultValue&&lr(i,ie);m.state.next({values:Mr(s)}),m.state.next({...n,...te.keepDirty?{isDirty:U()}:{}}),!te.keepIsValid&&S()},Pe=({disabled:X,name:te})=>{(Qi(X)&&o.mount||X||a.disabled.has(te))&&(X?a.disabled.add(te):a.disabled.delete(te))},Oe=(X,te={})=>{let ie=Re(r,X);const Ie=Qi(te.disabled)||Qi(e.disabled);return Wt(r,X,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:X}},name:X,mount:!0,...te}}),a.mount.add(X),ie?Pe({disabled:Qi(te.disabled)?te.disabled:e.disabled,name:X}):E(X,!0,te.value),{...Ie?{disabled:te.disabled||e.disabled}:{},...e.progressive?{required:!!te.required,min:$p(te.min),max:$p(te.max),minLength:$p(te.minLength),maxLength:$p(te.maxLength),pattern:$p(te.pattern)}:{},name:X,onChange:D,onBlur:D,ref:$e=>{if($e){Oe(X,te),ie=Re(r,X);const Te=Un($e.value)&&$e.querySelectorAll&&$e.querySelectorAll("input,select,textarea")[0]||$e,Fe=ewe(Te),wt=ie._f.refs||[];if(Fe?wt.find(Kt=>Kt===Te):Te===ie._f.ref)return;Wt(r,X,{_f:{...ie._f,...Fe?{refs:[...wt.filter(rN),Te,...Array.isArray(Re(i,X))?[{}]:[]],ref:{type:Te.type,name:X}}:{ref:Te}}}),E(X,!1,void 0,Te)}else ie=Re(r,X,{}),ie._f&&(ie._f.mount=!1),(e.shouldUnregister||te.shouldUnregister)&&!(VQ(a.array,X)&&o.action)&&a.unMount.add(X)}}},oe=()=>e.shouldFocusError&&dm(r,Q,a.mount),lt=X=>{Qi(X)&&(m.state.next({disabled:X}),dm(r,(te,ie)=>{const Ie=Re(r,ie);Ie&&(te.disabled=Ie._f.disabled||X,Array.isArray(Ie._f.refs)&&Ie._f.refs.forEach($e=>{$e.disabled=Ie._f.disabled||X}))},0,!1))},ae=(X,te)=>async ie=>{let Ie;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let $e=Mr(s);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:Te,values:Fe}=await $();n.errors=Te,$e=Fe}else await I(r);if(a.disabled.size)for(const Te of a.disabled)Wt($e,Te,void 0);if(lr(n.errors,"root"),pi(n.errors)){m.state.next({errors:{}});try{await X($e,ie)}catch(Te){Ie=Te}}else te&&await te({...n.errors},ie),oe(),setTimeout(oe);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pi(n.errors)&&!Ie,submitCount:n.submitCount+1,errors:n.errors}),Ie)throw Ie},yt=(X,te={})=>{Re(r,X)&&(Un(te.defaultValue)?M(X,Mr(Re(i,X))):(M(X,te.defaultValue),Wt(i,X,Mr(te.defaultValue))),te.keepTouched||lr(n.touchedFields,X),te.keepDirty||(lr(n.dirtyFields,X),n.isDirty=te.defaultValue?U(X,Mr(Re(i,X))):U()),te.keepError||(lr(n.errors,X),d.isValid&&S()),m.state.next({...n}))},ot=(X,te={})=>{const ie=X?Mr(X):i,Ie=Mr(ie),$e=pi(X),Te=$e?i:Ie;if(te.keepDefaultValues||(i=ie),!te.keepValues){if(te.keepDirtyValues){const Fe=new Set([...a.mount,...Object.keys(Op(i,s))]);for(const wt of Array.from(Fe))Re(n.dirtyFields,wt)?Wt(Te,wt,Re(s,wt)):M(wt,Re(Te,wt))}else{if(B$&&Un(X))for(const Fe of a.mount){const wt=Re(r,Fe);if(wt&&wt._f){const Kt=Array.isArray(wt._f.refs)?wt._f.refs[0]:wt._f.ref;if(Dx(Kt)){const an=Kt.closest("form");if(an){an.reset();break}}}}for(const Fe of a.mount)M(Fe,Re(Te,Fe))}s=Mr(Te),m.array.next({values:{...Te}}),m.state.next({values:{...Te}})}a={mount:te.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!te.keepIsValid||!!te.keepDirtyValues,o.watch=!!e.shouldUnregister,m.state.next({submitCount:te.keepSubmitCount?n.submitCount:0,isDirty:$e?!1:te.keepDirty?n.isDirty:!!(te.keepDefaultValues&&!Ll(X,i)),isSubmitted:te.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:$e?{}:te.keepDirtyValues?te.keepDefaultValues&&s?Op(i,s):n.dirtyFields:te.keepDefaultValues&&X?Op(i,X):te.keepDirty?n.dirtyFields:{},touchedFields:te.keepTouched?n.touchedFields:{},errors:te.keepErrors?n.errors:{},isSubmitSuccessful:te.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ut=(X,te)=>ot(ro(X)?X(s):X,te),qt=(X,te={})=>{const ie=Re(r,X),Ie=ie&&ie._f;if(Ie){const $e=Ie.refs?Ie.refs[0]:Ie.ref;$e.focus&&($e.focus(),te.shouldSelect&&ro($e.select)&&$e.select())}},gr=X=>{n={...n,...X}},Fn={control:{register:Oe,unregister:ue,getFieldState:le,handleSubmit:ae,setError:he,_subscribe:me,_runSchema:$,_getWatch:L,_getDirty:U,_setValid:S,_setFieldArray:T,_setDisabledField:Pe,_setErrors:P,_getFieldArray:z,_reset:ot,_resetDefaultValues:()=>ro(e.defaultValues)&&e.defaultValues().then(X=>{Ut(X,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:lt,_subjects:m,_proxyFormState:d,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(X){o=X},get _defaultValues(){return i},get _names(){return a},set _names(X){a=X},get _formState(){return n},get _options(){return e},set _options(X){e={...e,...X}}},subscribe:Se,trigger:W,register:Oe,handleSubmit:ae,watch:Ae,setValue:M,getValues:Y,reset:Ut,resetField:yt,clearErrors:pe,unregister:ue,setError:he,setFocus:qt,getFieldState:le};return{...Fn,formControl:Fn}}function q$(t={}){const e=H.useRef(void 0),n=H.useRef(void 0),[r,i]=H.useState({isDirty:!1,isValidating:!1,isLoading:ro(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ro(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:fwe(t),formState:r},t.formControl&&t.defaultValues&&!ro(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,H.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0}),[s]),H.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),H.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),H.useEffect(()=>{t.values&&!Ll(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),H.useEffect(()=>{t.errors&&!pi(t.errors)&&s._setErrors(t.errors)},[t.errors,s]),H.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),H.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=qQ(r,s),e.current}const m8=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Re(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},JQ=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?m8(r.ref,n,t):r.refs&&r.refs.forEach(i=>m8(i,n,t))}},hwe=(t,e)=>{e.shouldUseNativeValidation&&JQ(t,e);const n={};for(const r in t){const i=Re(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(pwe(e.names||Object.keys(t),r)){const o=Object.assign({},Re(n,r));Wt(o,"root",s),Wt(n,r,o)}else Wt(n,r,s)}return n},pwe=(t,e)=>t.some(n=>n.startsWith(e+"."));var mwe=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var l=n[o].types,c=l&&l[r.code];n[o]=WQ(o,e,n,i,c?[].concat(c,r.message):r.message)}t.shift()}return n},H$=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve((function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&JQ({},s),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l})(0,function(o){if((function(a){return Array.isArray(a?.errors)})(o))return{values:{},errors:hwe(mwe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}};const zr=o$,Aa=aG,gwe=a$,eY=C.forwardRef(({className:t,...e},n)=>u.jsx(Py,{ref:n,className:se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));eY.displayName=Py.displayName;const Cr=C.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(gwe,{children:[u.jsx(eY,{}),u.jsxs(Ty,{ref:r,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(mw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Ra,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Cr.displayName=Ty.displayName;const Nr=({className:t,...e})=>u.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Nr.displayName="DialogHeader";const _u=({className:t,...e})=>u.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});_u.displayName="DialogFooter";const Pr=C.forwardRef(({className:t,...e},n)=>u.jsx(Ay,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",t),...e}));Pr.displayName=Ay.displayName;const Va=C.forwardRef(({className:t,...e},n)=>u.jsx(jy,{ref:n,className:se("text-sm text-muted-foreground",t),...e}));Va.displayName=jy.displayName;var ywe="Label",tY=C.forwardRef((t,e)=>u.jsx(Xe.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));tY.displayName=ywe;var nY=tY;const vwe=py("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Me=C.forwardRef(({className:t,...e},n)=>u.jsx(nY,{ref:n,className:se(vwe(),t),...e}));Me.displayName=nY.displayName;const W$=Qbe,rY=C.createContext({}),gi=({...t})=>u.jsx(rY.Provider,{value:{name:t.name},children:u.jsx(Jbe,{...t})}),Cw=()=>{const t=C.useContext(rY),e=C.useContext(iY),{getFieldState:n,formState:r}=Sw(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},iY=C.createContext({}),ei=C.forwardRef(({className:t,...e},n)=>{const r=C.useId();return u.jsx(iY.Provider,{value:{id:r},children:u.jsx("div",{ref:n,className:se("space-y-2",t),...e})})});ei.displayName="FormItem";const ti=C.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=Cw();return u.jsx(Me,{ref:n,className:se(r&&"text-destructive",t),htmlFor:i,...e})});ti.displayName="FormLabel";const ni=C.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=Cw();return u.jsx(dq,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});ni.displayName="FormControl";const xwe=C.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Cw();return u.jsx("p",{ref:n,id:r,className:se("text-sm text-muted-foreground",t),...e})});xwe.displayName="FormDescription";const ri=C.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=Cw(),o=i?String(i?.message??""):e;return o?u.jsx("p",{ref:r,id:s,className:se("text-sm font-medium text-destructive",t),...n,children:o}):null});ri.displayName="FormMessage";const ut=C.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:se("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ut.displayName="Input";var sY="AlertDialog",[bwe]=Hr(sY,[HK]),Ga=HK(),oY=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ga(e);return u.jsx(o$,{...r,...n,modal:!0})};oY.displayName=sY;var wwe="AlertDialogTrigger",aY=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ga(n);return u.jsx(aG,{...i,...r,ref:e})});aY.displayName=wwe;var Swe="AlertDialogPortal",lY=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ga(e);return u.jsx(a$,{...r,...n})};lY.displayName=Swe;var Cwe="AlertDialogOverlay",cY=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ga(n);return u.jsx(Py,{...i,...r,ref:e})});cY.displayName=Cwe;var pf="AlertDialogContent",[Nwe,Pwe]=bwe(pf),Twe=hq("AlertDialogContent"),uY=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=Ga(n),o=C.useRef(null),a=Ot(e,o),l=C.useRef(null);return u.jsx(cve,{contentName:pf,titleName:dY,docsSlug:"alert-dialog",children:u.jsx(Nwe,{scope:n,cancelRef:l,children:u.jsxs(Ty,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:Ee(i.onOpenAutoFocus,c=>{c.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(Twe,{children:r}),u.jsx(jwe,{contentRef:o})]})})})});uY.displayName=pf;var dY="AlertDialogTitle",fY=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ga(n);return u.jsx(Ay,{...i,...r,ref:e})});fY.displayName=dY;var hY="AlertDialogDescription",pY=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ga(n);return u.jsx(jy,{...i,...r,ref:e})});pY.displayName=hY;var Awe="AlertDialogAction",mY=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ga(n);return u.jsx(mw,{...i,...r,ref:e})});mY.displayName=Awe;var gY="AlertDialogCancel",yY=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=Pwe(gY,n),s=Ga(n),o=Ot(e,i);return u.jsx(mw,{...s,...r,ref:o})});yY.displayName=gY;var jwe=({contentRef:t})=>{const e=`\`${pf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${pf}\` by passing a \`${hY}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${pf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Ewe=oY,kwe=aY,Owe=lY,vY=cY,xY=uY,bY=mY,wY=yY,SY=fY,CY=pY;const My=Ewe,Iy=kwe,$we=Owe,NY=C.forwardRef(({className:t,...e},n)=>u.jsx(vY,{className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));NY.displayName=vY.displayName;const Ph=C.forwardRef(({className:t,...e},n)=>u.jsxs($we,{children:[u.jsx(NY,{}),u.jsx(xY,{ref:n,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Ph.displayName=xY.displayName;const Th=({className:t,...e})=>u.jsx("div",{className:se("flex flex-col space-y-2 text-center sm:text-left",t),...e});Th.displayName="AlertDialogHeader";const Ah=({className:t,...e})=>u.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ah.displayName="AlertDialogFooter";const jh=C.forwardRef(({className:t,...e},n)=>u.jsx(SY,{ref:n,className:se("text-lg font-semibold",t),...e}));jh.displayName=SY.displayName;const Eh=C.forwardRef(({className:t,...e},n)=>u.jsx(CY,{ref:n,className:se("text-sm text-muted-foreground",t),...e}));Eh.displayName=CY.displayName;const kh=C.forwardRef(({className:t,...e},n)=>u.jsx(bY,{ref:n,className:se(t$(),t),...e}));kh.displayName=bY.displayName;const Oh=C.forwardRef(({className:t,...e},n)=>u.jsx(wY,{ref:n,className:se(t$({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Oh.displayName=wY.displayName;const _we=py("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Ft({className:t,variant:e,...n}){return u.jsx("div",{className:se(_we({variant:e}),t),...n})}function K$(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var G$="Switch",[Mwe]=Hr(G$),[Iwe,Rwe]=Mwe(G$),PY=C.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:d,...h}=t,[m,g]=C.useState(null),y=Ot(e,T=>g(T)),b=C.useRef(!1),x=m?d||!!m.closest("form"):!0,[S=!1,N]=fo({prop:i,defaultProp:s,onChange:c});return u.jsxs(Iwe,{scope:n,checked:S,disabled:a,children:[u.jsx(Xe.button,{type:"button",role:"switch","aria-checked":S,"aria-required":o,"data-state":jY(S),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:y,onClick:Ee(t.onClick,T=>{N(j=>!j),x&&(b.current=T.isPropagationStopped(),b.current||T.stopPropagation())})}),x&&u.jsx(Dwe,{control:m,bubbles:!b.current,name:r,value:l,checked:S,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});PY.displayName=G$;var TY="SwitchThumb",AY=C.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Rwe(TY,n);return u.jsx(Xe.span,{"data-state":jY(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});AY.displayName=TY;var Dwe=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=C.useRef(null),o=K$(n),a=$O(e);return C.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&h){const m=new Event("click",{bubbles:r});h.call(l,n),l.dispatchEvent(m)}},[o,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function jY(t){return t?"checked":"unchecked"}var EY=PY,Lwe=AY;const rg=C.forwardRef(({className:t,...e},n)=>u.jsx(EY,{className:se("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:u.jsx(Lwe,{className:se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));rg.displayName=EY.displayName;var Q$="Popover",[kY]=Hr(Q$,[mc]),Ry=mc(),[Fwe,vc]=kY(Q$),OY=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,a=Ry(e),l=C.useRef(null),[c,d]=C.useState(!1),[h=!1,m]=fo({prop:r,defaultProp:i,onChange:s});return u.jsx(Jb,{...a,children:u.jsx(Fwe,{scope:e,contentId:es(),triggerRef:l,open:h,onOpenChange:m,onOpenToggle:C.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:c,onCustomAnchorAdd:C.useCallback(()=>d(!0),[]),onCustomAnchorRemove:C.useCallback(()=>d(!1),[]),modal:o,children:n})})};OY.displayName=Q$;var $Y="PopoverAnchor",Bwe=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=vc($Y,n),s=Ry(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=i;return C.useEffect(()=>(o(),()=>a()),[o,a]),u.jsx(yy,{...s,...r,ref:e})});Bwe.displayName=$Y;var _Y="PopoverTrigger",MY=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=vc(_Y,n),s=Ry(n),o=Ot(e,i.triggerRef),a=u.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":FY(i.open),...r,ref:o,onClick:Ee(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:u.jsx(yy,{asChild:!0,...s,children:a})});MY.displayName=_Y;var Y$="PopoverPortal",[Vwe,zwe]=kY(Y$,{forceMount:void 0}),IY=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=vc(Y$,e);return u.jsx(Vwe,{scope:e,forceMount:n,children:u.jsx(Di,{present:n||s.open,children:u.jsx(yh,{asChild:!0,container:i,children:r})})})};IY.displayName=Y$;var _f="PopoverContent",RY=C.forwardRef((t,e)=>{const n=zwe(_f,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=vc(_f,t.__scopePopover);return u.jsx(Di,{present:r||s.open,children:s.modal?u.jsx(qwe,{...i,ref:e}):u.jsx(Hwe,{...i,ref:e})})});RY.displayName=_f;var Uwe=tc("PopoverContent.RemoveScroll"),qwe=C.forwardRef((t,e)=>{const n=vc(_f,t.__scopePopover),r=C.useRef(null),i=Ot(e,r),s=C.useRef(!1);return C.useEffect(()=>{const o=r.current;if(o)return dw(o)},[]),u.jsx(wy,{as:Uwe,allowPinchZoom:!0,children:u.jsx(DY,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,o=>{o.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Ee(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Hwe=C.forwardRef((t,e)=>{const n=vc(_f,t.__scopePopover),r=C.useRef(!1),i=C.useRef(!1);return u.jsx(DY,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;n.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),DY=C.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...h}=t,m=vc(_f,n),g=Ry(n);return lw(),u.jsx(by,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:u.jsx(Ku,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:u.jsx(ew,{"data-state":FY(m.open),role:"dialog",id:m.contentId,...g,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),LY="PopoverClose",Wwe=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=vc(LY,n);return u.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Ee(t.onClick,()=>i.onOpenChange(!1))})});Wwe.displayName=LY;var Kwe="PopoverArrow",Gwe=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Ry(n);return u.jsx(tw,{...i,...r,ref:e})});Gwe.displayName=Kwe;function FY(t){return t?"open":"closed"}var Qwe=OY,Ywe=MY,Xwe=IY,BY=RY;const ig=Qwe,sg=Ywe,Mf=C.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>u.jsx(Xwe,{children:u.jsx(BY,{ref:i,align:e,sideOffset:n,className:se("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));Mf.displayName=BY.displayName;const Zwe=gn({username:gt().min(3,"Must be at least 3 characters").refine(t=>!!(!t||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||/^[a-zA-Z0-9_-]+$/.test(t)),"Must be a valid email (e.g., alex@example.com) or username (e.g., alex_smith)").optional(),firstName:gt().min(1,"First name is required"),school:gt().optional(),year:gt().optional(),interestedInTests:Dr(gt()).min(1,"Please select at least one test type"),interestedInTestAreas:Dr(gt()).default([])});function Jwe(){const{data:t,isLoading:e}=Ka(),n=Fme(),r=Dme(),i=Lme(),[s,o]=C.useState(!1),[a,l]=C.useState(null),[c,d]=C.useState(!1),{toast:h}=Gn(),{data:m=[],isLoading:g}=pt({queryKey:["/api/test-types"]}),{data:y=[],isLoading:b}=pt({queryKey:["/api/test-areas"]}),x=q$({resolver:H$(Zwe),defaultValues:{username:"",firstName:"",school:"",year:"",interestedInTests:[],interestedInTestAreas:[]}}),S=x.watch("interestedInTests"),N=x.watch("firstName");x.watch("username");const T=m.filter($=>$.isActive).map($=>$.name),j=y.filter($=>$.isActive&&S.includes(m.find(B=>B.id===$.testTypeId)?.name||"")).map($=>$.name);C.useEffect(()=>{if(!a&&N&&!c){const $=N.toLowerCase().trim().replace(/\s+/g,"_").replace(/[^a-z0-9_-]/g,"");$&&x.setValue("username",$,{shouldValidate:!1})}},[N,a,c,x]),C.useEffect(()=>{(!s||a)&&d(!1)},[s,a]);const P=async $=>{try{a?(await r.mutateAsync({id:a.id,firstName:$.firstName,school:$.school,year:$.year,interestedInTests:$.interestedInTests,interestedInTestAreas:$.interestedInTestAreas}),h({title:"Success",description:"Student updated successfully."})):(await n.mutateAsync($),h({title:"Success",description:"Student account created successfully."})),o(!1),l(null),x.reset()}catch(B){h({title:"Error",description:B.message||"Operation failed.",variant:"destructive"})}},E=$=>{l($),x.reset({firstName:$.firstName,school:$.profile.school||"",year:$.profile.year||"",interestedInTests:$.profile.interestedInTests||[],interestedInTestAreas:$.profile.interestedInTestAreas||[]}),o(!0)},O=async $=>{try{await i.mutateAsync($),h({title:"Success",description:"Student deleted."})}catch(B){h({title:"Error",description:B.message,variant:"destructive"})}},_=async $=>{try{await r.mutateAsync({id:$.id,isActive:!$.profile.isActive}),h({title:"Success",description:`Student is now ${$.profile.isActive?"inactive":"active"}.`})}catch(B){h({title:"Error",description:B.message,variant:"destructive"})}};return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold text-foreground",children:"Students"}),u.jsx("p",{className:"text-sm md:text-base text-muted-foreground mt-1",children:"Manage your children's learning accounts."})]}),u.jsxs(zr,{open:s,onOpenChange:$=>{o($),$||(l(null),x.reset())},children:[u.jsx(Aa,{asChild:!0,children:u.jsxs("button",{className:"flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl font-semibold bg-primary text-primary-foreground shadow-lg shadow-primary/25 hover:shadow-xl hover:-translate-y-0.5 transition-all w-full md:w-auto whitespace-nowrap",children:[u.jsx(Rce,{className:"w-4 h-4"}),"Add Student"]})}),u.jsxs(Cr,{children:[u.jsx(Nr,{children:u.jsx(Pr,{children:a?"Edit Student":"Add New Student"})}),u.jsx(W$,{...x,children:u.jsxs("form",{onSubmit:x.handleSubmit(P),className:"space-y-4 pt-4",children:[u.jsx(gi,{control:x.control,name:"firstName",render:({field:$})=>u.jsxs(ei,{children:[u.jsxs(ti,{className:"flex items-center gap-2",children:["First Name",u.jsx("span",{className:"text-xs font-normal text-muted-foreground",children:"(Required for test verification)"})]}),u.jsx(ni,{children:u.jsx(ut,{placeholder:"Alex",...$})}),u.jsx(ri,{}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"This name will be used to verify the student's identity when taking assigned tests."})]})}),!a&&u.jsx(gi,{control:x.control,name:"username",render:({field:$})=>u.jsxs(ei,{children:[u.jsxs(ti,{className:"flex items-center gap-2",children:["Email or Username",u.jsx("span",{className:"text-xs font-normal text-muted-foreground",children:"(Used for test verification)"})]}),u.jsx(ni,{children:u.jsx(ut,{placeholder:"alex_smith or alex@example.com",...$,onChange:B=>{$.onChange(B),d(!0)}})}),u.jsx(ri,{}),u.jsx("div",{className:"space-y-1",children:u.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-500 font-medium",children:" Important: Students must enter this exact name/email when taking tests assigned to them."})})]})}),u.jsx(gi,{control:x.control,name:"school",render:({field:$})=>u.jsxs(ei,{children:[u.jsx(ti,{children:"School (Optional)"}),u.jsx(ni,{children:u.jsx(ut,{placeholder:"Green Valley High",...$})}),u.jsx(ri,{})]})}),u.jsx(gi,{control:x.control,name:"year",render:({field:$})=>u.jsxs(ei,{children:[u.jsx(ti,{children:"Year/Grade"}),u.jsx(ni,{children:u.jsx(ut,{placeholder:"Year 7",...$})}),u.jsx(ri,{})]})}),u.jsx(gi,{control:x.control,name:"interestedInTests",render:({field:$})=>u.jsxs(ei,{className:"flex flex-col",children:[u.jsx(ti,{children:"Interested In Tests (Mandatory)"}),u.jsxs(ig,{children:[u.jsx(sg,{asChild:!0,children:u.jsx(ni,{children:u.jsxs(ce,{variant:"outline",role:"combobox",className:se("w-full justify-between h-auto min-h-9 px-3 py-2",!$.value?.length&&"text-muted-foreground"),disabled:g,children:[u.jsx("div",{className:"flex flex-wrap gap-1",children:$.value?.length>0?$.value.map(B=>u.jsxs(Ft,{variant:"secondary",className:"mr-1 mb-1",onClick:I=>{I.stopPropagation(),$.onChange($.value.filter(V=>V!==B))},children:[B,u.jsx(Ra,{className:"ml-1 h-3 w-3 hover:text-destructive"})]},B)):u.jsx("span",{children:"Select interests..."})}),g?u.jsx(mt,{className:"h-4 w-4 animate-spin opacity-50"}):u.jsx(Ma,{className:"h-4 w-4 opacity-50 shrink-0"})]})})}),u.jsx(Mf,{className:"w-[400px] p-0",align:"start",children:u.jsxs("div",{className:"p-2 space-y-1",children:[T.length===0&&!g&&u.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No test types available."}),T.map(B=>u.jsxs("div",{className:se("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",$.value?.includes(B)&&"bg-accent/50"),onClick:()=>{const I=$.value||[],V=I.includes(B)?I.filter(U=>U!==B):[...I,B];$.onChange(V)},children:[u.jsx("div",{className:se("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",$.value?.includes(B)?"bg-primary text-primary-foreground":"opacity-50"),children:$.value?.includes(B)&&u.jsx(ho,{className:"h-3 w-3"})}),B]},B))]})})]}),u.jsx(ri,{})]})}),u.jsx(gi,{control:x.control,name:"interestedInTestAreas",render:({field:$})=>u.jsxs(ei,{className:"flex flex-col",children:[u.jsx(ti,{children:"Interested In Test Areas (Optional)"}),u.jsxs(ig,{children:[u.jsx(sg,{asChild:!0,children:u.jsx(ni,{children:u.jsxs(ce,{variant:"outline",role:"combobox",className:se("w-full justify-between h-auto min-h-9 px-3 py-2",!$.value?.length&&"text-muted-foreground"),disabled:b||!S.length,children:[u.jsx("div",{className:"flex flex-wrap gap-1",children:$.value?.length>0?$.value.map(B=>u.jsxs(Ft,{variant:"secondary",className:"mr-1 mb-1",onClick:I=>{I.stopPropagation(),$.onChange($.value.filter(V=>V!==B))},children:[B,u.jsx(Ra,{className:"ml-1 h-3 w-3 hover:text-destructive"})]},B)):u.jsx("span",{children:S.length?"Select test areas...":"Select test types first"})}),b?u.jsx(mt,{className:"h-4 w-4 animate-spin opacity-50"}):u.jsx(Ma,{className:"h-4 w-4 opacity-50 shrink-0"})]})})}),u.jsx(Mf,{className:"w-[400px] p-0",align:"start",children:u.jsxs("div",{className:"p-2 space-y-1 max-h-[300px] overflow-y-auto",children:[j.length===0&&!b&&u.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:S.length?"No areas available for selected tests.":"Please select at least one test type above."}),j.map(B=>u.jsxs("div",{className:se("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",$.value?.includes(B)&&"bg-accent/50"),onClick:()=>{const I=$.value||[],V=I.includes(B)?I.filter(U=>U!==B):[...I,B];$.onChange(V)},children:[u.jsx("div",{className:se("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",$.value?.includes(B)?"bg-primary text-primary-foreground":"opacity-50"),children:$.value?.includes(B)&&u.jsx(ho,{className:"h-3 w-3"})}),B]},B))]})})]}),u.jsx(ri,{})]})}),u.jsx(ce,{type:"submit",className:"w-full",disabled:n.isPending||r.isPending,children:a?"Update Student":"Create Account"})]})})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e?Array(3).fill(0).map(($,B)=>u.jsx("div",{className:"h-64 bg-muted animate-pulse rounded-2xl"},B)):t?.length===0?u.jsxs("div",{className:"col-span-full py-12 text-center bg-card rounded-2xl border border-dashed border-border",children:[u.jsx(Io,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4 opacity-20"}),u.jsx("h3",{className:"text-lg font-bold",children:"No students yet"}),u.jsx("p",{className:"text-muted-foreground",children:"Add your first student to get started."})]}):t?.map($=>u.jsxs("div",{className:"bg-card p-6 rounded-2xl border border-border shadow-sm hover:shadow-md transition-all group relative",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold text-xl",children:$.firstName[0]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>E($),children:u.jsx(Sce,{className:"w-4 h-4"})}),u.jsxs(My,{children:[u.jsx(Iy,{asChild:!0,children:u.jsx(ce,{variant:"ghost",size:"icon",className:"text-destructive",children:u.jsx(Gb,{className:"w-4 h-4"})})}),u.jsxs(Ph,{children:[u.jsxs(Th,{children:[u.jsx(jh,{children:"Are you sure?"}),u.jsx(Eh,{children:"This will permanently delete the student account and all their progress."})]}),u.jsxs(Ah,{children:[u.jsx(Oh,{children:"Cancel"}),u.jsx(kh,{onClick:()=>O($.id),className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})]})]})]}),u.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[$.firstName,$.profile.isActive?u.jsx(Ece,{className:"w-4 h-4 text-green-500"}):u.jsx(jce,{className:"w-4 h-4 text-muted-foreground"})]}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:$.email?$.email.endsWith("@student.local")?`@${$.email.replace("@student.local","")}`:$.email:"No email"}),u.jsxs("div",{className:"mt-4 space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"School:"}),u.jsx("span",{className:"font-medium",children:$.profile.school||"Not set"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Year:"}),u.jsx("span",{className:"font-medium",children:$.profile.year||"Not set"})]})]}),u.jsxs("div",{className:"mt-6 pt-6 border-t border-border flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(rg,{checked:$.profile.isActive,onCheckedChange:()=>_($)}),u.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:$.profile.isActive?"Active":"Inactive"})]}),u.jsx(Ft,{variant:$.profile.isActive?"default":"secondary",children:"Student"})]})]},$.id))})]})}var X$="ContextMenu",[e2e]=Hr(X$,[hw]),Pi=hw(),[t2e,VY]=e2e(X$),zY=t=>{const{__scopeContextMenu:e,children:n,onOpenChange:r,dir:i,modal:s=!0}=t,[o,a]=C.useState(!1),l=Pi(e),c=fr(r),d=C.useCallback(h=>{a(h),c(h)},[c]);return u.jsx(t2e,{scope:e,open:o,onOpenChange:d,modal:s,children:u.jsx(WW,{...l,dir:i,open:o,onOpenChange:d,modal:s,children:n})})};zY.displayName=X$;var UY="ContextMenuTrigger",qY=C.forwardRef((t,e)=>{const{__scopeContextMenu:n,disabled:r=!1,...i}=t,s=VY(UY,n),o=Pi(n),a=C.useRef({x:0,y:0}),l=C.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...a.current})}),c=C.useRef(0),d=C.useCallback(()=>window.clearTimeout(c.current),[]),h=m=>{a.current={x:m.clientX,y:m.clientY},s.onOpenChange(!0)};return C.useEffect(()=>d,[d]),C.useEffect(()=>{r&&d()},[r,d]),u.jsxs(u.Fragment,{children:[u.jsx(KW,{...o,virtualRef:l}),u.jsx(Xe.span,{"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,...i,ref:e,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:r?t.onContextMenu:Ee(t.onContextMenu,m=>{d(),h(m),m.preventDefault()}),onPointerDown:r?t.onPointerDown:Ee(t.onPointerDown,w0(m=>{d(),c.current=window.setTimeout(()=>h(m),700)})),onPointerMove:r?t.onPointerMove:Ee(t.onPointerMove,w0(d)),onPointerCancel:r?t.onPointerCancel:Ee(t.onPointerCancel,w0(d)),onPointerUp:r?t.onPointerUp:Ee(t.onPointerUp,w0(d))})]})});qY.displayName=UY;var n2e="ContextMenuPortal",HY=t=>{const{__scopeContextMenu:e,...n}=t,r=Pi(e);return u.jsx(GW,{...r,...n})};HY.displayName=n2e;var WY="ContextMenuContent",KY=C.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=VY(WY,n),s=Pi(n),o=C.useRef(!1);return u.jsx(QW,{...s,...r,ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),!a.defaultPrevented&&o.current&&a.preventDefault(),o.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),!a.defaultPrevented&&!i.modal&&(o.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});KY.displayName=WY;var r2e="ContextMenuGroup",i2e=C.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Pi(n);return u.jsx(YW,{...i,...r,ref:e})});i2e.displayName=r2e;var s2e="ContextMenuLabel",GY=C.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Pi(n);return u.jsx(XW,{...i,...r,ref:e})});GY.displayName=s2e;var o2e="ContextMenuItem",QY=C.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Pi(n);return u.jsx(ZW,{...i,...r,ref:e})});QY.displayName=o2e;var a2e="ContextMenuCheckboxItem",YY=C.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Pi(n);return u.jsx(JW,{...i,...r,ref:e})});YY.displayName=a2e;var l2e="ContextMenuRadioGroup",c2e=C.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Pi(n);return u.jsx(eK,{...i,...r,ref:e})});c2e.displayName=l2e;var u2e="ContextMenuRadioItem",XY=C.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Pi(n);return u.jsx(tK,{...i,...r,ref:e})});XY.displayName=u2e;var d2e="ContextMenuItemIndicator",ZY=C.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Pi(n);return u.jsx(nK,{...i,...r,ref:e})});ZY.displayName=d2e;var f2e="ContextMenuSeparator",JY=C.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Pi(n);return u.jsx(rK,{...i,...r,ref:e})});JY.displayName=f2e;var h2e="ContextMenuArrow",p2e=C.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Pi(n);return u.jsx(iK,{...i,...r,ref:e})});p2e.displayName=h2e;var m2e="ContextMenuSubTrigger",eX=C.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Pi(n);return u.jsx(sK,{...i,...r,ref:e})});eX.displayName=m2e;var g2e="ContextMenuSubContent",tX=C.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Pi(n);return u.jsx(oK,{...i,...r,ref:e,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tX.displayName=g2e;function w0(t){return e=>e.pointerType!=="mouse"?t(e):void 0}var y2e=zY,v2e=qY,x2e=HY,nX=KY,rX=GY,iX=QY,sX=YY,oX=XY,aX=ZY,lX=JY,cX=eX,uX=tX;const dX=y2e,fX=v2e,b2e=C.forwardRef(({className:t,inset:e,children:n,...r},i)=>u.jsxs(cX,{ref:i,className:se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e&&"pl-8",t),...r,children:[n,u.jsx(Go,{className:"ml-auto h-4 w-4"})]}));b2e.displayName=cX.displayName;const w2e=C.forwardRef(({className:t,...e},n)=>u.jsx(uX,{ref:n,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",t),...e}));w2e.displayName=uX.displayName;const Z$=C.forwardRef(({className:t,...e},n)=>u.jsx(x2e,{children:u.jsx(nX,{ref:n,className:se("z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",t),...e})}));Z$.displayName=nX.displayName;const hu=C.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(iX,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));hu.displayName=iX.displayName;const S2e=C.forwardRef(({className:t,children:e,checked:n,...r},i)=>u.jsxs(sX,{ref:i,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(aX,{children:u.jsx(ho,{className:"h-4 w-4"})})}),e]}));S2e.displayName=sX.displayName;const C2e=C.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(oX,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(aX,{children:u.jsx(Bq,{className:"h-2 w-2 fill-current"})})}),e]}));C2e.displayName=oX.displayName;const N2e=C.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(rX,{ref:r,className:se("px-2 py-1.5 text-sm font-semibold text-foreground",e&&"pl-8",t),...n}));N2e.displayName=rX.displayName;const J$=C.forwardRef(({className:t,...e},n)=>u.jsx(lX,{ref:n,className:se("-mx-1 my-1 h-px bg-border",t),...e}));J$.displayName=lX.displayName;const P2e=["#6366f1","#8b5cf6","#ec4899","#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#06b6d4","#3b82f6","#64748b"];function hX({folder:t,allFolders:e,selectedFolderId:n,onSelectFolder:r,onEditFolder:i,onDeleteFolder:s,onAddSubfolder:o,expandedFolders:a,toggleExpanded:l,questionsFolderEnable:c}){const d=e.filter(b=>b.parentFolderId===t.id),h=d.length>0,m=a.has(t.id),g=n===t.id,y=t.level<5;return u.jsxs("div",{className:"select-none",children:[u.jsxs(dX,{children:[u.jsx(fX,{asChild:!0,children:u.jsxs("div",{"data-testid":`folder-node-${t.id}`,className:se("flex items-center gap-1 px-2 py-1.5 rounded-md cursor-pointer hover-elevate",g&&"bg-accent"),onClick:()=>r(t.id),style:{paddingLeft:`${(t.level-1)*16+8}px`},children:[h&&c?u.jsx("button",{"data-testid":`folder-expand-${t.id}`,className:"p-0.5 hover:bg-accent/50 rounded",onClick:b=>{b.stopPropagation(),l(t.id)},children:m?u.jsx(Ma,{className:"h-4 w-4 text-muted-foreground"}):u.jsx(Go,{className:"h-4 w-4 text-muted-foreground"})}):u.jsx("span",{className:"w-5"}),m&&h?u.jsx(ace,{className:"h-4 w-4 flex-shrink-0",style:{color:t.color||"#6366f1"}}):u.jsx(xO,{className:"h-4 w-4 flex-shrink-0",style:{color:t.color||"#6366f1"}}),u.jsx("span",{className:"text-sm truncate flex-1",children:t.name})]})}),u.jsxs(Z$,{children:[y&&c&&u.jsxs(hu,{"data-testid":`folder-menu-add-${t.id}`,onClick:()=>o(t.id,t.level),children:[u.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Add Subfolder"]}),u.jsxs(hu,{"data-testid":`folder-menu-edit-${t.id}`,onClick:()=>i(t),children:[u.jsx(hx,{className:"h-4 w-4 mr-2"}),"Rename / Change Color"]}),u.jsx(J$,{}),u.jsxs(hu,{"data-testid":`folder-menu-delete-${t.id}`,className:"text-destructive focus:text-destructive",onClick:()=>s(t.id),children:[u.jsx(Gb,{className:"h-4 w-4 mr-2"}),"Delete Folder"]})]})]}),m&&h&&c&&u.jsx("div",{children:d.map(b=>u.jsx(hX,{folder:b,allFolders:e,selectedFolderId:n,onSelectFolder:r,onEditFolder:i,onDeleteFolder:s,onAddSubfolder:o,expandedFolders:a,toggleExpanded:l,questionsFolderEnable:c},b.id))})]})}function T2e({selectedFolderId:t,onSelectFolder:e}){const{toast:n}=Gn(),[r,i]=C.useState(new Set),[s,o]=C.useState(!1),[a,l]=C.useState(null),[c,d]=C.useState(""),[h,m]=C.useState("#6366f1"),[g,y]=C.useState(null),{data:b=[],isLoading:x}=pt({queryKey:["/api/folders"]}),{data:S}=pt({queryKey:["/api/config"],staleTime:3600*1e3}),N=S?.questionsFolderEnable??!1,T=dt({mutationFn:U=>$t("POST","/api/folders",U),onSuccess:()=>{ba.invalidateQueries({queryKey:["/api/folders"]}),o(!1),y(null),d(""),n({title:"Folder created successfully"})},onError:()=>{n({title:"Failed to create folder",variant:"destructive"})}}),j=dt({mutationFn:({id:U,data:L})=>$t("PUT",`/api/folders/${U}`,L),onSuccess:()=>{ba.invalidateQueries({queryKey:["/api/folders"]}),o(!1),l(null),n({title:"Folder updated successfully"})},onError:()=>{n({title:"Failed to update folder",variant:"destructive"})}}),P=dt({mutationFn:U=>$t("DELETE",`/api/folders/${U}`),onSuccess:()=>{ba.invalidateQueries({queryKey:["/api/folders"]}),ba.invalidateQueries({queryKey:["/api/questions"]}),t&&e(null),n({title:"Folder deleted successfully"})},onError:()=>{n({title:"Failed to delete folder",variant:"destructive"})}}),E=C.useCallback(U=>{i(L=>{const z=new Set(L);return z.has(U)?z.delete(U):z.add(U),z})},[]),O=U=>{l(U),d(U.name),m(U.color||"#6366f1"),y(null),o(!0)},_=(U,L)=>{y({parentFolderId:U,level:L+1}),l(null),d(""),m("#6366f1"),o(!0),i(z=>new Set([...Array.from(z),U]))},$=()=>{y({parentFolderId:null,level:1}),l(null),d(""),m("#6366f1"),o(!0)},B=U=>{confirm("Are you sure you want to delete this folder? Questions inside will be moved to 'Uncategorized'.")&&P.mutate(U)},I=()=>{if(!c.trim()){n({title:"Please enter a folder name",variant:"destructive"});return}a?j.mutate({id:a.id,data:{name:c.trim(),color:h}}):g&&T.mutate({name:c.trim(),color:h,parentFolderId:g.parentFolderId})},V=b.filter(U=>!U.parentFolderId);return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[u.jsx("span",{className:"text-sm font-medium",children:"Folders"}),N&&u.jsx(ce,{"data-testid":"button-add-root-folder",size:"icon",variant:"ghost",onClick:$,children:u.jsx(Ia,{className:"h-4 w-4"})})]}),N&&u.jsxs("div",{className:"flex-1 overflow-y-auto p-1",children:[u.jsxs("div",{"data-testid":"folder-all-questions",className:se("flex items-center gap-2 px-2 py-1.5 rounded-md cursor-pointer hover-elevate",t===null&&"bg-accent"),onClick:()=>e(null),children:[u.jsx(xO,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{className:"text-sm",children:"All Questions"})]}),x?u.jsx("div",{className:"flex items-center justify-center py-4",children:u.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})}):V.map(U=>u.jsx(hX,{folder:U,allFolders:b,selectedFolderId:t,onSelectFolder:e,onEditFolder:O,onDeleteFolder:B,onAddSubfolder:_,expandedFolders:r,toggleExpanded:E,questionsFolderEnable:N},U.id))]}),u.jsx(zr,{open:s,onOpenChange:o,children:u.jsxs(Cr,{children:[u.jsx(Nr,{children:u.jsx(Pr,{children:a?"Edit Folder":"Create New Folder"})}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"folder-name",children:"Folder Name"}),u.jsx(ut,{id:"folder-name","data-testid":"input-folder-name",value:c,onChange:U=>d(U.target.value),placeholder:"Enter folder name",onKeyDown:U=>{U.key==="Enter"&&I()}})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{children:"Folder Color"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:P2e.map(U=>u.jsx("button",{"data-testid":`color-option-${U}`,className:se("w-8 h-8 rounded-md transition-all",h===U&&"ring-2 ring-offset-2 ring-primary"),style:{backgroundColor:U},onClick:()=>m(U)},U))})]})]}),u.jsxs(_u,{children:[u.jsx(ce,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),u.jsx(ce,{"data-testid":"button-save-folder",onClick:I,disabled:T.isPending||j.isPending,children:T.isPending||j.isPending?"Saving...":a?"Save Changes":"Create Folder"})]})]})})]})}var A2e=Object.defineProperty,j2e=(t,e,n)=>e in t?A2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cn=(t,e,n)=>j2e(t,typeof e!="symbol"?e+"":e,n);const Bx={x:0,y:0,width:0,height:0,unit:"px"},$d=(t,e,n)=>Math.min(Math.max(t,e),n),E2e=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),g8=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function k2e(t,e,n,r){const i=Ao(t,n,r);return t.width&&(i.height=i.width/e),t.height&&(i.width=i.height*e),i.y+i.height>r&&(i.height=r-i.y,i.width=i.height*e),i.x+i.width>n&&(i.width=n-i.x,i.height=i.width/e),t.unit==="%"?_l(i,n,r):i}function O2e(t,e,n){const r=Ao(t,e,n);return r.x=(e-r.width)/2,r.y=(n-r.height)/2,t.unit==="%"?_l(r,e,n):r}function _l(t,e,n){return t.unit==="%"?{...Bx,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/n*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/n*100:0}}function Ao(t,e,n){return t.unit?t.unit==="px"?{...Bx,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*n/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*n/100:0}:{...Bx,...t,unit:"px"}}function y8(t,e,n,r,i,s=0,o=0,a=r,l=i){const c={...t};let d=Math.min(s,r),h=Math.min(o,i),m=Math.min(a,r),g=Math.min(l,i);e&&(e>1?(d=o?o*e:d,h=d/e,m=a*e):(h=s?s/e:h,d=h*e,g=l/e)),c.y<0&&(c.height=Math.max(c.height+c.y,h),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,d),c.x=0);const y=r-(c.x+c.width);y<0&&(c.x=Math.min(c.x,r-d),c.width+=y);const b=i-(c.y+c.height);if(b<0&&(c.y=Math.min(c.y,i-h),c.height+=b),c.width<d&&((n==="sw"||n=="nw")&&(c.x-=d-c.width),c.width=d),c.height<h&&((n==="nw"||n=="ne")&&(c.y-=h-c.height),c.height=h),c.width>m&&((n==="sw"||n=="nw")&&(c.x-=m-c.width),c.width=m),c.height>g&&((n==="nw"||n=="ne")&&(c.y-=g-c.height),c.height=g),e){const x=c.width/c.height;if(x<e){const S=Math.max(c.width/e,h);(n==="nw"||n=="ne")&&(c.y-=S-c.height),c.height=S}else if(x>e){const S=Math.max(c.height*e,d);(n==="sw"||n=="nw")&&(c.x-=S-c.width),c.width=S}}return c}function $2e(t,e,n,r){const i={...t};return e==="ArrowLeft"?r==="nw"?(i.x-=n,i.y-=n,i.width+=n,i.height+=n):r==="w"?(i.x-=n,i.width+=n):r==="sw"?(i.x-=n,i.width+=n,i.height+=n):r==="ne"?(i.y+=n,i.width-=n,i.height-=n):r==="e"?i.width-=n:r==="se"&&(i.width-=n,i.height-=n):e==="ArrowRight"&&(r==="nw"?(i.x+=n,i.y+=n,i.width-=n,i.height-=n):r==="w"?(i.x+=n,i.width-=n):r==="sw"?(i.x+=n,i.width-=n,i.height-=n):r==="ne"?(i.y-=n,i.width+=n,i.height+=n):r==="e"?i.width+=n:r==="se"&&(i.width+=n,i.height+=n)),e==="ArrowUp"?r==="nw"?(i.x-=n,i.y-=n,i.width+=n,i.height+=n):r==="n"?(i.y-=n,i.height+=n):r==="ne"?(i.y-=n,i.width+=n,i.height+=n):r==="sw"?(i.x+=n,i.width-=n,i.height-=n):r==="s"?i.height-=n:r==="se"&&(i.width-=n,i.height-=n):e==="ArrowDown"&&(r==="nw"?(i.x+=n,i.y+=n,i.width-=n,i.height-=n):r==="n"?(i.y+=n,i.height-=n):r==="ne"?(i.y+=n,i.width-=n,i.height-=n):r==="sw"?(i.x-=n,i.width+=n,i.height+=n):r==="s"?i.height+=n:r==="se"&&(i.width+=n,i.height+=n)),i}const _d={capture:!0,passive:!1};let _2e=0;const Ol=class Hs extends C.PureComponent{constructor(){super(...arguments),Cn(this,"docMoveBound",!1),Cn(this,"mouseDownOnCrop",!1),Cn(this,"dragStarted",!1),Cn(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Cn(this,"componentRef",C.createRef()),Cn(this,"mediaRef",C.createRef()),Cn(this,"resizeObserver"),Cn(this,"initChangeCalled",!1),Cn(this,"instanceId",`rc-${_2e++}`),Cn(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Cn(this,"onCropPointerDown",e=>{const{crop:n,disabled:r}=this.props,i=this.getBox();if(!n)return;const s=Ao(n,i.width,i.height);if(r)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const o=e.target.dataset.ord,a=!!o;let l=e.clientX,c=e.clientY,d=s.x,h=s.y;if(o){const m=e.clientX-i.x,g=e.clientY-i.y;let y=0,b=0;o==="ne"||o=="e"?(y=m-(s.x+s.width),b=g-s.y,d=s.x,h=s.y+s.height):o==="se"||o==="s"?(y=m-(s.x+s.width),b=g-(s.y+s.height),d=s.x,h=s.y):o==="sw"||o=="w"?(y=m-s.x,b=g-(s.y+s.height),d=s.x+s.width,h=s.y):(o==="nw"||o=="n")&&(y=m-s.x,b=g-s.y,d=s.x+s.width,h=s.y+s.height),l=d+i.x+y,c=h+i.y+b}this.evData={startClientX:l,startClientY:c,startCropX:d,startCropY:h,clientX:e.clientX,clientY:e.clientY,isResize:a,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Cn(this,"onComponentPointerDown",e=>{const{crop:n,disabled:r,locked:i,keepSelection:s,onChange:o}=this.props,a=this.getBox();if(r||i||s&&n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const l=e.clientX-a.x,c=e.clientY-a.y,d={unit:"px",x:l,y:c,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:l,startCropY:c,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(Ao(d,a.width,a.height),_l(d,a.width,a.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Cn(this,"onDocPointerMove",e=>{const{crop:n,disabled:r,onChange:i,onDragStart:s}=this.props,o=this.getBox();if(r||!n||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,s&&s(e));const{evData:a}=this;a.clientX=e.clientX,a.clientY=e.clientY;let l;a.isResize?l=this.resizeCrop():l=this.dragCrop(),g8(n,l)||i(Ao(l,o.width,o.height),_l(l,o.width,o.height))}),Cn(this,"onComponentKeyDown",e=>{const{crop:n,disabled:r,onChange:i,onComplete:s}=this.props;if(r)return;const o=e.key;let a=!1;if(!n)return;const l=this.getBox(),c=this.makePixelCrop(l),d=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Hs.nudgeStepLarge:e.shiftKey?Hs.nudgeStepMedium:Hs.nudgeStep;if(o==="ArrowLeft"?(c.x-=d,a=!0):o==="ArrowRight"?(c.x+=d,a=!0):o==="ArrowUp"?(c.y-=d,a=!0):o==="ArrowDown"&&(c.y+=d,a=!0),a){e.cancelable&&e.preventDefault(),c.x=$d(c.x,0,l.width-c.width),c.y=$d(c.y,0,l.height-c.height);const h=Ao(c,l.width,l.height),m=_l(c,l.width,l.height);i(h,m),s&&s(h,m)}}),Cn(this,"onHandlerKeyDown",(e,n)=>{const{aspect:r=0,crop:i,disabled:s,minWidth:o=0,minHeight:a=0,maxWidth:l,maxHeight:c,onChange:d,onComplete:h}=this.props,m=this.getBox();if(s||!i)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const g=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Hs.nudgeStepLarge:e.shiftKey?Hs.nudgeStepMedium:Hs.nudgeStep,y=Ao(i,m.width,m.height),b=$2e(y,e.key,g,n),x=y8(b,r,n,m.width,m.height,o,a,l,c);if(!g8(i,x)){const S=_l(x,m.width,m.height);d(x,S),h&&h(x,S)}}),Cn(this,"onDocPointerDone",e=>{const{crop:n,disabled:r,onComplete:i,onDragEnd:s}=this.props,o=this.getBox();this.unbindDocMove(),!(r||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,s&&s(e),i&&i(Ao(n,o.width,o.height),_l(n,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Cn(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:n,y:r,width:i,height:s}=e.getBoundingClientRect();return{x:n,y:r,width:i,height:s}}componentDidUpdate(e){const{crop:n,onComplete:r}=this.props;if(r&&!e.crop&&n){const{width:i,height:s}=this.getBox();i&&s&&r(Ao(n,i,s),_l(n,i,s))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,_d),this.document.addEventListener("pointerup",this.onDocPointerDone,_d),this.document.addEventListener("pointercancel",this.onDocPointerDone,_d),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,_d),this.document.removeEventListener("pointerup",this.onDocPointerDone,_d),this.document.removeEventListener("pointercancel",this.onDocPointerDone,_d),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,n=this.getBox(),r=this.makePixelCrop(n),i=e.clientX-e.startClientX,s=e.clientY-e.startClientY;return r.x=$d(e.startCropX+i,0,n.width-r.width),r.y=$d(e.startCropY+s,0,n.height-r.height),r}getPointRegion(e,n,r,i){const{evData:s}=this,o=s.clientX-e.x,a=s.clientY-e.y;let l;i&&n?l=n==="nw"||n==="n"||n==="ne":l=a<s.startCropY;let c;return r&&n?c=n==="nw"||n==="w"||n==="sw":c=o<s.startCropX,c?l?"nw":"sw":l?"ne":"se"}resolveMinDimensions(e,n,r=0,i=0){const s=Math.min(r,e.width),o=Math.min(i,e.height);return!n||!s&&!o?[s,o]:n>1?s?[s,s/n]:[o*n,o]:o?[o*n,o]:[s,s/n]}resizeCrop(){const{evData:e}=this,{aspect:n=0,maxWidth:r,maxHeight:i}=this.props,s=this.getBox(),[o,a]=this.resolveMinDimensions(s,n,this.props.minWidth,this.props.minHeight);let l=this.makePixelCrop(s);const c=this.getPointRegion(s,e.ord,o,a),d=e.ord||c;let h=e.clientX-e.startClientX,m=e.clientY-e.startClientY;(o&&d==="nw"||d==="w"||d==="sw")&&(h=Math.min(h,-o)),(a&&d==="nw"||d==="n"||d==="ne")&&(m=Math.min(m,-a));const g={unit:"px",x:0,y:0,width:0,height:0};c==="ne"?(g.x=e.startCropX,g.width=h,n?(g.height=g.width/n,g.y=e.startCropY-g.height):(g.height=Math.abs(m),g.y=e.startCropY-g.height)):c==="se"?(g.x=e.startCropX,g.y=e.startCropY,g.width=h,n?g.height=g.width/n:g.height=m):c==="sw"?(g.x=e.startCropX+h,g.y=e.startCropY,g.width=Math.abs(h),n?g.height=g.width/n:g.height=m):c==="nw"&&(g.x=e.startCropX+h,g.width=Math.abs(h),n?(g.height=g.width/n,g.y=e.startCropY-g.height):(g.height=Math.abs(m),g.y=e.startCropY+m));const y=y8(g,n,c,s.width,s.height,o,a,r,i);return n||Hs.xyOrds.indexOf(d)>-1?l=y:Hs.xOrds.indexOf(d)>-1?(l.x=y.x,l.width=y.width):Hs.yOrds.indexOf(d)>-1&&(l.y=y.y,l.height=y.height),l.x=$d(l.x,0,s.width-l.width),l.y=$d(l.y,0,s.height-l.height),l}renderCropSelection(){const{ariaLabels:e=Hs.defaultProps.ariaLabels,disabled:n,locked:r,renderSelectionAddon:i,ruleOfThirds:s,crop:o}=this.props,a=this.getCropStyle();if(o)return H.createElement("div",{style:a,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!r&&H.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},H.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),H.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),H.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),H.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),H.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"nw"),role:"button"}),H.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"n"),role:"button"}),H.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"ne"),role:"button"}),H.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"e"),role:"button"}),H.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"se"),role:"button"}),H.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"s"),role:"button"}),H.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"sw"),role:"button"}),H.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"w"),role:"button"})),i&&H.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:l=>l.stopPropagation()},i(this.state)),s&&H.createElement(H.Fragment,null,H.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),H.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const n={...Bx,...this.props.crop||{}};return Ao(n,e.width,e.height)}render(){const{aspect:e,children:n,circularCrop:r,className:i,crop:s,disabled:o,locked:a,style:l,ruleOfThirds:c}=this.props,{cropIsActive:d,newCropIsBeingDrawn:h}=this.state,m=s?this.renderCropSelection():null,g=E2e("ReactCrop",i,d&&"ReactCrop--active",o&&"ReactCrop--disabled",a&&"ReactCrop--locked",h&&"ReactCrop--new-crop",s&&e&&"ReactCrop--fixed-aspect",s&&r&&"ReactCrop--circular-crop",s&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&s&&!s.width&&!s.height&&"ReactCrop--invisible-crop",r&&"ReactCrop--no-animate");return H.createElement("div",{ref:this.componentRef,className:g,style:l},H.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),s?H.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},H.createElement("defs",null,H.createElement("mask",{id:`hole-${this.instanceId}`},H.createElement("rect",{width:"100%",height:"100%",fill:"white"}),r?H.createElement("ellipse",{cx:`${s.x+s.width/2}${s.unit}`,cy:`${s.y+s.height/2}${s.unit}`,rx:`${s.width/2}${s.unit}`,ry:`${s.height/2}${s.unit}`,fill:"black"}):H.createElement("rect",{x:`${s.x}${s.unit}`,y:`${s.y}${s.unit}`,width:`${s.width}${s.unit}`,height:`${s.height}${s.unit}`,fill:"black"}))),H.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,m)}};Cn(Ol,"xOrds",["e","w"]),Cn(Ol,"yOrds",["n","s"]),Cn(Ol,"xyOrds",["nw","ne","se","sw"]),Cn(Ol,"nudgeStep",1),Cn(Ol,"nudgeStepMedium",10),Cn(Ol,"nudgeStepLarge",100),Cn(Ol,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let M2e=Ol;function iN(t,e,n){return O2e(k2e({unit:"%",width:90},n,t,e),t,e)}function I2e({open:t,onClose:e,imageSrc:n,onCropComplete:r}){const[i,s]=C.useState(),[o,a]=C.useState(),[l,c]=C.useState(void 0),d=C.useRef(null),h=C.useCallback(x=>{const{width:S,height:N}=x.currentTarget,T=iN(S,N,l||S/N);s(T)},[l]),m=()=>{if(d.current){const{width:x,height:S}=d.current;s(iN(x,S,l||x/S))}},g=x=>{if(c(x),d.current&&x){const{width:S,height:N}=d.current;s(iN(S,N,x))}},y=C.useCallback(()=>{if(!d.current||!o)return;const x=d.current,S=document.createElement("canvas"),N=S.getContext("2d");if(!N)return;const T=x.naturalWidth/x.width,j=x.naturalHeight/x.height;S.width=o.width*T,S.height=o.height*j,N.drawImage(x,o.x*T,o.y*j,o.width*T,o.height*j,0,0,S.width,S.height);const P=S.toDataURL("image/png");e(),r(P)},[o,r,e]),b=()=>{e(),r(n)};return u.jsx(zr,{open:t,onOpenChange:x=>!x&&e(),children:u.jsxs(Cr,{className:"max-w-[95vw] md:max-w-2xl max-h-[90vh] overflow-hidden flex flex-col p-0",children:[u.jsxs(Nr,{className:"p-4 pb-2 border-b",children:[u.jsxs(Pr,{className:"flex items-center gap-2 text-lg",children:[u.jsx(zq,{className:"w-5 h-5 text-primary"}),"Crop Image"]}),u.jsx(Va,{className:"text-sm text-muted-foreground",children:"Select the area you want to include in your question. Use pinch gestures on mobile to adjust."})]}),u.jsxs("div",{className:"flex-1 overflow-auto p-4 bg-muted/30 min-h-0",children:[u.jsxs("div",{className:"flex justify-center mb-4 gap-2 flex-wrap",children:[u.jsxs(ce,{type:"button",variant:l===void 0?"default":"outline",size:"sm",onClick:()=>g(void 0),className:"gap-1",children:[u.jsx(gce,{className:"w-4 h-4"}),"Free"]}),u.jsxs(ce,{type:"button",variant:l===1?"default":"outline",size:"sm",onClick:()=>g(1),className:"gap-1",children:[u.jsx(Oce,{className:"w-4 h-4"}),"1:1"]}),u.jsxs(ce,{type:"button",variant:l===16/9?"default":"outline",size:"sm",onClick:()=>g(16/9),className:"gap-1",children:[u.jsx(l5,{className:"w-4 h-4"}),"16:9"]}),u.jsxs(ce,{type:"button",variant:l===4/3?"default":"outline",size:"sm",onClick:()=>g(4/3),className:"gap-1",children:[u.jsx(l5,{className:"w-4 h-4"}),"4:3"]}),u.jsxs(ce,{type:"button",variant:"ghost",size:"sm",onClick:m,className:"gap-1",children:[u.jsx(Pce,{className:"w-4 h-4"}),"Reset"]})]}),u.jsx("div",{className:"flex justify-center items-center bg-black/5 dark:bg-white/5 rounded-xl p-2 touch-manipulation",children:u.jsx(M2e,{crop:i,onChange:(x,S)=>s(S),onComplete:x=>a(x),aspect:l,className:"max-h-[50vh] rounded-lg overflow-hidden",children:u.jsx("img",{ref:d,src:n,alt:"Crop preview",onLoad:h,className:"max-h-[50vh] w-auto object-contain",style:{maxWidth:"100%"}})})})]}),u.jsxs(_u,{className:"p-4 pt-2 border-t flex-col sm:flex-row gap-2",children:[u.jsxs(ce,{type:"button",variant:"ghost",onClick:e,className:"w-full sm:w-auto order-3 sm:order-1",children:[u.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Cancel"]}),u.jsx(ce,{type:"button",variant:"outline",onClick:b,className:"w-full sm:w-auto order-2",children:"Use Original"}),u.jsxs(ce,{type:"button",onClick:y,disabled:!o,className:"w-full sm:w-auto order-1 sm:order-3",children:[u.jsx(ho,{className:"w-4 h-4 mr-2"}),"Insert Cropped Image"]})]})]})})}function v8(t,[e,n]){return Math.min(n,Math.max(e,t))}var R2e=[" ","Enter","ArrowUp","ArrowDown"],D2e=[" ","Enter"],Dy="Select",[Nw,Pw,L2e]=Ub(Dy),[$h]=Hr(Dy,[L2e,mc]),Tw=mc(),[F2e,xc]=$h(Dy),[B2e,V2e]=$h(Dy),pX=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:m,required:g,form:y}=t,b=Tw(e),[x,S]=C.useState(null),[N,T]=C.useState(null),[j,P]=C.useState(!1),E=aw(c),[O=!1,_]=fo({prop:r,defaultProp:i,onChange:s}),[$,B]=fo({prop:o,defaultProp:a,onChange:l}),I=C.useRef(null),V=x?y||!!x.closest("form"):!0,[U,L]=C.useState(new Set),z=Array.from(U).map(F=>F.props.value).join(";");return u.jsx(Jb,{...b,children:u.jsxs(F2e,{required:g,scope:e,trigger:x,onTriggerChange:S,valueNode:N,onValueNodeChange:T,valueNodeHasChildren:j,onValueNodeHasChildrenChange:P,contentId:es(),value:$,onValueChange:B,open:O,onOpenChange:_,dir:E,triggerPointerDownPosRef:I,disabled:m,children:[u.jsx(Nw.Provider,{scope:e,children:u.jsx(B2e,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(F=>{L(q=>new Set(q).add(F))},[]),onNativeOptionRemove:C.useCallback(F=>{L(q=>{const M=new Set(q);return M.delete(F),M})},[]),children:n})}),V?u.jsxs(FX,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:h,value:$,onChange:F=>B(F.target.value),disabled:m,form:y,children:[$===void 0?u.jsx("option",{value:""}):null,Array.from(U)]},z):null]})})};pX.displayName=Dy;var mX="SelectTrigger",gX=C.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Tw(n),o=xc(mX,n),a=o.disabled||r,l=Ot(e,o.onTriggerChange),c=Pw(n),d=C.useRef("touch"),[h,m,g]=BX(b=>{const x=c().filter(T=>!T.disabled),S=x.find(T=>T.value===o.value),N=VX(x,b,S);N!==void 0&&o.onValueChange(N.value)}),y=b=>{a||(o.onOpenChange(!0),g()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return u.jsx(yy,{asChild:!0,...s,children:u.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":LX(o.value)?"":void 0,...i,ref:l,onClick:Ee(i.onClick,b=>{b.currentTarget.focus(),d.current!=="mouse"&&y(b)}),onPointerDown:Ee(i.onPointerDown,b=>{d.current=b.pointerType;const x=b.target;x.hasPointerCapture(b.pointerId)&&x.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(y(b),b.preventDefault())}),onKeyDown:Ee(i.onKeyDown,b=>{const x=h.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&m(b.key),!(x&&b.key===" ")&&R2e.includes(b.key)&&(y(),b.preventDefault())})})})});gX.displayName=mX;var yX="SelectValue",vX=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=xc(yX,n),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,h=Ot(e,l.onValueNodeChange);return hr(()=>{c(d)},[c,d]),u.jsx(Xe.span,{...a,ref:h,style:{pointerEvents:"none"},children:LX(l.value)?u.jsx(u.Fragment,{children:o}):s})});vX.displayName=yX;var z2e="SelectIcon",xX=C.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx(Xe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});xX.displayName=z2e;var U2e="SelectPortal",bX=t=>u.jsx(yh,{asChild:!0,...t});bX.displayName=U2e;var Mu="SelectContent",wX=C.forwardRef((t,e)=>{const n=xc(Mu,t.__scopeSelect),[r,i]=C.useState();if(hr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?gh.createPortal(u.jsx(SX,{scope:t.__scopeSelect,children:u.jsx(Nw.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),s):null}return u.jsx(CX,{...t,ref:e})});wX.displayName=Mu;var Gs=10,[SX,bc]=$h(Mu),q2e="SelectContentImpl",H2e=tc("SelectContent.RemoveScroll"),CX=C.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:y,hideWhenDetached:b,avoidCollisions:x,...S}=t,N=xc(Mu,n),[T,j]=C.useState(null),[P,E]=C.useState(null),O=Ot(e,me=>j(me)),[_,$]=C.useState(null),[B,I]=C.useState(null),V=Pw(n),[U,L]=C.useState(!1),z=C.useRef(!1);C.useEffect(()=>{if(T)return dw(T)},[T]),lw();const F=C.useCallback(me=>{const[Se,...ue]=V().map(oe=>oe.ref.current),[Pe]=ue.slice(-1),Oe=document.activeElement;for(const oe of me)if(oe===Oe||(oe?.scrollIntoView({block:"nearest"}),oe===Se&&P&&(P.scrollTop=0),oe===Pe&&P&&(P.scrollTop=P.scrollHeight),oe?.focus(),document.activeElement!==Oe))return},[V,P]),q=C.useCallback(()=>F([_,T]),[F,_,T]);C.useEffect(()=>{U&&q()},[U,q]);const{onOpenChange:M,triggerPointerDownPosRef:D}=N;C.useEffect(()=>{if(T){let me={x:0,y:0};const Se=Pe=>{me={x:Math.abs(Math.round(Pe.pageX)-(D.current?.x??0)),y:Math.abs(Math.round(Pe.pageY)-(D.current?.y??0))}},ue=Pe=>{me.x<=10&&me.y<=10?Pe.preventDefault():T.contains(Pe.target)||M(!1),document.removeEventListener("pointermove",Se),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",ue,{capture:!0})}}},[T,M,D]),C.useEffect(()=>{const me=()=>M(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[M]);const[Q,W]=BX(me=>{const Se=V().filter(Oe=>!Oe.disabled),ue=Se.find(Oe=>Oe.ref.current===document.activeElement),Pe=VX(Se,me,ue);Pe&&setTimeout(()=>Pe.ref.current.focus())}),Y=C.useCallback((me,Se,ue)=>{const Pe=!z.current&&!ue;(N.value!==void 0&&N.value===Se||Pe)&&($(me),Pe&&(z.current=!0))},[N.value]),le=C.useCallback(()=>T?.focus(),[T]),pe=C.useCallback((me,Se,ue)=>{const Pe=!z.current&&!ue;(N.value!==void 0&&N.value===Se||Pe)&&I(me)},[N.value]),he=r==="popper"?IE:NX,Ae=he===IE?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:y,hideWhenDetached:b,avoidCollisions:x}:{};return u.jsx(SX,{scope:n,content:T,viewport:P,onViewportChange:E,itemRefCallback:Y,selectedItem:_,onItemLeave:le,itemTextRefCallback:pe,focusSelectedItem:q,selectedItemText:B,position:r,isPositioned:U,searchRef:Q,children:u.jsx(wy,{as:H2e,allowPinchZoom:!0,children:u.jsx(by,{asChild:!0,trapped:N.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:Ee(i,me=>{N.trigger?.focus({preventScroll:!0}),me.preventDefault()}),children:u.jsx(Ku,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:u.jsx(he,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:me=>me.preventDefault(),...S,...Ae,onPlaced:()=>L(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Ee(S.onKeyDown,me=>{const Se=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Se&&me.key.length===1&&W(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let Pe=V().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(me.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Oe=me.target,oe=Pe.indexOf(Oe);Pe=Pe.slice(oe+1)}setTimeout(()=>F(Pe)),me.preventDefault()}})})})})})})});CX.displayName=q2e;var W2e="SelectItemAlignedPosition",NX=C.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=xc(Mu,n),o=bc(Mu,n),[a,l]=C.useState(null),[c,d]=C.useState(null),h=Ot(e,O=>d(O)),m=Pw(n),g=C.useRef(!1),y=C.useRef(!0),{viewport:b,selectedItem:x,selectedItemText:S,focusSelectedItem:N}=o,T=C.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&b&&x&&S){const O=s.trigger.getBoundingClientRect(),_=c.getBoundingClientRect(),$=s.valueNode.getBoundingClientRect(),B=S.getBoundingClientRect();if(s.dir!=="rtl"){const Oe=B.left-_.left,oe=$.left-Oe,lt=O.left-oe,ae=O.width+lt,yt=Math.max(ae,_.width),ot=window.innerWidth-Gs,Ut=v8(oe,[Gs,Math.max(Gs,ot-yt)]);a.style.minWidth=ae+"px",a.style.left=Ut+"px"}else{const Oe=_.right-B.right,oe=window.innerWidth-$.right-Oe,lt=window.innerWidth-O.right-oe,ae=O.width+lt,yt=Math.max(ae,_.width),ot=window.innerWidth-Gs,Ut=v8(oe,[Gs,Math.max(Gs,ot-yt)]);a.style.minWidth=ae+"px",a.style.right=Ut+"px"}const I=m(),V=window.innerHeight-Gs*2,U=b.scrollHeight,L=window.getComputedStyle(c),z=parseInt(L.borderTopWidth,10),F=parseInt(L.paddingTop,10),q=parseInt(L.borderBottomWidth,10),M=parseInt(L.paddingBottom,10),D=z+F+U+M+q,Q=Math.min(x.offsetHeight*5,D),W=window.getComputedStyle(b),Y=parseInt(W.paddingTop,10),le=parseInt(W.paddingBottom,10),pe=O.top+O.height/2-Gs,he=V-pe,Ae=x.offsetHeight/2,me=x.offsetTop+Ae,Se=z+F+me,ue=D-Se;if(Se<=pe){const Oe=I.length>0&&x===I[I.length-1].ref.current;a.style.bottom="0px";const oe=c.clientHeight-b.offsetTop-b.offsetHeight,lt=Math.max(he,Ae+(Oe?le:0)+oe+q),ae=Se+lt;a.style.height=ae+"px"}else{const Oe=I.length>0&&x===I[0].ref.current;a.style.top="0px";const lt=Math.max(pe,z+b.offsetTop+(Oe?Y:0)+Ae)+ue;a.style.height=lt+"px",b.scrollTop=Se-pe+b.offsetTop}a.style.margin=`${Gs}px 0`,a.style.minHeight=Q+"px",a.style.maxHeight=V+"px",r?.(),requestAnimationFrame(()=>g.current=!0)}},[m,s.trigger,s.valueNode,a,c,b,x,S,s.dir,r]);hr(()=>T(),[T]);const[j,P]=C.useState();hr(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const E=C.useCallback(O=>{O&&y.current===!0&&(T(),N?.(),y.current=!1)},[T,N]);return u.jsx(G2e,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:u.jsx(Xe.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});NX.displayName=W2e;var K2e="SelectPopperPosition",IE=C.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Gs,...s}=t,o=Tw(n);return u.jsx(ew,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});IE.displayName=K2e;var[G2e,e_]=$h(Mu,{}),RE="SelectViewport",PX=C.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=bc(RE,n),o=e_(RE,n),a=Ot(e,s.onViewportChange),l=C.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Nw.Slot,{scope:n,children:u.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ee(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m?.current&&h){const g=Math.abs(l.current-d.scrollTop);if(g>0){const y=window.innerHeight-Gs*2,b=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),S=Math.max(b,x);if(S<y){const N=S+g,T=Math.min(y,N),j=N-T;h.style.height=T+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});PX.displayName=RE;var TX="SelectGroup",[Q2e,Y2e]=$h(TX),X2e=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=es();return u.jsx(Q2e,{scope:n,id:i,children:u.jsx(Xe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});X2e.displayName=TX;var AX="SelectLabel",jX=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Y2e(AX,n);return u.jsx(Xe.div,{id:i.id,...r,ref:e})});jX.displayName=AX;var Vx="SelectItem",[Z2e,EX]=$h(Vx),kX=C.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=xc(Vx,n),l=bc(Vx,n),c=a.value===r,[d,h]=C.useState(s??""),[m,g]=C.useState(!1),y=Ot(e,N=>l.itemRefCallback?.(N,r,i)),b=es(),x=C.useRef("touch"),S=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Z2e,{scope:n,value:r,disabled:i,textId:b,isSelected:c,onItemTextChange:C.useCallback(N=>{h(T=>T||(N?.textContent??"").trim())},[]),children:u.jsx(Nw.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:u.jsx(Xe.div,{role:"option","aria-labelledby":b,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:Ee(o.onFocus,()=>g(!0)),onBlur:Ee(o.onBlur,()=>g(!1)),onClick:Ee(o.onClick,()=>{x.current!=="mouse"&&S()}),onPointerUp:Ee(o.onPointerUp,()=>{x.current==="mouse"&&S()}),onPointerDown:Ee(o.onPointerDown,N=>{x.current=N.pointerType}),onPointerMove:Ee(o.onPointerMove,N=>{x.current=N.pointerType,i?l.onItemLeave?.():x.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(o.onPointerLeave,N=>{N.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:Ee(o.onKeyDown,N=>{l.searchRef?.current!==""&&N.key===" "||(D2e.includes(N.key)&&S(),N.key===" "&&N.preventDefault())})})})})});kX.displayName=Vx;var Yp="SelectItemText",OX=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=xc(Yp,n),a=bc(Yp,n),l=EX(Yp,n),c=V2e(Yp,n),[d,h]=C.useState(null),m=Ot(e,S=>h(S),l.onItemTextChange,S=>a.itemTextRefCallback?.(S,l.value,l.disabled)),g=d?.textContent,y=C.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:b,onNativeOptionRemove:x}=c;return hr(()=>(b(y),()=>x(y)),[b,x,y]),u.jsxs(u.Fragment,{children:[u.jsx(Xe.span,{id:l.textId,...s,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?gh.createPortal(s.children,o.valueNode):null]})});OX.displayName=Yp;var $X="SelectItemIndicator",_X=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return EX($X,n).isSelected?u.jsx(Xe.span,{"aria-hidden":!0,...r,ref:e}):null});_X.displayName=$X;var DE="SelectScrollUpButton",MX=C.forwardRef((t,e)=>{const n=bc(DE,t.__scopeSelect),r=e_(DE,t.__scopeSelect),[i,s]=C.useState(!1),o=Ot(e,r.onScrollButtonChange);return hr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(RX,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});MX.displayName=DE;var LE="SelectScrollDownButton",IX=C.forwardRef((t,e)=>{const n=bc(LE,t.__scopeSelect),r=e_(LE,t.__scopeSelect),[i,s]=C.useState(!1),o=Ot(e,r.onScrollButtonChange);return hr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(RX,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});IX.displayName=LE;var RX=C.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=bc("SelectScrollButton",n),o=C.useRef(null),a=Pw(n),l=C.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return C.useEffect(()=>()=>l(),[l]),hr(()=>{a().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),u.jsx(Xe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ee(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ee(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ee(i.onPointerLeave,()=>{l()})})}),J2e="SelectSeparator",DX=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Xe.div,{"aria-hidden":!0,...r,ref:e})});DX.displayName=J2e;var FE="SelectArrow",eSe=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Tw(n),s=xc(FE,n),o=bc(FE,n);return s.open&&o.position==="popper"?u.jsx(tw,{...i,...r,ref:e}):null});eSe.displayName=FE;function LX(t){return t===""||t===void 0}var FX=C.forwardRef((t,e)=>{const{value:n,...r}=t,i=C.useRef(null),s=Ot(e,i),o=K$(n);return C.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(h)}},[o,n]),u.jsx(hy,{asChild:!0,children:u.jsx("select",{...r,ref:s,defaultValue:n})})});FX.displayName="BubbleSelect";function BX(t){const e=fr(t),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(o=>{const a=n.current+o;e(a),(function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(a)},[e]),s=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function VX(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=tSe(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function tSe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nSe=pX,zX=gX,rSe=vX,iSe=xX,sSe=bX,UX=wX,oSe=PX,qX=jX,HX=kX,aSe=OX,lSe=_X,WX=MX,KX=IX,GX=DX;const nn=nSe,rn=rSe,Jt=C.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(zX,{ref:r,className:se("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(iSe,{asChild:!0,children:u.jsx(Ma,{className:"h-4 w-4 opacity-50"})})]}));Jt.displayName=zX.displayName;const QX=C.forwardRef(({className:t,...e},n)=>u.jsx(WX,{ref:n,className:se("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(ece,{className:"h-4 w-4"})}));QX.displayName=WX.displayName;const YX=C.forwardRef(({className:t,...e},n)=>u.jsx(KX,{ref:n,className:se("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Ma,{className:"h-4 w-4"})}));YX.displayName=KX.displayName;const en=C.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>u.jsx(sSe,{children:u.jsxs(UX,{ref:i,className:se("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(QX,{}),u.jsx(oSe,{className:se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(YX,{})]})}));en.displayName=UX.displayName;const cSe=C.forwardRef(({className:t,...e},n)=>u.jsx(qX,{ref:n,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));cSe.displayName=qX.displayName;const He=C.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(HX,{ref:r,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(lSe,{children:u.jsx(ho,{className:"h-4 w-4"})})}),u.jsx(aSe,{children:e})]}));He.displayName=HX.displayName;const uSe=C.forwardRef(({className:t,...e},n)=>u.jsx(GX,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",t),...e}));uSe.displayName=GX.displayName;function Rr(t){this.content=t}Rr.prototype={constructor:Rr,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Rr(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Rr(n)},addToStart:function(t,e){return new Rr([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Rr(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Rr(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Rr.from(t),t.size?new Rr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Rr.from(t),t.size?new Rr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Rr.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Rr.from=function(t){if(t instanceof Rr)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Rr(e)};function XX(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=XX(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function ZX(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,d=Math.min(o.text.length,a.text.length);for(;c<d&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=ZX(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class xe{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let d=a+1;l.nodesBetween(Math.max(0,e-d),Math.min(l.content.size,n-d),r,i+d)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new xe(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new xe(r,i)}cutByIndex(e,n){return e==n?xe.empty:e==0&&n==this.content.length?this:new xe(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new xe(i,s)}addToStart(e){return new xe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new xe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return XX(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return ZX(this,e,n,r)}findIndex(e){if(e==0)return S0(0,e);if(e==this.size)return S0(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?S0(n+1,s):S0(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return xe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new xe(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return xe.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new xe(n||e,r)}static from(e){if(!e)return xe.empty;if(e instanceof xe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new xe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}xe.empty=new xe([],0);const sN={index:0,offset:0};function S0(t,e){return sN.index=t,sN.offset=e,sN}function zx(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!zx(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!zx(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let sn=class BE{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&zx(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return BE.none;if(e instanceof BE)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};sn.none=[];class Ux extends Error{}class Ve{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=eZ(this.content,e+this.openStart,n);return r&&new Ve(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Ve(JX(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Ve.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ve(xe.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Ve(e,r,i)}}Ve.empty=new Ve(xe.empty,0,0);function JX(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(JX(s.content,e-i-1,n-i-1)))}function eZ(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=eZ(o.content,e-s-1,n,o);return a&&t.replaceChild(i,o.copy(a))}function dSe(t,e,n){if(n.openStart>t.depth)throw new Ux("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Ux("Inconsistent open depths");return tZ(t,e,n,0)}function tZ(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=tZ(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return mu(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=fSe(n,t);return mu(s,rZ(t,o,a,e,r))}else return mu(s,qx(t,e,r))}function nZ(t,e){if(!e.type.compatibleContent(t.type))throw new Ux("Cannot join "+e.type.name+" onto "+t.type.name)}function VE(t,e,n){let r=t.node(n);return nZ(r,e.node(n)),r}function pu(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function fm(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(pu(t.nodeAfter,r),s++));for(let a=s;a<o;a++)pu(i.child(a),r);e&&e.depth==n&&e.textOffset&&pu(e.nodeBefore,r)}function mu(t,e){return t.type.checkContent(e),t.copy(e)}function rZ(t,e,n,r,i){let s=t.depth>i&&VE(t,e,i+1),o=r.depth>i&&VE(n,r,i+1),a=[];return fm(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(nZ(s,o),pu(mu(s,rZ(t,e,n,r,i+1)),a)):(s&&pu(mu(s,qx(t,e,i+1)),a),fm(e,n,i,a),o&&pu(mu(o,qx(n,r,i+1)),a)),fm(r,null,i,a),new xe(a)}function qx(t,e,n){let r=[];if(fm(null,t,n,r),t.depth>n){let i=VE(t,e,n+1);pu(mu(i,qx(t,e,n+1)),r)}return fm(e,null,n,r),new xe(r)}function fSe(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(xe.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class og{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return sn.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Hx(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new og(n,r,s)}static resolveCached(e,n){let r=x8.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else x8.set(e,r=new hSe);let i=r.elts[r.i]=og.resolve(e,n);return r.i=(r.i+1)%pSe,i}}class hSe{constructor(){this.elts=[],this.i=0}}const pSe=12,x8=new WeakMap;class Hx{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const mSe=Object.create(null);let Kl=class zE{constructor(e,n,r,i=sn.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||xe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&zx(this.attrs,n||e.defaultAttrs||mSe)&&sn.sameSet(this.marks,r||sn.none)}copy(e=null){return e==this.content?this:new zE(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new zE(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Ve.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new Ve(c,i.depth-o,s.depth-o)}replace(e,n,r){return dSe(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return og.resolveCached(this,e)}resolveNoCache(e){return og.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),iZ(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=xe.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=sn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!sn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=xe.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Kl.prototype.text=void 0;class Wx extends Kl{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):iZ(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Wx(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Wx(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function iZ(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Iu{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new gSe(e,n);if(r.next==null)return Iu.empty;let i=sZ(r);r.next&&r.err("Unexpected trailing text");let s=CSe(SSe(i));return NSe(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return xe.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:d,next:h}=o.next[c];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(h)==-1){i.push(h);let m=s(h,a.concat(d));if(m)return m}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Iu.empty=new Iu(!0);class gSe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function sZ(t){let e=[];do e.push(ySe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function ySe(t){let e=[];do e.push(vSe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function vSe(t){let e=wSe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=xSe(t,e);else break;return e}function b8(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function xSe(t,e){let n=b8(t),r=n;return t.eat(",")&&(t.next!="}"?r=b8(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function bSe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function wSe(t){if(t.eat("(")){let e=sZ(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=bSe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function SSe(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let d=n();i(s(o.expr,l),d),l=d}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let d=n();r(l,d),i(s(o.expr,l),d),l=d}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function oZ(t,e){return e-t}function w8(t,e){let n=[];return r(e),n.sort(oZ);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function CSe(t){let e=Object.create(null);return n(w8(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let d=0;d<i.length;d++)i[d][0]==a&&(c=i[d][1]);w8(t,l).forEach(d=>{c||i.push([a,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let s=e[r.join(",")]=new Iu(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(oZ);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function NSe(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function aZ(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function lZ(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function cZ(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function uZ(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new TSe(t,r,e[r]);return n}let S8=class dZ{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=uZ(e,r.attrs),this.defaultAttrs=aZ(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Iu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:lZ(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Kl(this,this.computeAttrs(e),xe.from(n),sn.setFrom(r))}createChecked(e=null,n,r){return n=xe.from(n),this.checkContent(n),new Kl(this,this.computeAttrs(e),n,sn.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=xe.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(xe.empty,!0);return s?new Kl(this,e,n.append(s),sn.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){cZ(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:sn.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new dZ(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function PSe(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class TSe{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?PSe(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Aw{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=uZ(e,i.attrs),this.excluded=null;let s=aZ(this.attrs);this.instance=s?new sn(this,s):null}create(e=null){return!e&&this.instance?this.instance:new sn(this,lZ(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new Aw(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){cZ(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class fZ{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Rr.from(e.nodes),n.marks=Rr.from(e.marks||{}),this.nodes=S8.compile(this.spec.nodes,this),this.marks=Aw.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Iu.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?C8(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:C8(this,o.split(" "))}this.nodeFromJSON=i=>Kl.fromJSON(this,i),this.markFromJSON=i=>sn.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof S8){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Wx(r,r.defaultAttrs,e,sn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function C8(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function ASe(t){return t.tag!=null}function jSe(t){return t.style!=null}class Gl{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(ASe(i))this.tags.push(i);else if(jSe(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new P8(this,n,!1);return r.addAll(e,sn.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new P8(this,n,!0);return r.addAll(e,sn.none,n.from,n.to),Ve.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(OSe(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=T8(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=T8(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Gl(e,Gl.schemaRules(e)))}}const hZ={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ESe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},pZ={ol:!0,ul:!0},ag=1,UE=2,hm=4;function N8(t,e,n){return e!=null?(e?ag:0)|(e==="full"?UE:0):t&&t.whitespace=="pre"?ag|UE:n&~hm}class C0{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=sn.none,this.match=s||(o&hm?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(xe.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ag)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=xe.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(xe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!hZ.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class P8{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=N8(null,n.preserveWhitespace,0)|(r?hm:0);i?s=new C0(i.type,i.attrs,sn.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new C0(null,null,sn.none,!0,null,o):s=new C0(e.schema.topNodeType,null,sn.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&UE?"full":this.localPreserveWS||(i.options&ag)>0,{schema:o}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(o.linebreakReplacement.create())){let a=r.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(o.linebreakReplacement.create(),n,!0),a[l]&&this.insertNode(o.text(a[l]),n,!/\S/.test(a[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(o.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;pZ.hasOwnProperty(o)&&this.parser.normalizeLists&&kSe(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:ESe.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,d=this.needsBlock;if(hZ.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let h=l&&l.skip?n:this.readStyles(e,n);h&&this.addAll(e,h),c&&this.sync(s),this.needsBlock=d}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],c=l.findWrapping(e);if(c&&(!i||i.length>c.length+a)&&(i=c,s=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)n=this.enterInner(i[o],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=sn.none;for(let a of i.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):A8(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=N8(e,s,o.options);o.options&hm&&o.content.length==0&&(a|=hm);let l=sn.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):A8(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new C0(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=ag)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let d=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!d||d.name!=c&&!d.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function kSe(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&pZ.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function OSe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function T8(t){let e={};for(let n in t)e[n]=t[n];return e}function A8(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:d}=a.edge(l);if(c==e||s.indexOf(d)<0&&o(d))return!0}};if(o(i.contentMatch))return!0}}class Xu{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=oN(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],d=this.serializeMark(c,o.isInline,n);d&&(s.push([c,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=rx(oN(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&rx(oN(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return rx(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Xu(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=j8(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return j8(e.marks)}}function j8(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function oN(t){return t.document||window.document}const E8=new WeakMap;function $Se(t){let e=E8.get(t);return e===void 0&&E8.set(t,e=_Se(t)),e}function _Se(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function rx(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=$Se(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let h in c)if(c[h]!=null){let m=h.indexOf(" ");m>0?l.setAttributeNS(h.slice(0,m),h.slice(m+1),c[h]):h=="style"&&l.style?l.style.cssText=c[h]:l.setAttribute(h,c[h])}}for(let h=d;h<e.length;h++){let m=e[h];if(m===0){if(h<e.length-1||h>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:g,contentDOM:y}=rx(t,m,n,r);if(l.appendChild(g),y){if(a)throw new RangeError("Multiple content holes");a=y}}}return{dom:l,contentDOM:a}}const mZ=65535,gZ=Math.pow(2,16);function MSe(t,e){return t+e*gZ}function k8(t){return t&mZ}function ISe(t){return(t-(t&mZ))/gZ}const yZ=1,vZ=2,ix=4,xZ=8;class qE{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&xZ)>0}get deletedBefore(){return(this.delInfo&(yZ|ix))>0}get deletedAfter(){return(this.delInfo&(vZ|ix))>0}get deletedAcross(){return(this.delInfo&ix)>0}}class Zi{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Zi.empty)return Zi.empty}recover(e){let n=0,r=k8(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+ISe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],d=this.ranges[a+o],h=l+c;if(e<=h){let m=c?e==l?-1:e==h?1:n:n,g=l+i+(m<0?0:d);if(r)return g;let y=e==(n<0?l:h)?null:MSe(a/3,e-l),b=e==l?vZ:e==h?yZ:ix;return(n<0?e!=l:e!=h)&&(b|=xZ),new qE(g,b,y)}i+=d-c}return r?e+i:new qE(e+i,0,null)}touches(e,n){let r=0,i=k8(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],d=l+c;if(e<=d&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],d=this.ranges[i+r];e(a,a+c,l,l+d),s+=d-c}}invert(){return new Zi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Zi.empty:new Zi(e<0?[0,-e,0]:[0,0,e])}}Zi.empty=new Zi([]);class lg{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new lg(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new lg;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new qE(e,i,null)}}const aN=Object.create(null);let ci=class{getMap(){return Zi.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=aN[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in aN)throw new RangeError("Duplicate use of step JSON ID "+e);return aN[e]=n,n.prototype.jsonID=e,n}};class Jn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Jn(e,null)}static fail(e){return new Jn(null,e)}static fromReplace(e,n,r,i){try{return Jn.ok(e.replace(n,r,i))}catch(s){if(s instanceof Ux)return Jn.fail(s.message);throw s}}}function t_(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(t_(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return xe.fromArray(r)}class Ul extends ci{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Ve(t_(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return Jn.fromReplace(e,this.from,this.to,s)}invert(){return new ao(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ul(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ul&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ul(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ul(n.from,n.to,e.markFromJSON(n.mark))}}ci.jsonID("addMark",Ul);class ao extends ci{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Ve(t_(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Jn.fromReplace(e,this.from,this.to,r)}invert(){return new Ul(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ao(n.pos,r.pos,this.mark)}merge(e){return e instanceof ao&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ao(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ao(n.from,n.to,e.markFromJSON(n.mark))}}ci.jsonID("removeMark",ao);class ql extends ci{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Jn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Jn.fromReplace(e,this.pos,this.pos+1,new Ve(xe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new ql(this.pos,n.marks[i]);return new ql(this.pos,this.mark)}}return new Ru(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ql(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ql(n.pos,e.markFromJSON(n.mark))}}ci.jsonID("addNodeMark",ql);class Ru extends ci{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Jn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Jn.fromReplace(e,this.pos,this.pos+1,new Ve(xe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ql(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ru(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ru(n.pos,e.markFromJSON(n.mark))}}ci.jsonID("removeNodeMark",Ru);class Sr extends ci{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&HE(e,this.from,this.to)?Jn.fail("Structure replace would overwrite content"):Jn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Zi([this.from,this.to-this.from,this.slice.size])}invert(e){return new Sr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Sr(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Sr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Ve.empty:new Ve(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Sr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Ve.empty:new Ve(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Sr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Sr(n.from,n.to,Ve.fromJSON(e,n.slice),!!n.structure)}}ci.jsonID("replace",Sr);class Ar extends ci{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(HE(e,this.from,this.gapFrom)||HE(e,this.gapTo,this.to)))return Jn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Jn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Jn.fromReplace(e,this.from,this.to,r):Jn.fail("Content does not fit in gap")}getMap(){return new Zi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ar(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Ar(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ar(n.from,n.to,n.gapFrom,n.gapTo,Ve.fromJSON(e,n.slice),n.insert,!!n.structure)}}ci.jsonID("replaceAround",Ar);function HE(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function RSe(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,c,d)=>{if(!l.isInline)return;let h=l.marks;if(!r.isInSet(h)&&d.type.allowsMarkType(r.type)){let m=Math.max(c,e),g=Math.min(c+l.nodeSize,n),y=r.addToSet(h);for(let b=0;b<h.length;b++)h[b].isInSet(y)||(o&&o.to==m&&o.mark.eq(h[b])?o.to=g:i.push(o=new ao(m,g,h[b])));a&&a.to==m?a.to=g:s.push(a=new Ul(m,g,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function DSe(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof Aw){let c=o.marks,d;for(;d=r.isInSet(c);)(l||(l=[])).push(d),c=d.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let d=0;d<l.length;d++){let h=l[d],m;for(let g=0;g<i.length;g++){let y=i[g];y.step==s-1&&h.eq(i[g].style)&&(m=y)}m?(m.to=c,m.step=s):i.push({style:h,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>t.step(new ao(o.from,o.to,o.style)))}function n_(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),d=a+c.nodeSize,h=r.matchType(c.type);if(!h)o.push(new Sr(a,d,Ve.empty));else{r=h;for(let m=0;m<c.marks.length;m++)n.allowsMarkType(c.marks[m].type)||t.step(new ao(a,d,c.marks[m]));if(i&&c.isText&&n.whitespace!="pre"){let m,g=/\r?\n|\r/g,y;for(;m=g.exec(c.text);)y||(y=new Ve(xe.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new Sr(a+m.index,a+m.index+m[0].length,y))}}a=d}if(!r.validEnd){let l=r.fillBefore(xe.empty,!0);t.replace(a,a,new Ve(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function LSe(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function _h(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,i=0,s=0;;--r){let o=t.$from.node(r),a=t.$from.index(r)+i,l=t.$to.indexAfter(r)-s;if(r<t.depth&&o.canReplace(a,l,n))return r;if(r==0||o.type.spec.isolating||!LSe(o,a,l))break;a&&(i=1),l<o.childCount&&(s=1)}return null}function FSe(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,c=a,d=xe.empty,h=0;for(let y=s,b=!1;y>n;y--)b||r.index(y)>0?(b=!0,d=xe.from(r.node(y).copy(d)),h++):l--;let m=xe.empty,g=0;for(let y=s,b=!1;y>n;y--)b||i.after(y+1)<i.end(y)?(b=!0,m=xe.from(i.node(y).copy(m)),g++):c++;t.step(new Ar(l,c,o,a,new Ve(d.append(m),h,g),d.size-h,!0))}function r_(t,e,n=null,r=t){let i=BSe(t,e),s=i&&VSe(r,e);return s?i.map(O8).concat({type:e,attrs:n}).concat(s.map(O8)):null}function O8(t){return{type:t,attrs:null}}function BSe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function VSe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function zSe(t,e,n){let r=xe.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=xe.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new Ar(i,s,i,s,new Ve(r,0,0),n.length,!0))}function USe(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&qSe(t.doc,t.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let g=r.whitespace=="pre",y=!!r.contentMatch.matchType(r.schema.linebreakReplacement);g&&!y?c=!1:!g&&y&&(c=!0)}c===!1&&wZ(t,o,a,s),n_(t,t.mapping.slice(s).map(a,1),r,void 0,c===null);let d=t.mapping.slice(s),h=d.map(a,1),m=d.map(a+o.nodeSize,1);return t.step(new Ar(h,m,h+1,m-1,new Ve(xe.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&bZ(t,o,a,s),!1}})}function bZ(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function wZ(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function qSe(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function HSe(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ar(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Ve(xe.from(o),0,0),1,!0))}function ja(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,d=n-2;c>s;c--,d--){let h=i.node(c),m=i.index(c);if(h.type.spec.isolating)return!1;let g=h.content.cutByIndex(m,h.childCount),y=r&&r[d+1];y&&(g=g.replaceChild(0,y.type.create(y.attrs)));let b=r&&r[d]||h;if(!h.canReplace(m+1,h.childCount)||!b.type.validContent(g))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function WSe(t,e,n=1,r){let i=t.doc.resolve(e),s=xe.empty,o=xe.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=xe.from(i.node(a).copy(s));let d=r&&r[c];o=xe.from(d?d.type.create(d.attrs,o):i.node(a).copy(o))}t.step(new Sr(e,e,new Ve(s.append(o),n,n),!0))}function wc(t,e){let n=t.resolve(e),r=n.index();return SZ(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function KSe(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function SZ(t,e){return!!(t&&e&&!t.isLeaf&&KSe(t,e))}function jw(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&SZ(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function GSe(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let d=o.whitespace=="pre",h=!!o.contentMatch.matchType(i);d&&!h?r=!1:!d&&h&&(r=!0)}let a=t.steps.length;if(r===!1){let d=t.doc.resolve(e+n);wZ(t,d.node(),d.before(),a)}o.inlineContent&&n_(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new Sr(c,l.map(e+n,-1),Ve.empty,!0)),r===!0){let d=t.doc.resolve(c);bZ(t,d.node(),d.before(),t.steps.length)}return t}function QSe(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function CZ(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),d=!1;if(s==1)d=c.canReplace(l,l,i);else{let h=c.contentMatchAt(l).findWrapping(i.firstChild.type);d=h&&c.canReplaceWith(l,l,h[0])}if(d)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function Ew(t,e,n=e,r=Ve.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return NZ(i,s,r)?new Sr(e,n,r):new YSe(i,s,r).fit()}function NZ(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class YSe{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=xe.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=xe.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new Ve(s,o,a);return e>-1?new Ar(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Sr(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=lN(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],d,h=null;if(n==1&&(o?c.matchType(o.type)||(h=c.fillBefore(xe.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:h};if(n==2&&o&&(d=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:d};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=lN(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ve(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=lN(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new Ve(Xp(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Ve(Xp(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let b=0;b<s.length;b++)this.openFrontierNode(s[b]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,d=[],{match:h,type:m}=this.frontier[n];if(i){for(let b=0;b<i.childCount;b++)d.push(i.child(b));h=h.matchFragment(i)}let g=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let b=a.child(c),x=h.matchType(b.type);if(!x)break;c++,(c>1||l==0||b.content.size)&&(h=x,d.push(PZ(b.mark(m.allowedMarks(b.marks)),c==1?l:0,c==a.childCount?g:-1)))}let y=c==a.childCount;y||(g=-1),this.placed=Zp(this.placed,n,xe.from(d)),this.frontier[n].match=h,y&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,x=a;b<g;b++){let S=x.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),x=S.content}this.unplaced=y?e==0?Ve.empty:new Ve(Xp(o.content,e-1,1),e-1,g<0?o.openEnd:e-1):new Ve(Xp(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!cN(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=cN(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],d=cN(e,a,c,l,!0);if(!d||d.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Zp(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Zp(this.placed,this.depth,xe.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(xe.empty,!0);n.childCount&&(this.placed=Zp(this.placed,this.frontier.length,n))}}function Xp(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Xp(t.firstChild.content,e-1,n)))}function Zp(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Zp(t.lastChild.content,e-1,n)))}function lN(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function PZ(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,PZ(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(xe.empty,!0)))),t.copy(r)}function cN(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!XSe(n,s.content,o)?a:null}function XSe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function ZSe(t){return t.spec.defining||t.spec.definingForContent}function JSe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(NZ(i,s,r))return t.step(new Sr(e,n,r));let o=AZ(i,s);o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let m=i.depth,g=i.pos-1;m>0;m--,g--){let y=i.node(m).type.spec;if(y.defining||y.definingAsContext||y.isolating)break;o.indexOf(m)>-1?a=m:i.before(m)==g&&o.splice(1,0,-m)}let l=o.indexOf(a),c=[],d=r.openStart;for(let m=r.content,g=0;;g++){let y=m.firstChild;if(c.push(y),g==r.openStart)break;m=y.content}for(let m=d-1;m>=0;m--){let g=c[m],y=ZSe(g.type);if(y&&!g.sameMarkup(i.node(Math.abs(a)-1)))d=m;else if(y||!g.type.isTextblock)break}for(let m=r.openStart;m>=0;m--){let g=(m+d+1)%(r.openStart+1),y=c[g];if(y)for(let b=0;b<o.length;b++){let x=o[(b+l)%o.length],S=!0;x<0&&(S=!1,x=-x);let N=i.node(x-1),T=i.index(x-1);if(N.canReplaceWith(T,T,y.type,y.marks))return t.replace(i.before(x),S?s.after(x):n,new Ve(TZ(r.content,0,r.openStart,g),g,r.openEnd))}}let h=t.steps.length;for(let m=o.length-1;m>=0&&(t.replace(e,n,r),!(t.steps.length>h));m--){let g=o[m];g<0||(e=i.before(g),n=s.after(g))}}function TZ(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(TZ(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(xe.empty,!0))}return t}function eCe(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=QSe(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Ve(xe.from(r),0,0))}function tCe(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=AZ(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function AZ(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class mf extends ci{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Jn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Jn.fromReplace(e,this.pos,this.pos+1,new Ve(xe.from(i),0,n.isLeaf?0:1))}getMap(){return Zi.empty}invert(e){return new mf(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new mf(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new mf(n.pos,n.attr,n.value)}}ci.jsonID("attr",mf);class cg extends ci{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Jn.ok(r)}getMap(){return Zi.empty}invert(e){return new cg(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new cg(n.attr,n.value)}}ci.jsonID("docAttr",cg);let If=class extends Error{};If=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};If.prototype=Object.create(Error.prototype);If.prototype.constructor=If;If.prototype.name="TransformError";class jZ{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new lg}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new If(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Ve.empty){let i=Ew(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Ve(xe.from(r),0,0))}delete(e,n){return this.replace(e,n,Ve.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return JSe(this,e,n,r),this}replaceRangeWith(e,n,r){return eCe(this,e,n,r),this}deleteRange(e,n){return tCe(this,e,n),this}lift(e,n){return FSe(this,e,n),this}join(e,n=1){return GSe(this,e,n),this}wrap(e,n){return zSe(this,e,n),this}setBlockType(e,n=e,r,i=null){return USe(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return HSe(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new mf(e,n,r)),this}setDocAttribute(e,n){return this.step(new cg(e,n)),this}addNodeMark(e,n){return this.step(new ql(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof sn)n.isInSet(r.marks)&&this.step(new Ru(e,n));else{let i=r.marks,s,o=[];for(;s=n.isInSet(i);)o.push(new Ru(e,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,n=1,r){return WSe(this,e,n,r),this}addMark(e,n,r){return RSe(this,e,n,r),this}removeMark(e,n,r){return DSe(this,e,n,r),this}clearIncompatible(e,n,r){return n_(this,e,n,r),this}}const uN=Object.create(null);class Ct{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new nCe(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Ve.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],d=e.mapping.slice(s);e.replaceRange(d.map(l.pos),d.map(c.pos),a?Ve.empty:n),a==0&&M8(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),d=l.map(a.pos);s?e.deleteRange(c,d):(e.replaceRangeWith(c,d,n),M8(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new ht(e):qd(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?qd(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):qd(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new is(e.node(0))}static atStart(e){return qd(e,e,0,0,1)||new is(e)}static atEnd(e){return qd(e,e,e.content.size,e.childCount,-1)||new is(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=uN[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in uN)throw new RangeError("Duplicate use of selection JSON ID "+e);return uN[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ht.between(this.$anchor,this.$head).getBookmark()}}Ct.prototype.visible=!0;class nCe{constructor(e,n){this.$from=e,this.$to=n}}let $8=!1;function _8(t){!$8&&!t.parent.inlineContent&&($8=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ht extends Ct{constructor(e,n=e){_8(e),_8(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ct.near(r);let i=e.resolve(n.map(this.anchor));return new ht(i.parent.inlineContent?i:r,r)}replace(e,n=Ve.empty){if(super.replace(e,n),n==Ve.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ht&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new kw(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ht(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Ct.findFrom(n,r,!0)||Ct.findFrom(n,-r,!0);if(s)n=s.$head;else return Ct.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Ct.findFrom(e,-r,!0)||Ct.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new ht(e,n)}}Ct.jsonID("text",ht);class kw{constructor(e,n){this.anchor=e,this.head=n}map(e){return new kw(e.map(this.anchor),e.map(this.head))}resolve(e){return ht.between(e.resolve(this.anchor),e.resolve(this.head))}}class et extends Ct{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Ct.near(s):new et(s)}content(){return new Ve(xe.from(this.node),0,0)}eq(e){return e instanceof et&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new i_(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new et(e.resolve(n.anchor))}static create(e,n){return new et(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}et.prototype.visible=!1;Ct.jsonID("node",et);class i_{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new kw(r,r):new i_(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&et.isSelectable(r)?new et(n):Ct.near(n)}}class is extends Ct{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Ve.empty){if(n==Ve.empty){e.delete(0,e.doc.content.size);let r=Ct.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new is(e)}map(e){return new is(e)}eq(e){return e instanceof is}getBookmark(){return rCe}}Ct.jsonID("all",is);const rCe={map(){return this},resolve(t){return new is(t)}};function qd(t,e,n,r,i,s=!1){if(e.inlineContent)return ht.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&et.isSelectable(a))return et.create(t,n-(i<0?a.nodeSize:0))}else{let l=qd(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function M8(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Sr||i instanceof Ar))return;let s=t.mapping.maps[r],o;s.forEach((a,l,c,d)=>{o==null&&(o=d)}),t.setSelection(Ct.near(t.doc.resolve(o),n))}const I8=1,N0=2,R8=4;class iCe extends jZ{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|I8)&~N0,this.storedMarks=null,this}get selectionSet(){return(this.updated&I8)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=N0,this}ensureMarks(e){return sn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&N0)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~N0,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||sn.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Ct.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=R8,this}get scrolledIntoView(){return(this.updated&R8)>0}}function D8(t,e){return!e||!t?t:t.bind(e)}class Jp{constructor(e,n,r){this.name=e,this.init=D8(n.init,r),this.apply=D8(n.apply,r)}}const sCe=[new Jp("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Jp("selection",{init(t,e){return t.selection||Ct.atStart(e.doc)},apply(t){return t.selection}}),new Jp("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Jp("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class dN{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=sCe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Jp(r.key,r.spec.state,r))})}}class ef{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,d=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(d&&r.filterTransaction(d,o)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let h=0;h<this.config.plugins.length;h++)i.push(h<o?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ef(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new iCe(this)}static create(e){let n=new dN(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ef(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new dN(this.schema,e.plugins),r=n.fields,i=new ef(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new dN(e.schema,e.plugins),s=new ef(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Kl.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=Ct.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function EZ(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=EZ(i,e,{})),n[r]=i}return n}class On{constructor(e){this.spec=e,this.props={},e.props&&EZ(e.props,this,this.props),this.key=e.key?e.key.key:kZ("plugin")}getState(e){return e[this.key]}}const fN=Object.create(null);function kZ(t){return t in fN?t+"$"+ ++fN[t]:(fN[t]=0,t+"$")}class pr{constructor(e="key"){this.key=kZ(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const s_=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function OZ(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const $Z=(t,e,n)=>{let r=OZ(t,n);if(!r)return!1;let i=o_(r);if(!i){let o=r.blockRange(),a=o&&_h(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(VZ(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Rf(s,"end")||et.isSelectable(s)))for(let o=r.depth;;o--){let a=Ew(t.doc,r.before(o),r.after(o),Ve.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Rf(s,"end")?Ct.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):et.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},oCe=(t,e,n)=>{let r=OZ(t,n);if(!r)return!1;let i=o_(r);return i?_Z(t,i,e):!1},aCe=(t,e,n)=>{let r=IZ(t,n);if(!r)return!1;let i=a_(r);return i?_Z(t,i,e):!1};function _Z(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let d=a.firstChild;if(!d)return!1;a=d}let c=Ew(t.doc,s,l,Ve.empty);if(!c||c.from!=s||c instanceof Sr&&c.slice.size>=l-s)return!1;if(n){let d=t.tr.step(c);d.setSelection(ht.create(d.doc,s)),n(d.scrollIntoView())}return!0}function Rf(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const MZ=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=o_(r)}let o=s&&s.nodeBefore;return!o||!et.isSelectable(o)?!1:(e&&e(t.tr.setSelection(et.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function o_(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function IZ(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const RZ=(t,e,n)=>{let r=IZ(t,n);if(!r)return!1;let i=a_(r);if(!i)return!1;let s=i.nodeAfter;if(VZ(t,i,e,1))return!0;if(r.parent.content.size==0&&(Rf(s,"start")||et.isSelectable(s))){let o=Ew(t.doc,r.before(),r.after(),Ve.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Rf(s,"start")?Ct.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):et.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},DZ=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=a_(r)}let o=s&&s.nodeAfter;return!o||!et.isSelectable(o)?!1:(e&&e(t.tr.setSelection(et.create(t.doc,s.pos)).scrollIntoView()),!0)};function a_(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const lCe=(t,e)=>{let n=t.selection,r=n instanceof et,i;if(r){if(n.node.isTextblock||!wc(t.doc,n.from))return!1;i=n.from}else if(i=jw(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(et.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},cCe=(t,e)=>{let n=t.selection,r;if(n instanceof et){if(n.node.isTextblock||!wc(t.doc,n.to))return!1;r=n.to}else if(r=jw(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},uCe=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&_h(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},LZ=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function l_(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const dCe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=l_(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Ct.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},FZ=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof is||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=l_(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(ht.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},BZ=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(ja(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&_h(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function fCe(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof et&&e.selection.node.isBlock)return!r.parentOffset||!ja(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,l=!1,c=!1;for(let g=r.depth;;g--)if(r.node(g).isBlock){l=r.end(g)==r.pos+(r.depth-g),c=r.start(g)==r.pos-(r.depth-g),a=l_(r.node(g-1).contentMatchAt(r.indexAfter(g-1))),s.unshift(l&&a?{type:a}:null),o=g;break}else{if(g==1)return!1;s.unshift(null)}let d=e.tr;(e.selection instanceof ht||e.selection instanceof is)&&d.deleteSelection();let h=d.mapping.map(r.pos),m=ja(d.doc,h,s.length,s);if(m||(s[0]=a?{type:a}:null,m=ja(d.doc,h,s.length,s)),!m)return!1;if(d.split(h,s.length,s),!l&&c&&r.node(o).type!=a){let g=d.mapping.map(r.before(o)),y=d.doc.resolve(g);a&&r.node(o-1).canReplaceWith(y.index(),y.index()+1,a)&&d.setNodeMarkup(d.mapping.map(r.before(o)),a)}return n&&n(d.scrollIntoView()),!0}}const hCe=fCe(),pCe=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(et.create(t.doc,i))),!0)};function mCe(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||wc(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function VZ(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&mCe(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let g=e.pos+s.nodeSize,y=xe.empty;for(let S=o.length-1;S>=0;S--)y=xe.from(o[S].create(null,y));y=xe.from(i.copy(y));let b=t.tr.step(new Ar(e.pos-1,g,e.pos,g,new Ve(y,1,0),o.length,!0)),x=b.doc.resolve(g+2*o.length);x.nodeAfter&&x.nodeAfter.type==i.type&&wc(b.doc,x.pos)&&b.join(x.pos),n(b.scrollIntoView())}return!0}let d=s.type.spec.isolating||r>0&&l?null:Ct.findFrom(e,1),h=d&&d.$from.blockRange(d.$to),m=h&&_h(h);if(m!=null&&m>=e.depth)return n&&n(t.tr.lift(h,m).scrollIntoView()),!0;if(c&&Rf(s,"start",!0)&&Rf(i,"end")){let g=i,y=[];for(;y.push(g),!g.isTextblock;)g=g.lastChild;let b=s,x=1;for(;!b.isTextblock;b=b.firstChild)x++;if(g.canReplace(g.childCount,g.childCount,b.content)){if(n){let S=xe.empty;for(let T=y.length-1;T>=0;T--)S=xe.from(y[T].copy(S));let N=t.tr.step(new Ar(e.pos-y.length,e.pos+s.nodeSize,e.pos+x,e.pos+s.nodeSize-x,new Ve(S,y.length,0),0,!0));n(N.scrollIntoView())}return!0}}return!1}function zZ(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(ht.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const gCe=zZ(-1),yCe=zZ(1);function vCe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&r_(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function L8(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let d=n.doc.resolve(c),h=d.index();i=d.parent.canReplaceWith(h,h+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}function c_(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}c_(s_,$Z,MZ);c_(s_,RZ,DZ);c_(LZ,FZ,BZ,hCe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function xCe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s);if(!o)return!1;let a=r?n.tr:null;return bCe(a,o,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function bCe(t,e,n,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new Hx(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Hx(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=r_(s,n,r,e);return a?(t&&wCe(t,e,a,i,n),!0):!1}function wCe(t,e,n,r,i){let s=xe.empty;for(let d=n.length-1;d>=0;d--)s=xe.from(n[d].type.create(n[d].attrs,s));t.step(new Ar(e.start-(r?2:0),e.end,e.start,e.end,new Ve(s,0,0),n.length,!0));let o=0;for(let d=0;d<n.length;d++)n[d].type==i&&(o=d+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let d=e.startIndex,h=e.endIndex,m=!0;d<h;d++,m=!1)!m&&ja(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(d).nodeSize;return t}function SCe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?CCe(e,n,t,s):NCe(e,n,s):!0:!1}}function CCe(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new Ar(s-1,o,s,o,new Ve(xe.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Hx(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=_h(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return wc(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function NCe(t,e,n){let r=t.tr,i=n.parent;for(let g=n.end,y=n.endIndex-1,b=n.startIndex;y>b;y--)g-=i.child(y).nodeSize,r.delete(g-1,g+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=s.node(-1),d=s.index(-1);if(!c.canReplace(d+(a?0:1),d+1,o.content.append(l?xe.empty:xe.from(i))))return!1;let h=s.pos,m=h+o.nodeSize;return r.step(new Ar(h-(a?1:0),m+(l?1:0),h+1,m-1,new Ve((a?xe.empty:xe.from(i.copy(xe.empty))).append(l?xe.empty:xe.from(i.copy(xe.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function PCe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,d=xe.from(c?t.create():null),h=new Ve(xe.from(t.create(null,xe.from(a.type.create(null,d)))),c?3:1,0),m=s.start,g=s.end;n(e.tr.step(new Ar(m-(c?3:1),g,m,g,h,1,!0)).scrollIntoView())}return!0}}const Fr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Df=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let WE=null;const ya=function(t,e,n){let r=WE||(WE=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},TCe=function(){WE=null},Du=function(t,e,n,r){return n&&(F8(t,e,n,r,-1)||F8(t,e,n,r,1))},ACe=/^(img|br|input|textarea|hr)$/i;function F8(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ts(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Ly(t)||ACe.test(t.nodeName)||t.contentEditable=="false")return!1;e=Fr(t)+(i<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=o,e=i<0?Ts(t):0}else return!1}}function Ts(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function jCe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ts(t)}else if(t.parentNode&&!Ly(t))e=Fr(t),t=t.parentNode;else return null}}function ECe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Ly(t))e=Fr(t)+1,t=t.parentNode;else return null}}function kCe(t,e,n){for(let r=e==0,i=e==Ts(t);r||i;){if(t==n)return!0;let s=Fr(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Ts(t)}}function Ly(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Ow=function(t){return t.focusNode&&Du(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Jc(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function OCe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function $Ce(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Ts(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Ts(r.startContainer),r.startOffset)}}}const Ho=typeof navigator<"u"?navigator:null,B8=typeof document<"u"?document:null,Sc=Ho&&Ho.userAgent||"",KE=/Edge\/(\d+)/.exec(Sc),UZ=/MSIE \d/.exec(Sc),GE=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Sc),Ri=!!(UZ||GE||KE),Ql=UZ?document.documentMode:GE?+GE[1]:KE?+KE[1]:0,Es=!Ri&&/gecko\/(\d+)/i.test(Sc);Es&&+(/Firefox\/(\d+)/.exec(Sc)||[0,0])[1];const QE=!Ri&&/Chrome\/(\d+)/.exec(Sc),Tr=!!QE,qZ=QE?+QE[1]:0,qr=!Ri&&!!Ho&&/Apple Computer/.test(Ho.vendor),Lf=qr&&(/Mobile\/\w+/.test(Sc)||!!Ho&&Ho.maxTouchPoints>2),Ps=Lf||(Ho?/Mac/.test(Ho.platform):!1),HZ=Ho?/Win/.test(Ho.platform):!1,wa=/Android \d/.test(Sc),Fy=!!B8&&"webkitFontSmoothing"in B8.documentElement.style,_Ce=Fy?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function MCe(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function da(t,e){return typeof t=="number"?t:t[e]}function ICe(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function V8(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=Df(o);continue}let a=o,l=a==s.body,c=l?MCe(s):ICe(a),d=0,h=0;if(e.top<c.top+da(r,"top")?h=-(c.top-e.top+da(i,"top")):e.bottom>c.bottom-da(r,"bottom")&&(h=e.bottom-e.top>c.bottom-c.top?e.top+da(i,"top")-c.top:e.bottom-c.bottom+da(i,"bottom")),e.left<c.left+da(r,"left")?d=-(c.left-e.left+da(i,"left")):e.right>c.right-da(r,"right")&&(d=e.right-c.right+da(i,"right")),d||h)if(l)s.defaultView.scrollBy(d,h);else{let g=a.scrollLeft,y=a.scrollTop;h&&(a.scrollTop+=h),d&&(a.scrollLeft+=d);let b=a.scrollLeft-g,x=a.scrollTop-y;e={left:e.left-b,top:e.top-x,right:e.right-b,bottom:e.bottom-x}}let m=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(m))break;o=m=="absolute"?o.offsetParent:Df(o)}}function RCe(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:WZ(t.dom)}}function WZ(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Df(r));return e}function DCe({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;KZ(n,r==0?0:r-e)}function KZ(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Md=null;function LCe(t){if(t.setActive)return t.setActive();if(Md)return t.focus(Md);let e=WZ(t);t.focus(Md==null?{get preventScroll(){return Md={preventScroll:!0},!0}}:void 0),Md||(Md=!1,KZ(e,0))}function GZ(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top,l,c;for(let d=t.firstChild,h=0;d;d=d.nextSibling,h++){let m;if(d.nodeType==1)m=d.getClientRects();else if(d.nodeType==3)m=ya(d).getClientRects();else continue;for(let g=0;g<m.length;g++){let y=m[g];if(y.top<=o&&y.bottom>=a){o=Math.max(y.bottom,o),a=Math.min(y.top,a);let b=y.left>e.left?y.left-e.left:y.right<e.left?e.left-y.right:0;if(b<r){n=d,r=b,i=b&&n.nodeType==3?{left:y.right<e.left?y.right:y.left,top:e.top}:e,d.nodeType==1&&b&&(s=h+(e.left>=(y.left+y.right)/2?1:0));continue}}else y.top>e.top&&!l&&y.left<=e.left&&y.right>=e.left&&(l=d,c={left:Math.max(y.left,Math.min(y.right,e.left)),top:y.top});!n&&(e.left>=y.right&&e.top>=y.top||e.left>=y.left&&e.top>=y.bottom)&&(s=h+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?FCe(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:GZ(n,i)}function FCe(t,e){let n=t.nodeValue.length,r=document.createRange(),i;for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let o=$l(r,1);if(o.top!=o.bottom&&u_(e,o)){i={node:t,offset:s+(e.left>=(o.left+o.right)/2?1:0)};break}}return r.detach(),i||{node:t,offset:0}}function u_(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function BCe(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function VCe(t,e,n){let{node:r,offset:i}=GZ(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function zCe(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function QZ(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(u_(e,c))return QZ(o,e,c)}}if((s=(s+1)%r)==i)break}return t}function UCe(t,e){let n=t.dom.ownerDocument,r,i=0,s=$Ce(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!u_(e,c)||(o=QZ(t.dom,e,c),!o))return null}if(qr)for(let c=o;r&&c;c=Df(c))c.draggable&&(r=void 0);if(o=BCe(o,e),r){if(Es&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],h;d.nodeName=="IMG"&&(h=d.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&i++}let c;Fy&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=zCe(t,r,i,e))}a==null&&(a=VCe(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function z8(t){return t.top<t.bottom||t.left<t.right}function $l(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(z8(r))return r}return Array.prototype.find.call(n,z8)||t.getBoundingClientRect()}const qCe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function YZ(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=Fy||Es;if(r.nodeType==3)if(o&&(qCe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=$l(ya(r,i,i),n);if(Es&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=$l(ya(r,i-1,i-1),-1);if(c.top==l.top){let d=$l(ya(r,i,i+1),-1);if(d.top!=l.top)return _p(d,d.left<c.left)}}return l}else{let l=i,c=i,d=n<0?1:-1;return n<0&&!i?(c++,d=-1):n>=0&&i==r.nodeValue.length?(l--,d=1):n<0?l--:c++,_p($l(ya(r,l,c),d),d<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Ts(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return hN(l.getBoundingClientRect(),!1)}if(s==null&&i<Ts(r)){let l=r.childNodes[i];if(l.nodeType==1)return hN(l.getBoundingClientRect(),!0)}return hN(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Ts(r))){let l=r.childNodes[i-1],c=l.nodeType==3?ya(l,Ts(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return _p($l(c,1),!1)}if(s==null&&i<Ts(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ya(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return _p($l(c,-1),!0)}return _p($l(r.nodeType==3?ya(r):r,-n),n>=0)}function _p(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function hN(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function XZ(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function HCe(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return XZ(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=YZ(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ya(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let d=l[c];if(d.bottom>d.top+1&&(n=="up"?o.top-d.top>(d.bottom-o.top)*2:d.bottom-o.bottom>(o.bottom-d.top)*2))return!1}}return!0})}const WCe=/[\u0590-\u08ac]/;function KCe(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return a?!WCe.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:XZ(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:d,anchorOffset:h}=t.domSelectionRange(),m=a.caretBidiLevel;a.modify("move",n,"character");let g=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:y,focusOffset:b}=t.domSelectionRange(),x=y&&!g.contains(y.nodeType==1?y:y.parentNode)||l==y&&c==b;try{a.collapse(d,h),l&&(l!=d||c!=h)&&a.extend&&a.extend(l,c)}catch{}return m!=null&&(a.caretBidiLevel=m),x}):r.pos==r.start()||r.pos==r.end()}let U8=null,q8=null,H8=!1;function GCe(t,e,n){return U8==e&&q8==n?H8:(U8=e,q8=n,H8=n=="up"||n=="down"?HCe(t,e,n):KCe(t,e,n))}const ks=0,W8=1,nu=2,Wo=3;class By{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=ks,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Fr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof JZ){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof ZZ&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Fr(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Fr(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let d=o+l.border;if(e>=d&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,d);e=o;for(let h=a;h>0;h--){let m=this.children[h-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){i=Fr(m.dom)+1;break}e-=m.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let d=a+1;d<this.children.length;d++){let h=this.children[d];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){s=Fr(h.dom);break}n+=h.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let g=0,y=0;g<this.children.length;g++){let b=this.children[g],x=y+b.size;if(s>y&&o<x)return b.setSelection(e-y-b.border,n-y-b.border,r,i);y=x}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),d=r.domSelectionRange(),h=!1;if((Es||qr)&&e==n){let{node:g,offset:y}=a;if(g.nodeType==3){if(h=!!(y&&g.nodeValue[y-1]==`
`),h&&y==g.nodeValue.length)for(let b=g,x;b;b=b.parentNode){if(x=b.nextSibling){x.nodeName=="BR"&&(a=l={node:x.parentNode,offset:Fr(x)+1});break}let S=b.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let b=g.childNodes[y-1];h=b&&(b.nodeName=="BR"||b.contentEditable=="false")}}if(Es&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let g=d.focusNode.childNodes[d.focusOffset];g&&g.contentEditable=="false"&&(i=!0)}if(!(i||h&&qr)&&Du(a.node,a.offset,d.anchorNode,d.anchorOffset)&&Du(l.node,l.offset,d.focusNode,d.focusOffset))return;let m=!1;if((c.extend||e==n)&&!(h&&Es)){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),m=!0}catch{}}if(!m){if(e>n){let y=a;a=l,l=y}let g=document.createRange();g.setEnd(l.node,l.offset),g.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(g)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?nu:W8,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Wo:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?nu:Wo}r=o}this.dirty=nu}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?nu:W8;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class ZZ extends By{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==ks&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class QCe extends By{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Lu extends By{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Xu.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Lu(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Wo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Wo&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=ks){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ks}}slice(e,n,r){let i=Lu.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=XE(s,n,o,r)),e>0&&(s=XE(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Yl extends By{constructor(e,n,r,i,s,o,a,l,c){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),d=c&&c.dom,h=c&&c.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:h}=Xu.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!h&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let m=d;return d=nJ(d,r,n),c?l=new YCe(e,n,r,i,d,h||null,m,c,s,o+1):n.isText?new $w(e,n,r,i,d,m,s):new Yl(e,n,r,i,d,h||null,m,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>xe.empty)}return e}matchesNode(e,n,r){return this.dirty==ks&&e.eq(this.node)&&Kx(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new ZCe(this,o&&o.node,e);tNe(this.node,this.innerDeco,(c,d,h)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e,d):c.type.side>=0&&!h&&l.syncToMarks(d==this.node.childCount?sn.none:this.node.child(d).marks,r,e,d),l.placeWidget(c,e,i)},(c,d,h,m)=>{l.syncToMarks(c.marks,r,e,m);let g;l.findNodeMatch(c,d,h,m)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(g=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,d,h,g,e)||l.updateNextNode(c,d,h,e,m,i)||l.addNode(c,d,h,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e,0),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==nu)&&(o&&this.protectLocalComposition(e,o),eJ(this.contentDOM,this.children,e),Lf&&nNe(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof ht)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=rNe(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new QCe(this,s,n,i);e.input.compositionNodes.push(o),this.children=XE(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==Wo||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=ks}updateOuterDeco(e){if(Kx(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=tJ(this.dom,this.nodeDOM,YE(this.outerDeco,this.node,n),YE(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function K8(t,e,n,r,i){nJ(r,e,t);let s=new Yl(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class $w extends Yl{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Wo||this.dirty!=ks&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=ks||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=ks,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new $w(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Wo)}get domAtom(){return!1}isText(e){return this.node.text==e}}class JZ extends By{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ks&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class YCe extends Yl{constructor(e,n,r,i,s,o,a,l,c,d){super(e,n,r,i,s,o,a,c,d),this.spec=l}update(e,n,r,i){if(this.dirty==Wo)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function eJ(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=G8(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof Lu){let l=r?r.previousSibling:t.lastChild;eJ(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=G8(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const pm=function(t){t&&(this.nodeName=t)};pm.prototype=Object.create(null);const ru=[new pm];function YE(t,e,n){if(t.length==0)return ru;let r=n?ru[0]:new pm,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new pm(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new pm(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function tJ(t,e,n,r){if(n==ru&&r==ru)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=ru[0]),i=l}XCe(i,a||ru[0],o)}return i}function XCe(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function nJ(t,e,n){return tJ(t,t,ru,YE(e,n,t.nodeType!=1))}function Kx(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function G8(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class ZCe{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=JCe(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r,i){let s=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;s<a&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=ks,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1,c=this.top.children.length;i<this.preMatch.index&&(c=Math.min(this.index+3,c));for(let d=this.index;d<c;d++){let h=this.top.children[d];if(h.matchesMark(e[o])&&!this.isLocked(h.dom)){l=d;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let d=Lu.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==Wo&&o.dom==o.contentDOM&&(o.dirty=nu),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Yl){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let d=l.dom,h,m=this.isLocked(d)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Wo&&Kx(n,l.outerDeco));if(!m&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!m&&(h=this.recreateWrapper(l,e,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=nu,h.updateChildren(i,o+1),h.dirty=ks),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Kx(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Yl.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,s){let o=Yl.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new ZZ(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Lu;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof $w)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((qr||Tr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new JZ(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function JCe(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof Lu)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function eNe(t,e){return t.type.side-e.type.side}function tNe(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let d=t.child(c);r(d,i,e.forChild(s,d),c),s+=d.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let d,h;for(;o<i.length&&i[o].to==s;){let x=i[o++];x.widget&&(d?(h||(h=[d])).push(x):d=x)}if(d)if(h){h.sort(eNe);for(let x=0;x<h.length;x++)n(h[x],c,!!l)}else n(d,c,!!l);let m,g;if(l)g=-1,m=l,l=null;else if(c<t.childCount)g=c,m=t.child(c++);else break;for(let x=0;x<a.length;x++)a[x].to<=s&&a.splice(x--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let y=s+m.nodeSize;if(m.isText){let x=y;o<i.length&&i[o].from<x&&(x=i[o].from);for(let S=0;S<a.length;S++)a[S].to<x&&(x=a[S].to);x<y&&(l=m.cut(x-s),m=m.cut(0,x-s),y=x,g=-1)}else for(;o<i.length&&i[o].to<y;)o++;let b=m.isInline&&!m.isLeaf?a.filter(x=>!x.inline):a.slice();r(m,b,e.forChild(s,m),g),s=y}}function nNe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function rNe(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function XE(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,d=a+=l.size;c>=n||d<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),i&&(s.push(i),i=void 0),d>n&&s.push(l.slice(n-c,l.size,r)))}return s}function d_(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(Ow(n)){for(l=o;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&et.isSelectable(h)&&i.parent&&!(h.isInline&&kCe(n.focusNode,n.focusOffset,i.dom))){let m=i.posBefore;c=new et(o==m?a:r.resolve(m))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=o,m=o;for(let g=0;g<n.rangeCount;g++){let y=n.getRangeAt(g);h=Math.min(h,t.docView.posFromDOM(y.startContainer,y.startOffset,1)),m=Math.max(m,t.docView.posFromDOM(y.endContainer,y.endOffset,-1))}if(h<0)return null;[l,o]=m==t.state.selection.anchor?[m,h]:[h,m],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let d=r.resolve(l);if(!c){let h=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=f_(t,d,a,h)}return c}function rJ(t){return t.editable?t.hasFocus():sJ(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ea(t,e=!1){let n=t.state.selection;if(iJ(t,n),!!rJ(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Tr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Du(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)sNe(t);else{let{anchor:r,head:i}=n,s,o;Q8&&!(n instanceof ht)&&(n.$from.parent.inlineContent||(s=Y8(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=Y8(t,n.to))),t.docView.setSelection(r,i,t,e),Q8&&(s&&X8(s),o&&X8(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&iNe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Q8=qr||Tr&&qZ<63;function Y8(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(qr&&i&&i.contentEditable=="false")return pN(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return pN(i);if(s)return pN(s)}}function pN(t){return t.contentEditable="true",qr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function X8(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function iNe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!rJ(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function sNe(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Fr(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Ri&&Ql<=11&&(n.disabled=!0,n.disabled=!1)}function iJ(t,e){if(e instanceof et){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Z8(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Z8(t)}function Z8(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function f_(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||ht.between(e,n,r)}function J8(t){return t.editable&&!t.hasFocus()?!1:sJ(t)}function sJ(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function oNe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Du(e.node,e.offset,n.anchorNode,n.anchorOffset)}function ZE(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Ct.findFrom(s,e)}function Ml(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function e6(t,e,n){let r=t.state.selection;if(r instanceof ht)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Ml(t,new ht(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=ZE(t.state,e);return i&&i instanceof et?Ml(t,i):!1}else if(!(Ps&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?et.isSelectable(s)?Ml(t,new et(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Fy?Ml(t,new ht(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof et&&r.node.isInline)return Ml(t,new ht(e>0?r.$to:r.$from));{let i=ZE(t.state,e);return i?Ml(t,i):!1}}}function Gx(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function mm(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Id(t,e){return e<0?aNe(t):lNe(t)}function aNe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(Es&&n.nodeType==1&&r<Gx(n)&&mm(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(mm(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(oJ(n))break;{let a=n.previousSibling;for(;a&&mm(a,-1);)i=n.parentNode,s=Fr(a),a=a.previousSibling;if(a)n=a,r=Gx(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?JE(t,n,r):i&&JE(t,i,s)}function lNe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Gx(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(mm(a,1))s=n,o=++r;else break}else{if(oJ(n))break;{let a=n.nextSibling;for(;a&&mm(a,1);)s=a.parentNode,o=Fr(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=Gx(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&JE(t,s,o)}function oJ(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function cNe(t,e){for(;t&&e==t.childNodes.length&&!Ly(t);)e=Fr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function uNe(t,e){for(;t&&!e&&!Ly(t);)e=Fr(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function JE(t,e,n){if(e.nodeType!=3){let s,o;(o=cNe(e,n))?(e=o,n=0):(s=uNe(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Ow(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Ea(t)},50)}function t6(t,e){let n=t.state.doc.resolve(e);if(!(Tr||HZ)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function n6(t,e,n){let r=t.state.selection;if(r instanceof ht&&!r.empty||n.indexOf("s")>-1||Ps&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=ZE(t.state,e);if(o&&o instanceof et)return Ml(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof is?Ct.near(o,e):Ct.findFrom(o,e);return a?Ml(t,a):!1}return!1}function r6(t,e){if(!(t.state.selection instanceof ht))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function i6(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function dNe(t){if(!qr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;i6(t,r,"true"),setTimeout(()=>i6(t,r,"false"),20)}return!1}function fNe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function hNe(t,e){let n=e.keyCode,r=fNe(e);if(n==8||Ps&&n==72&&r=="c")return r6(t,-1)||Id(t,-1);if(n==46&&!e.shiftKey||Ps&&n==68&&r=="c")return r6(t,1)||Id(t,1);if(n==13||n==27)return!0;if(n==37||Ps&&n==66&&r=="c"){let i=n==37?t6(t,t.state.selection.from)=="ltr"?-1:1:-1;return e6(t,i,r)||Id(t,i)}else if(n==39||Ps&&n==70&&r=="c"){let i=n==39?t6(t,t.state.selection.from)=="ltr"?1:-1:1;return e6(t,i,r)||Id(t,i)}else{if(n==38||Ps&&n==80&&r=="c")return n6(t,-1,r)||Id(t,-1);if(n==40||Ps&&n==78&&r=="c")return dNe(t)||n6(t,1,r)||Id(t,1);if(r==(Ps?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function h_(t,e){t.someProp("transformCopied",g=>{e=g(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let g=r.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let o=t.someProp("clipboardSerializer")||Xu.fromSchema(t.state.schema),a=fJ(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,d,h=0;for(;c&&c.nodeType==1&&(d=dJ[c.nodeName.toLowerCase()]);){for(let g=d.length-1;g>=0;g--){let y=a.createElement(d[g]);for(;l.firstChild;)y.appendChild(l.firstChild);l.appendChild(y),h++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${h?` -${h}`:""} ${JSON.stringify(n)}`);let m=t.someProp("clipboardTextSerializer",g=>g(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:m,slice:e}}function aJ(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=!!e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",m=>{e=m(e,s||r,t)}),s)return a=new Ve(xe.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",m=>{a=m(a,t,!0)}),a;let h=t.someProp("clipboardTextParser",m=>m(e,i,r,t));if(h)a=h;else{let m=i.marks(),{schema:g}=t.state,y=Xu.fromSchema(g);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(b=>{let x=o.appendChild(document.createElement("p"));b&&x.appendChild(y.serializeNode(g.text(b,m)))})}}else t.someProp("transformPastedHTML",h=>{n=h(n,t)}),o=yNe(n),Fy&&vNe(o);let c=o&&o.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let h=+d[3];h>0;h--){let m=o.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;o=m}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Gl.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||d),context:i,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!pNe.test(m.parentNode.nodeName)?{ignore:!0}:null}})),d)a=xNe(s6(a,+d[1],+d[2]),d[4]);else if(a=Ve.maxOpen(mNe(a.content,i),!0),a.openStart||a.openEnd){let h=0,m=0;for(let g=a.content.firstChild;h<a.openStart&&!g.type.spec.isolating;h++,g=g.firstChild);for(let g=a.content.lastChild;m<a.openEnd&&!g.type.spec.isolating;m++,g=g.lastChild);a=s6(a,h,m)}return t.someProp("transformPasted",h=>{a=h(a,t,l)}),a}const pNe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function mNe(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&cJ(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=uJ(o[o.length-1],s.length));let d=lJ(a,l);o.push(d),i=i.matchType(d.type),s=l}}),o)return xe.from(o)}return t}function lJ(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,xe.from(t));return t}function cJ(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=cJ(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(xe.from(lJ(n,t,i+1))))}}function uJ(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,uJ(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(xe.empty,!0);return t.copy(n.append(r))}function ek(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<r-1&&(a=ek(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(xe.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function s6(t,e,n){return e<t.openStart&&(t=new Ve(ek(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Ve(ek(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const dJ={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let o6=null;function fJ(){return o6||(o6=document.implementation.createHTMLDocument("title"))}let mN=null;function gNe(t){let e=window.trustedTypes;return e?(mN||(mN=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),mN.createHTML(t)):t}function yNe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=fJ().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&dJ[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=gNe(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function vNe(t){let e=t.querySelectorAll(Tr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function xNe(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=xe.from(l.create(r[a+1],i)),s++,o++}return new Ve(i,s,o)}const wi={},Si={},bNe={touchstart:!0,touchmove:!0};class wNe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function SNe(t){for(let e in wi){let n=wi[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{NNe(t,r)&&!p_(t,r)&&(t.editable||!(r.type in Si))&&n(t,r)},bNe[e]?{passive:!0}:void 0)}qr&&t.dom.addEventListener("input",()=>null),tk(t)}function Hl(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function CNe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function tk(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>p_(t,r))})}function p_(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function NNe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function PNe(t,e){!p_(t,e)&&wi[e.type]&&(t.editable||!(e.type in Si))&&wi[e.type](t,e)}Si.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!pJ(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(wa&&Tr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Lf&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Jc(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||hNe(t,n)?n.preventDefault():Hl(t,"key")};Si.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Si.keypress=(t,e)=>{let n=e;if(pJ(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ps&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof ht)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function _w(t){return{left:t.clientX,top:t.clientY}}function TNe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function m_(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function gf(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function ANe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&et.isSelectable(r)?(gf(t,new et(n)),!0):!1}function jNe(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof et&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(et.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(gf(t,et.create(t.state.doc,i)),!0):!1}function ENe(t,e,n,r,i){return m_(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?jNe(t,n):ANe(t,n))}function kNe(t,e,n,r){return m_(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function ONe(t,e,n,r){return m_(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||$Ne(t,n,r)}function $Ne(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(gf(t,ht.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)gf(t,ht.create(r,a+1,a+1+o.content.size));else if(et.isSelectable(o))gf(t,et.create(r,a));else continue;return!0}}function g_(t){return Qx(t)}const hJ=Ps?"metaKey":"ctrlKey";wi.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=g_(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&TNe(n,t.input.lastClick)&&!n[hJ]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let o=t.posAtCoords(_w(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new _Ne(t,o,n,!!r)):(s=="doubleClick"?kNe:ONe)(t,o.pos,o.inside,n)?n.preventDefault():Hl(t,"pointer"))};class _Ne{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[hJ],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let d=e.state.doc.resolve(n.pos);s=d.parent,o=d.depth?d.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof et&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Es&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Hl(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ea(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(_w(e))),this.updateAllowDefault(e),this.allowDefault||!n?Hl(this.view,"pointer"):ENe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||qr&&this.mightDrag&&!this.mightDrag.node.isAtom||Tr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(gf(this.view,Ct.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Hl(this.view,"pointer")}move(e){this.updateAllowDefault(e),Hl(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}wi.touchstart=t=>{t.input.lastTouch=Date.now(),g_(t),Hl(t,"pointer")};wi.touchmove=t=>{t.input.lastTouch=Date.now(),Hl(t,"pointer")};wi.contextmenu=t=>g_(t);function pJ(t,e){return t.composing?!0:qr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const MNe=wa?5e3:-1;Si.compositionstart=Si.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof ht&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||Tr&&HZ&&INe(t)))t.markCursor=t.state.storedMarks||n.marks(),Qx(t,!0),t.markCursor=null;else if(Qx(t,!e.selection.empty),Es&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}mJ(t,MNe)};function INe(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}Si.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,mJ(t,20))};function mJ(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Qx(t),e))}function gJ(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=DNe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function RNe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=jCe(e.focusNode,e.focusOffset),r=ECe(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function DNe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Qx(t,e=!1){if(!(wa&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),gJ(t),e||t.docView&&t.docView.dirty){let n=d_(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function LNe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const ug=Ri&&Ql<15||Lf&&_Ce<604;wi.copy=Si.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=ug?null:n.clipboardData,o=r.content(),{dom:a,text:l}=h_(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):LNe(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function FNe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function BNe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?dg(t,r.value,null,i,e):dg(t,r.textContent,r.innerHTML,i,e)},50)}function dg(t,e,n,r,i){let s=aJ(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||Ve.empty)))return!0;if(!s)return!1;let o=FNe(s),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function yJ(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Si.paste=(t,e)=>{let n=e;if(t.composing&&!wa)return;let r=ug?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&dg(t,yJ(r),r.getData("text/html"),i,n)?n.preventDefault():BNe(t,n)};class vJ{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const VNe=Ps?"altKey":"ctrlKey";function xJ(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[VNe]}wi.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(_w(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof et?i.to-1:i.to))){if(r&&r.mightDrag)o=et.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=t.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(o=et.create(t.state.doc,h.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:d}=h_(t,a);(!n.dataTransfer.files.length||!Tr||qZ>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ug?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",ug||n.dataTransfer.setData("text/plain",c),t.dragging=new vJ(d,xJ(t,n),o)};wi.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Si.dragover=Si.dragenter=(t,e)=>e.preventDefault();Si.drop=(t,e)=>{try{zNe(t,e,t.dragging)}finally{t.dragging=null}};function zNe(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(_w(e));if(!r)return;let i=t.state.doc.resolve(r.pos),s=n&&n.slice;s?t.someProp("transformPasted",g=>{s=g(s,t,!1)}):s=aJ(t,yJ(e.dataTransfer),ug?null:e.dataTransfer.getData("text/html"),!1,i);let o=!!(n&&xJ(t,e));if(t.someProp("handleDrop",g=>g(t,e,s||Ve.empty,o))){e.preventDefault();return}if(!s)return;e.preventDefault();let a=s?CZ(t.state.doc,i.pos,s):i.pos;a==null&&(a=i.pos);let l=t.state.tr;if(o){let{node:g}=n;g?g.replace(l):l.deleteSelection()}let c=l.mapping.map(a),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,h=l.doc;if(d?l.replaceRangeWith(c,c,s.content.firstChild):l.replaceRange(c,c,s),l.doc.eq(h))return;let m=l.doc.resolve(c);if(d&&et.isSelectable(s.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(s.content.firstChild))l.setSelection(new et(m));else{let g=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((y,b,x,S)=>g=S),l.setSelection(f_(t,m,l.doc.resolve(g)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}wi.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ea(t)},20))};wi.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};wi.beforeinput=(t,e)=>{if(Tr&&wa&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Jc(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Si)wi[t]=Si[t];function fg(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Yx{constructor(e,n){this.toDOM=e,this.spec=n||gu,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new vi(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Yx&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&fg(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Xl{constructor(e,n){this.attrs=e,this.spec=n||gu}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new vi(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Xl&&fg(this.attrs,e.attrs)&&fg(this.spec,e.spec)}static is(e){return e.type instanceof Xl}destroy(){}}class y_{constructor(e,n){this.attrs=e,this.spec=n||gu}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new vi(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof y_&&fg(this.attrs,e.attrs)&&fg(this.spec,e.spec)}destroy(){}}class vi{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new vi(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new vi(e,e,new Yx(n,r))}static inline(e,n,r,i){return new vi(e,n,new Xl(r,i))}static node(e,n,r,i){return new vi(e,n,new y_(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Xl}get widget(){return this.type instanceof Yx}}const Hd=[],gu={};class En{constructor(e,n){this.local=e.length?e:Hd,this.children=n.length?n:Hd}static create(e,n){return n.length?Xx(n,e,0,gu):Zr}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==Zr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||gu)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?UNe(this.children,o||[],e,n,r,i,s):o?new En(o.sort(yu),Hd):Zr}add(e,n){return n.length?this==Zr?En.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,d;if(d=wJ(n,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,d,c+1):i.splice(s,0,l,l+a.nodeSize,Xx(d,a,c+1,gu)),s+=3}});let o=bJ(s?SJ(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new En(o.length?this.local.concat(o).sort(yu):this.local,i||this.children)}remove(e){return e.length==0||this==Zr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let d=0,h;d<e.length;d++)(h=e[d])&&h.from>a&&h.to<l&&(e[d]=null,(o||(o=[])).push(h));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=Zr?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new En(i,r):Zr}forChild(e,n){if(this==Zr)return this;if(n.isLeaf)return En.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Xl){let c=Math.max(s,l.from)-s,d=Math.min(o,l.to)-s;c<d&&(i||(i=[])).push(l.copy(c,d))}}if(i){let a=new En(i.sort(yu),Hd);return r?new Fl([a,r]):a}return r||Zr}eq(e){if(this==e)return!0;if(!(e instanceof En)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return v_(this.localsInner(e))}localsInner(e){if(this==Zr)return Hd;if(e.inlineContent||!this.local.some(Xl.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Xl||n.push(this.local[r]);return n}forEachSet(e){e(this)}}En.empty=new En([],[]);En.removeOverlap=v_;const Zr=En.empty;class Fl{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,gu));return Fl.from(r)}forChild(e,n){if(n.isLeaf)return En.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Zr&&(s instanceof Fl?r=r.concat(s.members):r.push(s))}return Fl.from(r)}eq(e){if(!(e instanceof Fl)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?v_(r?n:n.sort(yu)):Hd}static from(e){switch(e.length){case 0:return Zr;case 1:return e[0];default:return new Fl(e.every(n=>n instanceof En)?e:e.reduce((n,r)=>n.concat(r instanceof En?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function UNe(t,e,n,r,i,s,o){let a=t.slice();for(let c=0,d=s;c<n.maps.length;c++){let h=0;n.maps[c].forEach((m,g,y,b)=>{let x=b-y-(g-m);for(let S=0;S<a.length;S+=3){let N=a[S+1];if(N<0||m>N+d-h)continue;let T=a[S]+d-h;g>=T?a[S+1]=m<=T?-2:-1:m>=d&&x&&(a[S]+=x,a[S+1]+=x)}h+=x}),d=n.maps[c].map(d,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let d=n.map(t[c]+s),h=d-i;if(h<0||h>=r.content.size){l=!0;continue}let m=n.map(t[c+1]+s,-1),g=m-i,{index:y,offset:b}=r.content.findIndex(h),x=r.maybeChild(y);if(x&&b==h&&b+x.nodeSize==g){let S=a[c+2].mapInner(n,x,d+1,t[c]+s+1,o);S!=Zr?(a[c]=h,a[c+1]=g,a[c+2]=S):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=qNe(a,t,e,n,i,s,o),d=Xx(c,r,0,o);e=d.local;for(let h=0;h<a.length;h+=3)a[h+1]<0&&(a.splice(h,3),h-=3);for(let h=0,m=0;h<d.children.length;h+=3){let g=d.children[h];for(;m<a.length&&a[m]<g;)m+=3;a.splice(m,0,d.children[h],d.children[h+1],d.children[h+2])}}return new En(e.sort(yu),a)}function bJ(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new vi(i.from+e,i.to+e,i.type))}return n}function qNe(t,e,n,r,i,s,o){function a(l,c){for(let d=0;d<l.local.length;d++){let h=l.local[d].map(r,i,c);h?n.push(h):o.onRemove&&o.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)a(l.children[d+2],l.children[d]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function wJ(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function SJ(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Xx(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let c=wJ(t,a,l+n);if(c){s=!0;let d=Xx(c,a,n+l+1,r);d!=Zr&&i.push(l,l+a.nodeSize,d)}});let o=bJ(s?SJ(t):t,-n).sort(yu);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new En(o,i):Zr}function yu(t,e){return t.from-e.from||t.to-e.to}function v_(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),a6(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),a6(e,i,r.copy(s.from,r.to)));break}}}return e}function a6(t,e,n){for(;e<t.length&&yu(n,t[e])>0;)e++;t.splice(e,0,n)}function gN(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Zr&&e.push(r)}),t.cursorWrapper&&e.push(En.create(t.state.doc,[t.cursorWrapper.deco])),Fl.from(e)}const HNe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},WNe=Ri&&Ql<=11;class KNe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class GNe{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new KNe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ri&&Ql<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():qr&&e.composing&&r.some(i=>i.type=="childList"&&i.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),WNe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,HNe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(J8(this.view)){if(this.suppressingSelectionUpdates)return Ea(this.view);if(Ri&&Ql<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Du(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Df(s))n.add(s);for(let s=e.anchorNode;s;s=Df(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&J8(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let d=0;d<n.length;d++){let h=this.registerMutation(n[d],l);h&&(s=s<0?h.from:Math.min(h.from,s),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(a=!0))}if(Es&&l.length){let d=l.filter(h=>h.nodeName=="BR");if(d.length==2){let[h,m]=d;h.parentNode&&h.parentNode.parentNode==m.parentNode?m.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let m of d){let g=m.parentNode;g&&g.nodeName=="LI"&&(!h||XNe(e,h)!=g)&&m.remove()}}}else if((Tr||qr)&&l.some(d=>d.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let d of l)if(d.nodeName=="BR"&&d.parentNode){let h=d.nextSibling;h&&h.nodeType==1&&h.contentEditable=="false"&&d.parentNode.removeChild(d)}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ow(r)&&(c=d_(e))&&c.eq(Ct.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ea(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),QNe(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,ZNe(e,l)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ea(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let h=e.addedNodes[d];n.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Ri&&Ql<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:h,nextSibling:m}=e.addedNodes[d];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m)}let o=i&&i.parentNode==e.target?Fr(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?Fr(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let l6=new WeakMap,c6=!1;function QNe(t){if(!l6.has(t)&&(l6.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Es,c6)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),c6=!0}}function u6(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Du(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function YNe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return u6(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?u6(t,n):null}function XNe(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function ZNe(t,e){var n;let{focusNode:r,focusOffset:i}=t.domSelectionRange();for(let s of e)if(((n=s.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let o=s.nextSibling;for(;o&&o.nodeName!="TD"&&o.nodeName!="TH";)o=o.nextSibling;if(o){let a=o;for(;;){let l=a.firstChild;if(!l||l.nodeType!=1||l.contentEditable=="false"||/^(BR|IMG)$/.test(l.nodeName))break;a=l}a.insertBefore(s,a.firstChild),r==s&&t.domSelection().collapse(s,i)}else s.parentNode.removeChild(s)}}function JNe(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,d=l.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:l.anchorOffset}],Ow(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Tr&&t.input.lastKeyCode===8)for(let x=s;x>i;x--){let S=r.childNodes[x-1],N=S.pmViewDesc;if(S.nodeName=="BR"&&!N){s=x;break}if(!N||N.size)break}let h=t.state.doc,m=t.someProp("domParser")||Gl.fromSchema(t.state.schema),g=h.resolve(o),y=null,b=m.parse(r,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:s,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:ePe,context:g});if(c&&c[0].pos!=null){let x=c[0].pos,S=c[1]&&c[1].pos;S==null&&(S=x),y={anchor:x+o,head:S+o}}return{doc:b,sel:y,from:o,to:a}}function ePe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(qr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||qr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const tPe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function nPe(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let O=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,_=d_(t,O);if(_&&!t.state.selection.eq(_)){if(Tr&&wa&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",B=>B(t,Jc(13,"Enter"))))return;let $=t.state.tr.setSelection(_);O=="pointer"?$.setMeta("pointer",!0):O=="key"&&$.scrollIntoView(),s&&$.setMeta("composition",s),t.dispatch($)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=JNe(t,e,n),d=t.state.doc,h=d.slice(c.from,c.to),m,g;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(m=t.state.selection.to,g="end"):(m=t.state.selection.from,g="start"),t.input.lastKeyCode=null;let y=sPe(h.content,c.doc.content,c.from,m,g);if(y&&t.input.domChangeCount++,(Lf&&t.input.lastIOSEnter>Date.now()-225||wa)&&i.some(O=>O.nodeType==1&&!tPe.test(O.nodeName))&&(!y||y.endA>=y.endB)&&t.someProp("handleKeyDown",O=>O(t,Jc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!y)if(r&&l instanceof ht&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))y={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let O=d6(t,t.state.doc,c.sel);if(O&&!O.eq(t.state.selection)){let _=t.state.tr.setSelection(O);s&&_.setMeta("composition",s),t.dispatch(_)}}return}t.state.selection.from<t.state.selection.to&&y.start==y.endB&&t.state.selection instanceof ht&&(y.start>t.state.selection.from&&y.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?y.start=t.state.selection.from:y.endA<t.state.selection.to&&y.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(y.endB+=t.state.selection.to-y.endA,y.endA=t.state.selection.to)),Ri&&Ql<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>c.from&&c.doc.textBetween(y.start-c.from-1,y.start-c.from+1)==" "&&(y.start--,y.endA--,y.endB--);let b=c.doc.resolveNoCache(y.start-c.from),x=c.doc.resolveNoCache(y.endB-c.from),S=d.resolve(y.start),N=b.sameParent(x)&&b.parent.inlineContent&&S.end()>=y.endA;if((Lf&&t.input.lastIOSEnter>Date.now()-225&&(!N||i.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!N&&b.pos<c.doc.content.size&&(!b.sameParent(x)||!b.parent.inlineContent)&&b.pos<x.pos&&!/\S/.test(c.doc.textBetween(b.pos,x.pos,"","")))&&t.someProp("handleKeyDown",O=>O(t,Jc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>y.start&&iPe(d,y.start,y.endA,b,x)&&t.someProp("handleKeyDown",O=>O(t,Jc(8,"Backspace")))){wa&&Tr&&t.domObserver.suppressSelectionUpdates();return}Tr&&y.endB==y.start&&(t.input.lastChromeDelete=Date.now()),wa&&!N&&b.start()!=x.start()&&x.parentOffset==0&&b.depth==x.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==y.endA&&(y.endB-=2,x=c.doc.resolveNoCache(y.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(O){return O(t,Jc(13,"Enter"))})},20));let T=y.start,j=y.endA,P=O=>{let _=O||t.state.tr.replace(T,j,c.doc.slice(y.start-c.from,y.endB-c.from));if(c.sel){let $=d6(t,_.doc,c.sel);$&&!(Tr&&t.composing&&$.empty&&(y.start!=y.endB||t.input.lastChromeDelete<Date.now()-100)&&($.head==T||$.head==_.mapping.map(j)-1)||Ri&&$.empty&&$.head==T)&&_.setSelection($)}return s&&_.setMeta("composition",s),_.scrollIntoView()},E;if(N)if(b.pos==x.pos){Ri&&Ql<=11&&b.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ea(t),20));let O=P(t.state.tr.delete(T,j)),_=d.resolve(y.start).marksAcross(d.resolve(y.endA));_&&O.ensureMarks(_),t.dispatch(O)}else if(y.endA==y.endB&&(E=rPe(b.parent.content.cut(b.parentOffset,x.parentOffset),S.parent.content.cut(S.parentOffset,y.endA-S.start())))){let O=P(t.state.tr);E.type=="add"?O.addMark(T,j,E.mark):O.removeMark(T,j,E.mark),t.dispatch(O)}else if(b.parent.child(b.index()).isText&&b.index()==x.index()-(x.textOffset?0:1)){let O=b.parent.textBetween(b.parentOffset,x.parentOffset),_=()=>P(t.state.tr.insertText(O,T,j));t.someProp("handleTextInput",$=>$(t,T,j,O,_))||t.dispatch(_())}else t.dispatch(P());else t.dispatch(P())}function d6(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:f_(t,e.resolve(n.anchor),e.resolve(n.head))}function rPe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,l;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)s=n[d].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=d=>d.mark(a.addToSet(d.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=d=>d.mark(a.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<e.childCount;d++)c.push(l(e.child(d)));if(xe.from(c).eq(t))return{mark:a,type:o}}function iPe(t,e,n,r,i){if(n-e<=i.pos-r.pos||yN(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(yN(s,!0,!0));return!o.parent.isTextblock||o.pos>n||yN(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function yN(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function sPe(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&t.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&f6(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&f6(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function f6(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class CJ{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new wNe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(y6),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=m6(this),p6(this),this.nodeViews=g6(this),this.docView=K8(this.state.doc,h6(this),gN(this),this.dom,this),this.domObserver=new GNe(this,(r,i,s,o)=>nPe(this,r,i,s,o)),this.domObserver.start(),SNe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&tk(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(y6),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(gJ(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let g=g6(this);aPe(g,this.nodeViews)&&(this.nodeViews=g,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&tk(this),this.editable=m6(this),p6(this);let l=gN(this),c=h6(this),d=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",h=s||!this.docView.matchesNode(e.doc,c,l);(h||!e.selection.eq(i.selection))&&(o=!0);let m=d=="preserve"&&o&&this.dom.style.overflowAnchor==null&&RCe(this);if(o){this.domObserver.stop();let g=h&&(Ri||Tr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&oPe(i.selection,e.selection);if(h){let y=Tr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=RNe(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=K8(e.doc,c,l,this.dom,this)),y&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&oNe(this))?Ea(this,g):(iJ(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():m&&DCe(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof et){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&V8(this,n.getBoundingClientRect(),e)}else V8(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new vJ(e.slice,e.move,i<0?void 0:et.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Ri){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&LCe(this.dom),Ea(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return UCe(this,e)}coordsAtPos(e,n=1){return YZ(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return GCe(this,n||this.state,e)}pasteHTML(e,n){return dg(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return dg(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return h_(this,e)}destroy(){this.docView&&(CNe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],gN(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,TCe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return PNe(this,e)}domSelectionRange(){let e=this.domSelection();return e?qr&&this.root.nodeType===11&&OCe(this.dom.ownerDocument)==this.dom&&YNe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}CJ.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function h6(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[vi.node(0,t.state.doc.content.size,e)]}function p6(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:vi.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function m6(t){return!t.someProp("editable",e=>e(t.state)===!1)}function oPe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function g6(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function aPe(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function y6(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var hc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Zx={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},lPe=typeof navigator<"u"&&/Mac/.test(navigator.platform),cPe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Br=0;Br<10;Br++)hc[48+Br]=hc[96+Br]=String(Br);for(var Br=1;Br<=24;Br++)hc[Br+111]="F"+Br;for(var Br=65;Br<=90;Br++)hc[Br]=String.fromCharCode(Br+32),Zx[Br]=String.fromCharCode(Br);for(var vN in hc)Zx.hasOwnProperty(vN)||(Zx[vN]=hc[vN]);function uPe(t){var e=lPe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||cPe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Zx:hc)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const dPe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),fPe=typeof navigator<"u"&&/Win/.test(navigator.platform);function hPe(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))dPe?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function pPe(t){let e=Object.create(null);for(let n in t)e[hPe(n)]=t[n];return e}function xN(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function mPe(t){return new On({props:{handleKeyDown:NJ(t)}})}function NJ(t){let e=pPe(t);return function(n,r){let i=uPe(r),s,o=e[xN(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[xN(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(fPe&&r.ctrlKey&&r.altKey)&&(s=hc[r.keyCode])&&s!=i){let a=e[xN(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var gPe=Object.defineProperty,x_=(t,e)=>{for(var n in e)gPe(t,n,{get:e[n],enumerable:!0})};function Mw(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var Iw=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([o,a])=>[o,(...c)=>{const d=a(...c)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o=[],a=!!t,l=t||i.tr,c=()=>(!a&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),o.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(n).map(([h,m])=>[h,(...y)=>{const b=this.buildProps(l,e),x=m(...y)(b);return o.push(x),d}])),run:c};return d}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...c)=>l(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o={tr:t,editor:r,view:s,state:Mw({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...c)=>l(...c)(o)]))}};return o}},PJ={};x_(PJ,{blur:()=>yPe,clearContent:()=>vPe,clearNodes:()=>xPe,command:()=>bPe,createParagraphNear:()=>wPe,cut:()=>SPe,deleteCurrentNode:()=>CPe,deleteNode:()=>NPe,deleteRange:()=>PPe,deleteSelection:()=>TPe,enter:()=>APe,exitCode:()=>jPe,extendMarkRange:()=>EPe,first:()=>kPe,focus:()=>$Pe,forEach:()=>_Pe,insertContent:()=>MPe,insertContentAt:()=>DPe,joinBackward:()=>BPe,joinDown:()=>FPe,joinForward:()=>VPe,joinItemBackward:()=>zPe,joinItemForward:()=>UPe,joinTextblockBackward:()=>qPe,joinTextblockForward:()=>HPe,joinUp:()=>LPe,keyboardShortcut:()=>KPe,lift:()=>GPe,liftEmptyBlock:()=>QPe,liftListItem:()=>YPe,newlineInCode:()=>XPe,resetAttributes:()=>ZPe,scrollIntoView:()=>JPe,selectAll:()=>eTe,selectNodeBackward:()=>tTe,selectNodeForward:()=>nTe,selectParentNode:()=>rTe,selectTextblockEnd:()=>iTe,selectTextblockStart:()=>sTe,setContent:()=>oTe,setMark:()=>TTe,setMeta:()=>ATe,setNode:()=>jTe,setNodeSelection:()=>ETe,setTextDirection:()=>kTe,setTextSelection:()=>OTe,sinkListItem:()=>$Te,splitBlock:()=>_Te,splitListItem:()=>MTe,toggleList:()=>ITe,toggleMark:()=>RTe,toggleNode:()=>DTe,toggleWrap:()=>LTe,undoInputRule:()=>FTe,unsetAllMarks:()=>BTe,unsetMark:()=>VTe,unsetTextDirection:()=>zTe,updateAttributes:()=>UTe,wrapIn:()=>qTe,wrapInList:()=>HTe});var yPe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),vPe=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),xPe=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:d}=e,h=c.resolve(d.map(l)),m=c.resolve(d.map(l+a.nodeSize)),g=h.blockRange(m);if(!g)return;const y=_h(g);if(a.type.isTextblock){const{defaultType:b}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(g.start,b)}(y||y===0)&&e.lift(g,y)})}),!0},bPe=t=>e=>t(e),wPe=()=>({state:t,dispatch:e})=>FZ(t,e),SPe=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new ht(r.doc.resolve(Math.max(o-1,0)))),!0},CPe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),l=i.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1};function tr(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var NPe=t=>({tr:e,state:n,dispatch:r})=>{const i=tr(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},PPe=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},TPe=()=>({state:t,dispatch:e})=>s_(t,e),APe=()=>({commands:t})=>t.keyboardShortcut("Enter"),jPe=()=>({state:t,dispatch:e})=>dCe(t,e);function b_(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Jx(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:b_(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function TJ(t,e,n={}){return t.find(r=>r.type===e&&Jx(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function v6(t,e,n={}){return!!TJ(t,e,n)}function w_(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!TJ([...i.node.marks],e,n)))return;let o=i.index,a=t.start()+i.offset,l=o+1,c=a+i.node.nodeSize;for(;o>0&&v6([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&v6([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function Qa(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var EPe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=Qa(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:d}=a;if(i){const h=w_(l,s,e);if(h&&h.from<=c&&h.to>=d){const m=ht.create(o,h.from,h.to);n.setSelection(m)}}return!0},kPe=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function AJ(t){return t instanceof ht}function iu(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function jJ(t,e=null){if(!e)return null;const n=Ct.atStart(t),r=Ct.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?ht.create(t,iu(0,i,s),iu(t.content.size,i,s)):ht.create(t,iu(e,i,s),iu(e,i,s))}function x6(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function e1(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function OPe(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var $Pe=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(e1()||x6())&&r.dom.focus(),OPe()&&!e1()&&!x6()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!AJ(n.state.selection))return o(),!0;const a=jJ(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},_Pe=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),MPe=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),EJ=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&EJ(r)}return t};function P0(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return EJ(n)}function hg(t,e,n){if(t instanceof Kl||t instanceof xe)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return xe.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),hg("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const l=new fZ({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Gl.fromSchema(l).parseSlice(P0(t),n.parseOptions):Gl.fromSchema(l).parse(P0(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Gl.fromSchema(e);return n.slice?s.parseSlice(P0(t),n.parseOptions).content:s.parse(P0(t),n.parseOptions)}return hg("",e,n)}function IPe(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Sr||i instanceof Ar))return;const s=t.mapping.maps[r];let o=0;s.forEach((a,l,c,d)=>{o===0&&(o=d)}),t.setSelection(Ct.near(t.doc.resolve(o),n))}var RPe=t=>!("type"in t),DPe=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=x=>{s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{hg(e,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(x){l(x)}try{a=hg(e,s.schema,{parseOptions:c,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:s.options.enableContentCheck})}catch(x){return l(x),!1}let{from:d,to:h}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},m=!0,g=!0;if((RPe(a)?a:[a]).forEach(x=>{x.check(),m=m?x.isText&&x.marks.length===0:!1,g=g?x.isBlock:!1}),d===h&&g){const{parent:x}=r.doc.resolve(d);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(d-=1,h+=1)}let b;if(m){if(Array.isArray(e))b=e.map(x=>x.text||"").join("");else if(e instanceof xe){let x="";e.forEach(S=>{S.text&&(x+=S.text)}),b=x}else typeof e=="object"&&e&&e.text?b=e.text:b=e;r.insertText(b,d,h)}else{b=a;const x=r.doc.resolve(d),S=x.node(),N=x.parentOffset===0,T=S.isText||S.isTextblock,j=S.content.size>0;N&&T&&j&&(d=Math.max(0,d-1)),r.replaceWith(d,h,b)}n.updateSelection&&IPe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:b}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:b})}return!0},LPe=()=>({state:t,dispatch:e})=>lCe(t,e),FPe=()=>({state:t,dispatch:e})=>cCe(t,e),BPe=()=>({state:t,dispatch:e})=>$Z(t,e),VPe=()=>({state:t,dispatch:e})=>RZ(t,e),zPe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=jw(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},UPe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=jw(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},qPe=()=>({state:t,dispatch:e})=>oCe(t,e),HPe=()=>({state:t,dispatch:e})=>aCe(t,e);function kJ(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function WPe(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))e1()||kJ()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var KPe=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=WPe(t).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l?.steps.forEach(c=>{const d=c.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function pc(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?tr(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(h,m)=>{if(h.isText)return;const g=Math.max(r,m),y=Math.min(i,m+h.nodeSize);a.push({node:h,from:g,to:y})});const l=i-r,c=a.filter(h=>o?o.name===h.node.type.name:!0).filter(h=>Jx(h.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((h,m)=>h+m.to-m.from,0)>=l}var GPe=(t,e={})=>({state:n,dispatch:r})=>{const i=tr(t,n.schema);return pc(n,i,e)?uCe(n,r):!1},QPe=()=>({state:t,dispatch:e})=>BZ(t,e),YPe=t=>({state:e,dispatch:n})=>{const r=tr(t,e.schema);return SCe(r)(e,n)},XPe=()=>({state:t,dispatch:e})=>LZ(t,e);function Rw(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function b6(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var ZPe=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=Rw(typeof t=="string"?t:t.name,r.schema);if(!a)return!1;a==="node"&&(s=tr(t,r.schema)),a==="mark"&&(o=Qa(t,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(d,h)=>{s&&s===d.type&&(l=!0,i&&n.setNodeMarkup(h,void 0,b6(d.attrs,e))),o&&d.marks.length&&d.marks.forEach(m=>{o===m.type&&(l=!0,i&&n.addMark(h,h+d.nodeSize,o.create(b6(m.attrs,e))))})})}),l},JPe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),eTe=()=>({tr:t,dispatch:e})=>{if(e){const n=new is(t.doc);t.setSelection(n)}return!0},tTe=()=>({state:t,dispatch:e})=>MZ(t,e),nTe=()=>({state:t,dispatch:e})=>DZ(t,e),rTe=()=>({state:t,dispatch:e})=>pCe(t,e),iTe=()=>({state:t,dispatch:e})=>yCe(t,e),sTe=()=>({state:t,dispatch:e})=>gCe(t,e);function nk(t,e,n={},r={}){return hg(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var oTe=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=nk(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return o&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return o&&s.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function OJ(t,e){const n=Qa(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function $J(t,e){const n=new jZ(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function aTe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function lTe(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function cTe(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Dw(t){return e=>cTe(e.$from,t)}function Ze(t,e,n){return t.config[e]===void 0&&t.parent?Ze(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Ze(t.parent,e,n):null}):t.config[e]}function S_(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Ze(e,"addExtensions",n);return r?[e,...S_(r())]:e}).flat(10)}function C_(t,e){const n=Xu.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function _J(t){return typeof t=="function"}function Yt(t,e=void 0,...n){return _J(t)?e?t.bind(e)(...n):t(...n):t}function uTe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Ff(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function MJ(t){const e=[],{nodeExtensions:n,markExtensions:r}=Ff(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=Ze(o,"addGlobalAttributes",a);if(!l)return;l().forEach(d=>{d.types.forEach(h=>{Object.entries(d.attributes).forEach(([m,g])=>{e.push({type:h,name:m,attribute:{...s,...g}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=Ze(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([d,h])=>{const m={...s,...h};typeof m?.default=="function"&&(m.default=m.default()),m?.isRequired&&m?.default===void 0&&delete m.default,e.push({type:o.name,name:d,attribute:m})})}),e}function Wn(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(d=>!l.includes(d));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(d=>d.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],c=new Map;l.forEach(d=>{const[h,m]=d.split(":").map(g=>g.trim());c.set(h,m)}),a.forEach(d=>{const[h,m]=d.split(":").map(g=>g.trim());c.set(h,m)}),r[i]=Array.from(c.entries()).map(([d,h])=>`${d}: ${h}`).join("; ")}else r[i]=s}),r},{})}function pg(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Wn(n,r),{})}function dTe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function w6(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):dTe(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function S6(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&uTe(n)?!1:n!=null))}function C6(t){var e,n;const r={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(r.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function fTe(t,e){var n;const r=MJ(t),{nodeExtensions:i,markExtensions:s}=Ff(t),o=(n=i.find(c=>Ze(c,"topNode")))==null?void 0:n.name,a=Object.fromEntries(i.map(c=>{const d=r.filter(S=>S.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:e},m=t.reduce((S,N)=>{const T=Ze(N,"extendNodeSchema",h);return{...S,...T?T(c):{}}},{}),g=S6({...m,content:Yt(Ze(c,"content",h)),marks:Yt(Ze(c,"marks",h)),group:Yt(Ze(c,"group",h)),inline:Yt(Ze(c,"inline",h)),atom:Yt(Ze(c,"atom",h)),selectable:Yt(Ze(c,"selectable",h)),draggable:Yt(Ze(c,"draggable",h)),code:Yt(Ze(c,"code",h)),whitespace:Yt(Ze(c,"whitespace",h)),linebreakReplacement:Yt(Ze(c,"linebreakReplacement",h)),defining:Yt(Ze(c,"defining",h)),isolating:Yt(Ze(c,"isolating",h)),attrs:Object.fromEntries(d.map(C6))}),y=Yt(Ze(c,"parseHTML",h));y&&(g.parseDOM=y.map(S=>w6(S,d)));const b=Ze(c,"renderHTML",h);b&&(g.toDOM=S=>b({node:S,HTMLAttributes:pg(S,d)}));const x=Ze(c,"renderText",h);return x&&(g.toText=x),[c.name,g]})),l=Object.fromEntries(s.map(c=>{const d=r.filter(x=>x.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:e},m=t.reduce((x,S)=>{const N=Ze(S,"extendMarkSchema",h);return{...x,...N?N(c):{}}},{}),g=S6({...m,inclusive:Yt(Ze(c,"inclusive",h)),excludes:Yt(Ze(c,"excludes",h)),group:Yt(Ze(c,"group",h)),spanning:Yt(Ze(c,"spanning",h)),code:Yt(Ze(c,"code",h)),attrs:Object.fromEntries(d.map(C6))}),y=Yt(Ze(c,"parseHTML",h));y&&(g.parseDOM=y.map(x=>w6(x,d)));const b=Ze(c,"renderHTML",h);return b&&(g.toDOM=x=>b({mark:x,HTMLAttributes:pg(x,d)})),[c.name,g]}));return new fZ({topNode:o,nodes:a,marks:l})}function hTe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function t1(t){return t.sort((n,r)=>{const i=Ze(n,"priority")||100,s=Ze(r,"priority")||100;return i>s?-1:i<s?1:0})}function IJ(t){const e=t1(S_(t)),n=hTe(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function RJ(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,i,(l,c,d,h)=>{var m;l.isBlock&&c>r&&(a+=s);const g=o?.[l.type.name];if(g)return d&&(a+=g({node:l,pos:c,parent:d,index:h,range:e})),!1;l.isText&&(a+=(m=l?.text)==null?void 0:m.slice(Math.max(r,c)-c,i-c))}),a}function pTe(t,e){const n={from:0,to:t.content.size};return RJ(t,n,e)}function DJ(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function mTe(t,e){const n=tr(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function LJ(t,e){const n=Rw(typeof e=="string"?e:e.name,t.schema);return n==="node"?mTe(t,e):n==="mark"?OJ(t,e):{}}function gTe(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function yTe(t){const e=gTe(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function FJ(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(s).map(a,-1),d=e.slice(s).map(l),h=e.invert().map(c,-1),m=e.invert().map(d);r.push({oldRange:{from:h,to:m},newRange:{from:c,to:d}})})}),yTe(r)}function N_(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=w_(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}var vTe=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,o=null;for(;s>0&&o===null;){const a=i.node(s);a?.type.name===e?o=a:s-=1}return[o,s]};function T0(t,e){return e.nodes[t]||e.marks[t]||null}function sx(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var xTe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var l,c;const d=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-s))}),n};function rk(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?Qa(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(h=>s?s.name===h.type.name:!0).find(h=>Jx(h.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:h,$to:m})=>{const g=h.pos,y=m.pos;t.doc.nodesBetween(g,y,(b,x)=>{if(!b.isText&&!b.marks.length)return;const S=Math.max(g,x),N=Math.min(y,x+b.nodeSize),T=N-S;o+=T,a.push(...b.marks.map(j=>({mark:j,from:S,to:N})))})}),o===0)return!1;const l=a.filter(h=>s?s.name===h.mark.type.name:!0).filter(h=>Jx(h.mark.attrs,n,{strict:!1})).reduce((h,m)=>h+m.to-m.from,0),c=a.filter(h=>s?h.mark.type!==s&&h.mark.type.excludes(s):!0).reduce((h,m)=>h+m.to-m.from,0);return(l>0?l+c:l)>=o}function bTe(t,e,n={}){if(!e)return pc(t,null,n)||rk(t,null,n);const r=Rw(e,t.schema);return r==="node"?pc(t,e,n):r==="mark"?rk(t,e,n):!1}var wTe=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=Dw(a=>a.type.name===e)(t.selection);if(!s)return!1;const o=t.doc.resolve(s.pos+1);return i.pos+1===o.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},STe=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function N6(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function P6(t,e){const{nodeExtensions:n}=Ff(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Yt(Ze(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Lw(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(Lw(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function BJ(t){return t instanceof et}var VJ=class zJ{constructor(e){this.position=e}static fromJSON(e){return new zJ(e.position)}toJSON(){return{position:this.position}}};function CTe(t,e){const n=e.mapping.mapResult(t.position);return{position:new VJ(n.pos),mapResult:n}}function NTe(t){return new VJ(t)}function PTe(t,e,n){var r;const{selection:i}=e;let s=null;if(AJ(i)&&(s=i.$cursor),s){const a=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(c=>c.type.excludes(n)))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(d,h,m)=>{if(c)return!1;if(d.isInline){const g=!m||m.type.allowsMarkType(n),y=!!n.isInSet(d.marks)||!d.marks.some(b=>b.type.excludes(n));c=g&&y}return!c}),c})}var TTe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=Qa(t,r.schema);if(i)if(o){const c=OJ(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const d=c.$from.pos,h=c.$to.pos;r.doc.nodesBetween(d,h,(m,g)=>{const y=Math.max(g,d),b=Math.min(g+m.nodeSize,h);m.marks.find(S=>S.type===l)?m.marks.forEach(S=>{l===S.type&&n.addMark(y,b,l.create({...S.attrs,...e}))}):n.addMark(y,b,l.create(e))})});return PTe(r,n,l)},ATe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),jTe=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=tr(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>L8(s,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>L8(s,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},ETe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=iu(t,0,r.content.size),s=et.create(r,i);e.setSelection(s)}return!0},kTe=(t,e)=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=r;let o,a;return typeof e=="number"?(o=e,a=e):e&&"from"in e&&"to"in e?(o=e.from,a=e.to):(o=s.from,a=s.to),i&&n.doc.nodesBetween(o,a,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:t})}),!0},OTe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=ht.atStart(r).from,a=ht.atEnd(r).to,l=iu(i,o,a),c=iu(s,o,a),d=ht.create(r,l,c);e.setSelection(d)}return!0},$Te=t=>({state:e,dispatch:n})=>{const r=tr(t,e.schema);return PCe(r)(e,n)};function T6(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var _Te=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=i.extensionManager.attributes,d=sx(c,a.node().type.name,a.node().attrs);if(s instanceof et&&s.node.isBlock)return!a.parentOffset||!ja(o,a.pos)?!1:(r&&(t&&T6(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const h=l.parentOffset===l.parent.content.size,m=a.depth===0?void 0:aTe(a.node(-1).contentMatchAt(a.indexAfter(-1)));let g=h&&m?[{type:m,attrs:d}]:void 0,y=ja(e.doc,e.mapping.map(a.pos),1,g);if(!g&&!y&&ja(e.doc,e.mapping.map(a.pos),1,m?[{type:m}]:void 0)&&(y=!0,g=m?[{type:m,attrs:d}]:void 0),r){if(y&&(s instanceof ht&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,g),m&&!h&&!a.parentOffset&&a.parent.type!==m)){const b=e.mapping.map(a.before()),x=e.doc.resolve(b);a.node(-1).canReplaceWith(x.index(),x.index()+1,m)&&e.setNodeMarkup(e.mapping.map(a.before()),m)}t&&T6(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return y},MTe=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const a=tr(t,r.schema),{$from:l,$to:c}=r.selection,d=r.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(c))return!1;const h=l.node(-1);if(h.type!==a)return!1;const m=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let S=xe.empty;const N=l.index(-1)?1:l.index(-2)?2:3;for(let _=l.depth-N;_>=l.depth-3;_-=1)S=xe.from(l.node(_).copy(S));const T=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,j={...sx(m,l.node().type.name,l.node().attrs),...e},P=((o=a.contentMatch.defaultType)==null?void 0:o.createAndFill(j))||void 0;S=S.append(xe.from(a.createAndFill(null,P)||void 0));const E=l.before(l.depth-(N-1));n.replace(E,l.after(-T),new Ve(S,4-N,0));let O=-1;n.doc.nodesBetween(E,n.doc.content.size,(_,$)=>{if(O>-1)return!1;_.isTextblock&&_.content.size===0&&(O=$+1)}),O>-1&&n.setSelection(ht.near(n.doc.resolve(O))),n.scrollIntoView()}return!0}const g=c.pos===l.end()?h.contentMatchAt(0).defaultType:null,y={...sx(m,h.type.name,h.attrs),...e},b={...sx(m,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const x=g?[{type:a,attrs:y},{type:g,attrs:b}]:[{type:a,attrs:y}];if(!ja(n.doc,l.pos,2))return!1;if(i){const{selection:S,storedMarks:N}=r,{splittableMarks:T}=s.extensionManager,j=N||S.$to.parentOffset&&S.$from.marks();if(n.split(l.pos,2,x).scrollIntoView(),!j||!i)return!0;const P=j.filter(E=>T.includes(E.type.name));n.ensureMarks(P)}return!0},bN=(t,e)=>{const n=Dw(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&wc(t.doc,n.pos)&&t.join(n.pos),!0},wN=(t,e)=>{const n=Dw(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&wc(t.doc,r)&&t.join(r),!0},ITe=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:d})=>{const{extensions:h,splittableMarks:m}=i.extensionManager,g=tr(t,o.schema),y=tr(e,o.schema),{selection:b,storedMarks:x}=o,{$from:S,$to:N}=b,T=S.blockRange(N),j=x||b.$to.parentOffset&&b.$from.marks();if(!T)return!1;const P=Dw(E=>P6(E.type.name,h))(b);if(T.depth>=1&&P&&T.depth-P.depth<=1){if(P.node.type===g)return c.liftListItem(y);if(P6(P.node.type.name,h)&&g.validContent(P.node.content)&&a)return l().command(()=>(s.setNodeMarkup(P.pos,g),!0)).command(()=>bN(s,g)).command(()=>wN(s,g)).run()}return!n||!j||!a?l().command(()=>d().wrapInList(g,r)?!0:c.clearNodes()).wrapInList(g,r).command(()=>bN(s,g)).command(()=>wN(s,g)).run():l().command(()=>{const E=d().wrapInList(g,r),O=j.filter(_=>m.includes(_.type.name));return s.ensureMarks(O),E?!0:c.clearNodes()}).wrapInList(g,r).command(()=>bN(s,g)).command(()=>wN(s,g)).run()},RTe=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=Qa(t,r.schema);return rk(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},DTe=(t,e,n={})=>({state:r,commands:i})=>{const s=tr(t,r.schema),o=tr(e,r.schema),a=pc(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...n})},LTe=(t,e={})=>({state:n,commands:r})=>{const i=tr(t,n.schema);return pc(n,i,e)?r.lift(i):r.wrapIn(i,e)},FTe=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},BTe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},VTe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=Qa(t,r.schema),{$from:c,empty:d,ranges:h}=a;if(!i)return!0;if(d&&o){let{from:m,to:g}=a;const y=(s=c.marks().find(x=>x.type===l))==null?void 0:s.attrs,b=w_(c,l,y);b&&(m=b.from,g=b.to),n.removeMark(m,g,l)}else h.forEach(m=>{n.removeMark(m.$from.pos,m.$to.pos,l)});return n.removeStoredMark(l),!0},zTe=t=>({tr:e,state:n,dispatch:r})=>{const{selection:i}=n;let s,o;return typeof t=="number"?(s=t,o=t):t&&"from"in t&&"to"in t?(s=t.from,o=t.to):(s=i.from,o=i.to),r&&e.doc.nodesBetween(s,o,(a,l)=>{if(a.isText)return;const c={...a.attrs};delete c.dir,e.setNodeMarkup(l,void 0,c)}),!0},UTe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=Rw(typeof t=="string"?t:t.name,r.schema);if(!a)return!1;a==="node"&&(s=tr(t,r.schema)),a==="mark"&&(o=Qa(t,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const d=c.$from.pos,h=c.$to.pos;let m,g,y,b;n.selection.empty?r.doc.nodesBetween(d,h,(x,S)=>{s&&s===x.type&&(l=!0,y=Math.max(S,d),b=Math.min(S+x.nodeSize,h),m=S,g=x)}):r.doc.nodesBetween(d,h,(x,S)=>{S<d&&s&&s===x.type&&(l=!0,y=Math.max(S,d),b=Math.min(S+x.nodeSize,h),m=S,g=x),S>=d&&S<=h&&(s&&s===x.type&&(l=!0,i&&n.setNodeMarkup(S,void 0,{...x.attrs,...e})),o&&x.marks.length&&x.marks.forEach(N=>{if(o===N.type&&(l=!0,i)){const T=Math.max(S,d),j=Math.min(S+x.nodeSize,h);n.addMark(T,j,o.create({...N.attrs,...e}))}}))}),g&&(m!==void 0&&i&&n.setNodeMarkup(m,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(x=>{o===x.type&&i&&n.addMark(y,b,o.create({...x.attrs,...e}))}))}),l},qTe=(t,e={})=>({state:n,dispatch:r})=>{const i=tr(t,n.schema);return vCe(i,e)(n,r)},HTe=(t,e={})=>({state:n,dispatch:r})=>{const i=tr(t,n.schema);return xCe(i,e)(n,r)},WTe=class{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}once(e,n){const r=(...i)=>{this.off(e,r),n.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}},Fw=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},KTe=(t,e)=>{if(b_(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function A0(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(e=c.nodeBefore||c.nodeAfter)!=null&&e.marks.find(m=>m.type.spec.code))return!1;let d=!1;const h=xTe(c)+s;return o.forEach(m=>{if(d)return;const g=KTe(h,m.find);if(!g)return;const y=l.state.tr,b=Mw({state:l.state,transaction:y}),x={from:r-(g[0].length-s.length),to:i},{commands:S,chain:N,can:T}=new Iw({editor:n,state:b});m.handler({state:b,range:x,match:g,commands:S,chain:N,can:T})===null||!y.steps.length||(m.undoable&&y.setMeta(a,{transform:y,from:r,to:i,text:s}),l.dispatch(y),d=!0)}),d}function GTe(t){const{editor:e,rules:n}=t,r=new On({state:{init(){return null},apply(i,s,o){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return l&&setTimeout(()=>{let{text:d}=l;typeof d=="string"?d=d:d=C_(xe.from(d),o.schema);const{from:h}=l,m=h+d.length;A0({editor:e,from:h,to:m,text:d,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return A0({editor:e,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&A0({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?A0({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function QTe(t){return Object.prototype.toString.call(t).slice(8,-1)}function j0(t){return QTe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function UJ(t,e){const n={...t};return j0(t)&&j0(e)&&Object.keys(e).forEach(r=>{j0(e[r])&&j0(t[r])?n[r]=UJ(t[r],e[r]):n[r]=e[r]}),n}var P_=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Yt(Ze(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Yt(Ze(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>UJ(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Zu=class qJ extends P_{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new qJ(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>c?.type.name===n.name))return!1;const l=o.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function YTe(t){return typeof t=="number"}var XTe=class{constructor(t){this.find=t.find,this.handler=t.handler}},ZTe=(t,e,n)=>{if(b_(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function JTe(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:d}=new Iw({editor:e,state:n}),h=[];return n.doc.nodesBetween(r,i,(g,y)=>{var b,x,S,N,T;if((x=(b=g.type)==null?void 0:b.spec)!=null&&x.code||!(g.isText||g.isTextblock||g.isInline))return;const j=(T=(N=(S=g.content)==null?void 0:S.size)!=null?N:g.nodeSize)!=null?T:0,P=Math.max(r,y),E=Math.min(i,y+j);if(P>=E)return;const O=g.isText?g.text||"":g.textBetween(P-y,E-y,void 0,"");ZTe(O,s.find,o).forEach($=>{if($.index===void 0)return;const B=P+$.index+1,I=B+$[0].length,V={from:n.tr.mapping.map(B),to:n.tr.mapping.map(I)},U=s.handler({state:n,range:V,match:$,commands:l,chain:c,can:d,pasteEvent:o,dropEvent:a});h.push(U)})}),h.every(g=>g!==null)}var E0=null,eAe=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function tAe(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:d,from:h,to:m,rule:g,pasteEvt:y})=>{const b=d.tr,x=Mw({state:d,transaction:b});if(!(!JTe({editor:e,state:x,from:Math.max(h-1,0),to:m.b-1,rule:g,pasteEvent:y,dropEvent:a})||!b.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,b}};return n.map(d=>new On({view(h){const m=y=>{var b;r=(b=h.dom.parentElement)!=null&&b.contains(y.target)?h.dom.parentElement:null,r&&(E0=e)},g=()=>{E0&&(E0=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(h,m)=>{if(s=r===h.dom.parentElement,a=m,!s){const g=E0;g?.isEditable&&setTimeout(()=>{const y=g.state.selection;y&&g.commands.deleteRange({from:y.from,to:y.to})},10)}return!1},paste:(h,m)=>{var g;const y=(g=m.clipboardData)==null?void 0:g.getData("text/html");return o=m,i=!!y?.includes("data-pm-slice"),!1}}},appendTransaction:(h,m,g)=>{const y=h[0],b=y.getMeta("uiEvent")==="paste"&&!i,x=y.getMeta("uiEvent")==="drop"&&!s,S=y.getMeta("applyPasteRules"),N=!!S;if(!b&&!x&&!N)return;if(N){let{text:P}=S;typeof P=="string"?P=P:P=C_(xe.from(P),g.schema);const{from:E}=S,O=E+P.length,_=eAe(P);return l({rule:d,state:g,from:E,to:{b:O},pasteEvt:_})}const T=m.doc.content.findDiffStart(g.doc.content),j=m.doc.content.findDiffEnd(g.doc.content);if(!(!YTe(T)||!j||T===j.b))return l({rule:d,state:g,from:T,to:j,pasteEvt:o})}}))}var Bw=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=IJ(t),this.schema=fTe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:T0(e.name,this.schema)},r=Ze(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return t1([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:T0(r.name,this.schema)},s=[],o=Ze(r,"addKeyboardShortcuts",i);let a={};if(r.type==="mark"&&Ze(r,"exitable",i)&&(a.ArrowRight=()=>Zu.handleExit({editor:t,mark:r})),o){const m=Object.fromEntries(Object.entries(o()).map(([g,y])=>[g,()=>y({editor:t})]));a={...a,...m}}const l=mPe(a);s.push(l);const c=Ze(r,"addInputRules",i);if(N6(r,t.options.enableInputRules)&&c){const m=c();if(m&&m.length){const g=GTe({editor:t,rules:m}),y=Array.isArray(g)?g:[g];s.push(...y)}}const d=Ze(r,"addPasteRules",i);if(N6(r,t.options.enablePasteRules)&&d){const m=d();if(m&&m.length){const g=tAe({editor:t,rules:m});s.push(...g)}}const h=Ze(r,"addProseMirrorPlugins",i);if(h){const m=h();s.push(...m)}return s})}get attributes(){return MJ(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Ff(this.extensions);return Object.fromEntries(e.filter(n=>!!Ze(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:tr(n.name,this.schema)},s=Ze(n,"addNodeView",i);if(!s)return[];const o=s();if(!o)return[];const a=(l,c,d,h,m)=>{const g=pg(l,r);return o({node:l,view:c,getPos:d,decorations:h,innerDecorations:m,editor:t,extension:n,HTMLAttributes:g})};return[n.name,a]}))}dispatchTransaction(t){const{editor:e}=this;return t1([...this.extensions].reverse()).reduceRight((r,i)=>{const s={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:e,type:T0(i.name,this.schema)},o=Ze(i,"dispatchTransaction",s);return o?a=>{o.call(s,{transaction:a,next:r})}:r},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=Ff(this.extensions);return Object.fromEntries(e.filter(n=>!!Ze(n,"addMarkView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Qa(n.name,this.schema)},s=Ze(n,"addMarkView",i);if(!s)return[];const o=(a,l,c)=>{const d=pg(a,r);return s()({mark:a,view:l,inline:c,editor:t,extension:n,HTMLAttributes:d,updateAttributes:h=>{gAe(a,t,h)}})};return[n.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:T0(e.name,this.schema)};e.type==="mark"&&((n=Yt(Ze(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=Ze(e,"onBeforeCreate",r),s=Ze(e,"onCreate",r),o=Ze(e,"onUpdate",r),a=Ze(e,"onSelectionUpdate",r),l=Ze(e,"onTransaction",r),c=Ze(e,"onFocus",r),d=Ze(e,"onBlur",r),h=Ze(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),d&&this.editor.on("blur",d),h&&this.editor.on("destroy",h)})}};Bw.resolve=IJ;Bw.sort=t1;Bw.flatten=S_;var nAe={};x_(nAe,{ClipboardTextSerializer:()=>WJ,Commands:()=>KJ,Delete:()=>GJ,Drop:()=>QJ,Editable:()=>YJ,FocusEvents:()=>ZJ,Keymap:()=>JJ,Paste:()=>eee,Tabindex:()=>tee,TextDirection:()=>nee,focusEventsPluginKey:()=>XJ});var Qn=class HJ extends P_{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new HJ(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},WJ=Qn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new On({key:new pr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(d=>d.$from.pos)),a=Math.max(...s.map(d=>d.$to.pos)),l=DJ(n);return RJ(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),KJ=Qn.create({name:"commands",addCommands(){return{...PJ}}}),GJ=Qn.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var o,a,l,c;if((c=(l=(a=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,t))!=null?c:t.getMeta("y-sync$"))return;const d=$J(t.before,[t,...e]);FJ(d).forEach(g=>{d.mapping.mapResult(g.oldRange.from).deletedAfter&&d.mapping.mapResult(g.oldRange.to).deletedBefore&&d.before.nodesBetween(g.oldRange.from,g.oldRange.to,(y,b)=>{const x=b+y.nodeSize-2,S=g.oldRange.from<=b&&x<=g.oldRange.to;this.editor.emit("delete",{type:"node",node:y,from:b,to:x,newFrom:d.mapping.map(b),newTo:d.mapping.map(x),deletedRange:g.oldRange,newRange:g.newRange,partial:!S,editor:this.editor,transaction:t,combinedTransform:d})})});const m=d.mapping;d.steps.forEach((g,y)=>{var b,x;if(g instanceof ao){const S=m.slice(y).map(g.from,-1),N=m.slice(y).map(g.to),T=m.invert().map(S,-1),j=m.invert().map(N),P=(b=d.doc.nodeAt(S-1))==null?void 0:b.marks.some(O=>O.eq(g.mark)),E=(x=d.doc.nodeAt(N))==null?void 0:x.marks.some(O=>O.eq(g.mark));this.editor.emit("delete",{type:"mark",mark:g.mark,from:g.from,to:g.to,deletedRange:{from:T,to:j},newRange:{from:S,to:N},partial:!!(E||P),editor:this.editor,transaction:t,combinedTransform:d})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),QJ=Qn.create({name:"drop",addProseMirrorPlugins(){return[new On({key:new pr("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),YJ=Qn.create({name:"editable",addProseMirrorPlugins(){return[new On({key:new pr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),XJ=new pr("focusEvents"),ZJ=Qn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new On({key:XJ,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),JJ=Qn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:d,$anchor:h}=l,{pos:m,parent:g}=h,y=h.parent.isTextblock&&m>0?a.doc.resolve(m-1):h,b=y.parent.type.spec.isolating,x=h.pos-h.parentOffset,S=b&&y.parent.childCount===1?x===h.pos:Ct.atStart(c).from===m;return!d||!g.type.isTextblock||g.textContent.length||!S||S&&h.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return e1()||kJ()?s:i},addProseMirrorPlugins(){return[new On({key:new pr("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(b=>b.getMeta("composition")))return;const r=t.some(b=>b.docChanged)&&!e.doc.eq(n.doc),i=t.some(b=>b.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,l=Ct.atStart(e.doc).from,c=Ct.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!Lw(n.doc))return;const m=n.tr,g=Mw({state:n,transaction:m}),{commands:y}=new Iw({editor:this.editor,state:g});if(y.clearNodes(),!!m.steps.length)return m}})]}}),eee=Qn.create({name:"paste",addProseMirrorPlugins(){return[new On({key:new pr("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),tee=Qn.create({name:"tabindex",addProseMirrorPlugins(){return[new On({key:new pr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),nee=Qn.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=Ff(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new On({key:new pr("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),rAe=class Wd{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Wd(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Wd(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Wd(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new Wd(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new Wd(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(l=>n[l]===o.node.attrs[l])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},iAe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function sAe(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var oAe=class extends WTe{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:CTe,createMappablePosition:NTe},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=jJ(e,this.options.autofocus);this.editorState=ef.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=sAe(iAe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=_J(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(o=>!o.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[YJ,WJ.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),KJ,ZJ,JJ,tee,QJ,eee,GJ,nee.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new Bw(r,this)}createCommandManager(){this.commandManager=new Iw({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=nk(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=nk(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,r=e.dispatchTransaction||this.dispatchTransaction.bind(this),i=n?this.extensionManager.dispatchTransaction(r):r;this.editorView=new CJ(t,{...e,attributes:{role:"textbox",...e?.attributes},dispatchTransaction:i,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.prependClass(),this.injectCSS();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(c=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(c)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),a=o?.getMeta("focus"),l=o?.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:o}),l&&this.emit("blur",{editor:this,event:l.event,transaction:o}),!(t.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return LJ(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return bTe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return C_(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return pTe(this.state.doc,{blockSeparator:e,textSerializers:{...DJ(this.schema),...n}})}get isEmpty(){return Lw(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new rAe(e,this)}get $doc(){return this.$pos(0)}};function Bf(t){return new Fw({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Yt(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),d=c+o.length;if(N_(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(b=>b===t.type&&b!==g.mark.type)).filter(g=>g.to>c).length)return null;d<n.to&&s.delete(d,n.to),c>n.from&&s.delete(n.from+l,c);const m=n.from+l+o.length;s.addMark(n.from+l,m,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function ree(t){return new Fw({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Yt(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let d=o+c;d>a?d=a:a=d+r[1].length;const h=r[0][r[0].length-1];s.insertText(h,o+r[0].length-1),s.replaceWith(d,a,l)}else if(r[0]){const c=t.type.isInline?o:o-1;s.insert(c,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()},undoable:t.undoable})}function ik(t){return new Fw({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=Yt(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function Vf(t){return new Fw({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=Yt(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&r_(l,t.type,s);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:h,storedMarks:m}=e,{splittableMarks:g}=t.editor.extensionManager,y=m||h.$to.parentOffset&&h.$from.marks();if(y){const b=y.filter(x=>g.includes(x.type.name));o.ensureMarks(b)}}if(t.keepAttributes){const h=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(h,s).run()}const d=o.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&wc(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&o.join(n.from-1)},undoable:t.undoable})}var aAe=t=>"touches"in t,lAe=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=a=>{if(!this.isResizing||!this.activeHandle)return;const l=a.clientX-this.startX,c=a.clientY-this.startY;this.handleResize(l,c)},this.handleTouchMove=a=>{if(!this.isResizing||!this.activeHandle)return;const l=a.touches[0];if(!l)return;const c=l.clientX-this.startX,d=l.clientY-this.startY;this.handleResize(c,d)},this.handleMouseUp=()=>{if(!this.isResizing)return;const a=this.element.offsetWidth,l=this.element.offsetHeight;this.onCommit(a,l),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,r,i,s,o;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(r=t?.options)!=null&&r.directions&&(this.directions=t.options.directions),(i=t.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(s=t.options)!=null&&s.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(o=t.options)!=null&&o.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),r=e.includes("bottom"),i=e.includes("left"),s=e.includes("right");n&&(t.style.top="0"),r&&(t.style.bottom="0"),i&&(t.style.left="0"),s&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,aAe(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:i}=this.calculateNewDimensions(this.activeHandle,t,e),s=this.applyConstraints(r,i,n);this.element.style.width=`${s.width}px`,this.element.style.height=`${s.height}px`,this.onResize&&this.onResize(s.width,s.height)}calculateNewDimensions(t,e,n){let r=this.startWidth,i=this.startHeight;const s=t.includes("right"),o=t.includes("left"),a=t.includes("bottom"),l=t.includes("top");return s?r=this.startWidth+e:o&&(r=this.startWidth-e),a?i=this.startHeight+n:l&&(i=this.startHeight-n),(t==="right"||t==="left")&&(r=this.startWidth+(s?e:-e)),(t==="top"||t==="bottom")&&(i=this.startHeight+(a?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,i,t):{width:r,height:i}}applyConstraints(t,e,n){var r,i,s,o;if(!n){let c=Math.max(this.minSize.width,t),d=Math.max(this.minSize.height,e);return(r=this.maxSize)!=null&&r.width&&(c=Math.min(this.maxSize.width,c)),(i=this.maxSize)!=null&&i.height&&(d=Math.min(this.maxSize.height,d)),{width:c,height:d}}let a=t,l=e;return a<this.minSize.width&&(a=this.minSize.width,l=a/this.aspectRatio),l<this.minSize.height&&(l=this.minSize.height,a=l*this.aspectRatio),(s=this.maxSize)!=null&&s.width&&a>this.maxSize.width&&(a=this.maxSize.width,l=a/this.aspectRatio),(o=this.maxSize)!=null&&o.height&&l>this.maxSize.height&&(l=this.maxSize.height,a=l*this.aspectRatio),{width:a,height:l}}applyAspectRatio(t,e,n){const r=n==="left"||n==="right",i=n==="top"||n==="bottom";return r?{width:t,height:t/this.aspectRatio}:i?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function cAe(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof et){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var uAe={};x_(uAe,{createAtomBlockMarkdownSpec:()=>dAe,createBlockMarkdownSpec:()=>fAe,createInlineMarkdownSpec:()=>mAe,parseAttributes:()=>T_,parseIndentedBlocks:()=>sk,renderNestedMarkdownContent:()=>j_,serializeAttributes:()=>A_});function T_(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(d=>d.trim().slice(1));e.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const o=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(o)).forEach(([,c,d])=>{var h;const m=parseInt(((h=d.match(/__QUOTED_(\d+)__/))==null?void 0:h[1])||"0",10),g=n[m];g&&(e[c]=g.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(e[d]=!0)}),e}function A_(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function dAe(t){const{nodeName:e,name:n,parseAttributes:r=T_,serializeAttributes:i=A_,defaultAttributes:s={},requiredAttributes:o=[],allowedAttributes:a}=t,l=n||e,c=d=>{if(!a)return d;const h={};return a.forEach(m=>{m in d&&(h[m]=d[m])}),h};return{parseMarkdown:(d,h)=>{const m={...s,...d.attributes};return h.createNode(e,m,[])},markdownTokenizer:{name:e,level:"block",start(d){var h;const m=new RegExp(`^:::${l}(?:\\s|$)`,"m"),g=(h=d.match(m))==null?void 0:h.index;return g!==void 0?g:-1},tokenize(d,h,m){const g=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),y=d.match(g);if(!y)return;const b=y[1]||"",x=r(b);if(!o.find(N=>!(N in x)))return{type:e,raw:y[0],attributes:x}}},renderMarkdown:d=>{const h=c(d.attrs||{}),m=i(h),g=m?` {${m}}`:"";return`:::${l}${g} :::`}}}function fAe(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=T_,serializeAttributes:s=A_,defaultAttributes:o={},content:a="block",allowedAttributes:l}=t,c=n||e,d=h=>{if(!l)return h;const m={};return l.forEach(g=>{g in h&&(m[g]=h[g])}),m};return{parseMarkdown:(h,m)=>{let g;if(r){const b=r(h);g=typeof b=="string"?[{type:"text",text:b}]:b}else a==="block"?g=m.parseChildren(h.tokens||[]):g=m.parseInline(h.tokens||[]);const y={...o,...h.attributes};return m.createNode(e,y,g)},markdownTokenizer:{name:e,level:"block",start(h){var m;const g=new RegExp(`^:::${c}`,"m"),y=(m=h.match(g))==null?void 0:m.index;return y!==void 0?y:-1},tokenize(h,m,g){var y;const b=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),x=h.match(b);if(!x)return;const[S,N=""]=x,T=i(N);let j=1;const P=S.length;let E="";const O=/^:::([\w-]*)(\s.*)?/gm,_=h.slice(P);for(O.lastIndex=0;;){const $=O.exec(_);if($===null)break;const B=$.index,I=$[1];if(!((y=$[2])!=null&&y.endsWith(":::"))){if(I)j+=1;else if(j-=1,j===0){const V=_.slice(0,B);E=V.trim();const U=h.slice(0,P+B+$[0].length);let L=[];if(E)if(a==="block")for(L=g.blockTokens(V),L.forEach(z=>{z.text&&(!z.tokens||z.tokens.length===0)&&(z.tokens=g.inlineTokens(z.text))});L.length>0;){const z=L[L.length-1];if(z.type==="paragraph"&&(!z.text||z.text.trim()===""))L.pop();else break}else L=g.inlineTokens(E);return{type:e,raw:U,attributes:T,content:E,tokens:L}}}}}},renderMarkdown:(h,m)=>{const g=d(h.attrs||{}),y=s(g),b=y?` {${y}}`:"",x=m.renderChildren(h.content||[],`

`);return`:::${c}${b}

${x}

:::`}}}function hAe(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,s,o]=r;e[i]=s||o,r=n.exec(t)}return e}function pAe(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function mAe(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=hAe,serializeAttributes:s=pAe,defaultAttributes:o={},selfClosing:a=!1,allowedAttributes:l}=t,c=n||e,d=m=>{if(!l)return m;const g={};return l.forEach(y=>{const b=typeof y=="string"?y:y.name,x=typeof y=="string"?void 0:y.skipIfDefault;if(b in m){const S=m[b];if(x!==void 0&&S===x)return;g[b]=S}}),g},h=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(m,g)=>{const y={...o,...m.attributes};if(a)return g.createNode(e,y);const b=r?r(m):m.content||"";return b?g.createNode(e,y,[g.createTextNode(b)]):g.createNode(e,y,[])},markdownTokenizer:{name:e,level:"inline",start(m){const g=a?new RegExp(`\\[${h}\\s*[^\\]]*\\]`):new RegExp(`\\[${h}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${h}\\]`),y=m.match(g),b=y?.index;return b!==void 0?b:-1},tokenize(m,g,y){const b=a?new RegExp(`^\\[${h}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${h}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${h}\\]`),x=m.match(b);if(!x)return;let S="",N="";if(a){const[,j]=x;N=j}else{const[,j,P]=x;N=j,S=P||""}const T=i(N.trim());return{type:e,raw:x[0],content:S.trim(),attributes:T}}},renderMarkdown:m=>{let g="";r?g=r(m):m.content&&m.content.length>0&&(g=m.content.filter(S=>S.type==="text").map(S=>S.text).join(""));const y=d(m.attrs||{}),b=s(y),x=b?` ${b}`:"";return a?`[${c}${x}]`:`[${c}${x}]${g}[/${c}]`}}}function sk(t,e,n){var r,i,s,o;const a=t.split(`
`),l=[];let c="",d=0;const h=e.baseIndentSize||2;for(;d<a.length;){const m=a[d],g=m.match(e.itemPattern);if(!g){if(l.length>0)break;if(m.trim()===""){d+=1,c=`${c}${m}
`;continue}else return}const y=e.extractItemData(g),{indentLevel:b,mainContent:x}=y;c=`${c}${m}
`;const S=[x];for(d+=1;d<a.length;){const P=a[d];if(P.trim()===""){const O=a.slice(d+1).findIndex(B=>B.trim()!=="");if(O===-1)break;if((((i=(r=a[d+1+O].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>b){S.push(P),c=`${c}${P}
`,d+=1;continue}else break}if((((o=(s=P.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:o.length)||0)>b)S.push(P),c=`${c}${P}
`,d+=1;else break}let N;const T=S.slice(1);if(T.length>0){const P=T.map(E=>E.slice(b+h)).join(`
`);P.trim()&&(e.customNestedParser?N=e.customNestedParser(P):N=n.blockTokens(P))}const j=e.createToken(y,N);l.push(j)}if(l.length!==0)return{items:l,raw:c}}function j_(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[s,...o]=t.content,a=e.renderChildren([s]),l=[`${i}${a}`];return o&&o.length>0&&o.forEach(c=>{const d=e.renderChildren([c]);if(d){const h=d.split(`
`).map(m=>m?e.indent(m):"").join(`
`);l.push(h)}}),l.join(`
`)}function gAe(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,o=t;i.descendants((a,l)=>{const c=s.mapping.map(l),d=s.mapping.map(l)+a.nodeSize;let h=null;if(a.marks.forEach(g=>{if(g!==o)return!1;h=g}),!h)return;let m=!1;if(Object.keys(n).forEach(g=>{n[g]!==h.attrs[g]&&(m=!0)}),m){const g=t.type.create({...t.attrs,...n});s.removeMark(c,d,t.type),s.addMark(c,d,g)}}),s.docChanged&&e.view.dispatch(s)}var Fi=class iee extends P_{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new iee(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Fu(t){return new XTe({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=Yt(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const d=l.search(/\S/),h=n.from+l.indexOf(a),m=h+a.length;if(N_(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(x=>x===t.type&&x!==y.mark.type)).filter(y=>y.to>h).length)return null;m<n.to&&o.delete(m,n.to),h>n.from&&o.delete(n.from+d,h),c=n.from+d+a.length,o.addMark(n.from+d,c,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:yAe,getOwnPropertySymbols:vAe}=Object,{hasOwnProperty:xAe}=Object.prototype;function SN(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function k0(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:s}=i,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);const l=t(n,r,i);return s.delete(n),s.delete(r),l}}function bAe(t){return t?.[Symbol.toStringTag]}function A6(t){return yAe(t).concat(vAe(t))}const wAe=Object.hasOwn||((t,e)=>xAe.call(t,e));function Ju(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const SAe="__v",CAe="__o",NAe="_owner",{getOwnPropertyDescriptor:j6,keys:E6}=Object;function PAe(t,e){return t.byteLength===e.byteLength&&n1(new Uint8Array(t),new Uint8Array(e))}function TAe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function AAe(t,e){return t.byteLength===e.byteLength&&n1(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function jAe(t,e){return Ju(t.getTime(),e.getTime())}function EAe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function kAe(t,e){return t===e}function k6(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.entries();let o,a,l=0;for(;(o=s.next())&&!o.done;){const c=e.entries();let d=!1,h=0;for(;(a=c.next())&&!a.done;){if(i[h]){h++;continue}const m=o.value,g=a.value;if(n.equals(m[0],g[0],l,h,t,e,n)&&n.equals(m[1],g[1],m[0],g[0],t,e,n)){d=i[h]=!0;break}h++}if(!d)return!1;l++}return!0}const OAe=Ju;function $Ae(t,e,n){const r=E6(t);let i=r.length;if(E6(e).length!==i)return!1;for(;i-- >0;)if(!see(t,e,n,r[i]))return!1;return!0}function Mp(t,e,n){const r=A6(t);let i=r.length;if(A6(e).length!==i)return!1;let s,o,a;for(;i-- >0;)if(s=r[i],!see(t,e,n,s)||(o=j6(t,s),a=j6(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function _Ae(t,e){return Ju(t.valueOf(),e.valueOf())}function MAe(t,e){return t.source===e.source&&t.flags===e.flags}function O6(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.values();let o,a;for(;(o=s.next())&&!o.done;){const l=e.values();let c=!1,d=0;for(;(a=l.next())&&!a.done;){if(!i[d]&&n.equals(o.value,a.value,o.value,a.value,t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function n1(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function IAe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function see(t,e,n,r){return(r===NAe||r===CAe||r===SAe)&&(t.$$typeof||e.$$typeof)?!0:wAe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const RAe="[object ArrayBuffer]",DAe="[object Arguments]",LAe="[object Boolean]",FAe="[object DataView]",BAe="[object Date]",VAe="[object Error]",zAe="[object Map]",UAe="[object Number]",qAe="[object Object]",HAe="[object RegExp]",WAe="[object Set]",KAe="[object String]",GAe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},QAe="[object URL]",YAe=Object.prototype.toString;function XAe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:o,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:d,areSetsEqual:h,areTypedArraysEqual:m,areUrlsEqual:g,unknownTagComparators:y}){return function(x,S,N){if(x===S)return!0;if(x==null||S==null)return!1;const T=typeof x;if(T!==typeof S)return!1;if(T!=="object")return T==="number"?a(x,S,N):T==="function"?s(x,S,N):!1;const j=x.constructor;if(j!==S.constructor)return!1;if(j===Object)return l(x,S,N);if(Array.isArray(x))return e(x,S,N);if(j===Date)return r(x,S,N);if(j===RegExp)return d(x,S,N);if(j===Map)return o(x,S,N);if(j===Set)return h(x,S,N);const P=YAe.call(x);if(P===BAe)return r(x,S,N);if(P===HAe)return d(x,S,N);if(P===zAe)return o(x,S,N);if(P===WAe)return h(x,S,N);if(P===qAe)return typeof x.then!="function"&&typeof S.then!="function"&&l(x,S,N);if(P===QAe)return g(x,S,N);if(P===VAe)return i(x,S,N);if(P===DAe)return l(x,S,N);if(GAe[P])return m(x,S,N);if(P===RAe)return t(x,S,N);if(P===FAe)return n(x,S,N);if(P===LAe||P===UAe||P===KAe)return c(x,S,N);if(y){let E=y[P];if(!E){const O=bAe(x);O&&(E=y[O])}if(E)return E(x,S,N)}return!1}}function ZAe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:PAe,areArraysEqual:n?Mp:TAe,areDataViewsEqual:AAe,areDatesEqual:jAe,areErrorsEqual:EAe,areFunctionsEqual:kAe,areMapsEqual:n?SN(k6,Mp):k6,areNumbersEqual:OAe,areObjectsEqual:n?Mp:$Ae,arePrimitiveWrappersEqual:_Ae,areRegExpsEqual:MAe,areSetsEqual:n?SN(O6,Mp):O6,areTypedArraysEqual:n?SN(n1,Mp):n1,areUrlsEqual:IAe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=k0(r.areArraysEqual),s=k0(r.areMapsEqual),o=k0(r.areObjectsEqual),a=k0(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:a})}return r}function JAe(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function eje({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:c=t?new WeakMap:void 0,meta:d}=n();return e(a,l,{cache:c,equals:r,meta:d,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const s={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,s)}}const oee=Cc();Cc({strict:!0});Cc({circular:!0});Cc({circular:!0,strict:!0});Cc({createInternalComparator:()=>Ju});Cc({strict:!0,createInternalComparator:()=>Ju});Cc({circular:!0,createInternalComparator:()=>Ju});Cc({circular:!0,createInternalComparator:()=>Ju,strict:!0});function Cc(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,s=ZAe(t),o=XAe(s),a=n?n(o):JAe(o);return eje({circular:e,comparator:o,createState:r,equals:a,strict:i})}var CN={exports:{}},NN={};var $6;function tje(){if($6)return NN;$6=1;var t=fy(),e=VU();function n(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return NN.useSyncExternalStoreWithSelector=function(c,d,h,m,g){var y=s(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=a(function(){function S(E){if(!N){if(N=!0,T=E,E=m(E),g!==void 0&&b.hasValue){var O=b.value;if(g(O,E))return j=O}return j=E}if(O=j,r(T,E))return O;var _=m(E);return g!==void 0&&g(O,_)?(T=E,O):(T=E,j=_)}var N=!1,T,j,P=h===void 0?null:h;return[function(){return S(d())},P===null?void 0:function(){return S(P())}]},[d,h,m,g]);var x=i(c,y[0],y[1]);return o(function(){b.hasValue=!0,b.value=x},[x]),l(x),x},NN}var _6;function nje(){return _6||(_6=1,CN.exports=tje()),CN.exports}var rje=nje(),ije=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},sje=({contentComponent:t})=>{const e=oO.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return u.jsx(u.Fragment,{children:Object.values(e)})};function oje(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:uq.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var aje=class extends H.Component{constructor(t){var e;super(t),this.editorContentRef=H.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=oje(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return u.jsxs(u.Fragment,{children:[u.jsx("div",{ref:ije(e,this.editorContentRef),...n}),t?.contentComponent&&u.jsx(sje,{contentComponent:t.contentComponent})]})}},lje=C.forwardRef((t,e)=>{const n=H.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return H.createElement(aje,{key:n,innerRef:e,...t})}),cje=H.memo(lje),uje=typeof window<"u"?C.useLayoutEffect:C.useEffect,dje=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function fje(t){var e;const[n]=C.useState(()=>new dje(t.editor)),r=rje.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:oee);return uje(()=>n.watch(t.editor),[t.editor,n]),C.useDebugValue(r),r}var hje=!1,ok=typeof window>"u",pje=ok||!!(typeof window<"u"&&window.next),mje=class aee{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?ok||pje?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new oAe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var o;return i===((o=n.extensions)==null?void 0:o[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?aee.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function gje(t={},e=[]){const n=C.useRef(t);n.current=t;const[r]=C.useState(()=>new mje(n)),i=oO.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return C.useDebugValue(i),C.useEffect(r.onRender(e)),fje({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var yje=C.createContext({editor:null});yje.Consumer;var vje=C.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),xje=()=>C.useContext(vje);H.forwardRef((t,e)=>{const{onDragStart:n}=xje(),r=t.as||"div";return u.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});H.createContext({markViewContentRef:()=>{}});var r1=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},bje=/^\s*>\s$/,wje=Fi.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return r1("blockquote",{...Wn(this.options.HTMLAttributes,t),children:r1("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(i=>{const a=e.renderChildren([i]).split(`
`).map(l=>l.trim()===""?n:`${n} ${l}`);r.push(a.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Vf({find:bje,type:this.type})]}}),Sje=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Cje=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Nje=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Pje=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Tje=Zu.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return r1("strong",{...Wn(this.options.HTMLAttributes,t),children:r1("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Bf({find:Sje,type:this.type}),Bf({find:Nje,type:this.type})]},addPasteRules(){return[Fu({find:Cje,type:this.type}),Fu({find:Pje,type:this.type})]}}),Aje=/(^|[^`])`([^`]+)`(?!`)$/,jje=/(^|[^`])`([^`]+)`(?!`)/g,Eje=Zu.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Wn(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Bf({find:Aje,type:this.type})]},addPasteRules(){return[Fu({find:jje,type:this.type})]}}),PN=4,kje=/^```([a-z]+)?[\s\n]$/,Oje=/^~~~([a-z]+)?[\s\n]$/,$je=Fi.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:PN,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Wn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:PN,{state:r}=t,{selection:i}=r,{$from:s,empty:o}=i;if(s.parent.type!==this.type)return!1;const a=" ".repeat(n);return o?t.commands.insertContent(a):t.commands.command(({tr:l})=>{const{from:c,to:d}=i,g=r.doc.textBetween(c,d,`
`,`
`).split(`
`).map(y=>a+y).join(`
`);return l.replaceWith(c,d,r.schema.text(g)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:PN,{state:r}=t,{selection:i}=r,{$from:s,empty:o}=i;return s.parent.type!==this.type?!1:o?t.commands.command(({tr:a})=>{var l;const{pos:c}=s,d=s.start(),h=s.end(),g=r.doc.textBetween(d,h,`
`,`
`).split(`
`);let y=0,b=0;const x=c-d;for(let E=0;E<g.length;E+=1){if(b+g[E].length>=x){y=E;break}b+=g[E].length+1}const N=((l=g[y].match(/^ */))==null?void 0:l[0])||"",T=Math.min(N.length,n);if(T===0)return!0;let j=d;for(let E=0;E<y;E+=1)j+=g[E].length+1;return a.delete(j,j+T),c-j<=T&&a.setSelection(ht.create(a.doc,j)),!0}):t.commands.command(({tr:a})=>{const{from:l,to:c}=i,m=r.doc.textBetween(l,c,`
`,`
`).split(`
`).map(g=>{var y;const b=((y=g.match(/^ */))==null?void 0:y[0])||"",x=Math.min(b.length,n);return g.slice(x)}).join(`
`);return a.replaceWith(l,c,r.schema.text(m)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(Ct.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[ik({find:kje,type:this.type,getAttributes:t=>({language:t[1]})}),ik({find:Oje,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new On({key:new pr("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!n||!s)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(ht.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),_je=Fi.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),Mje=Fi.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Wn(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:d})=>{if(d&&l&&o){const h=l.filter(m=>a.includes(m.type.name));c.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Ije=Fi.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Wn(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>ik({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),Rje=Fi.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Wn(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!cAe(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return BJ(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:o,dispatch:a})=>{if(a){const{$to:l}=o.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?o.setSelection(ht.create(o.doc,l.pos+1)):l.nodeAfter.isBlock?o.setSelection(et.create(o.doc,l.pos)):o.setSelection(ht.create(o.doc,l.pos));else{const d=s.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,h=d?.create();h&&(o.insert(c,h),o.setSelection(ht.create(o.doc,c+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[ree({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Dje=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Lje=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Fje=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Bje=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Vje=Zu.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Wn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Bf({find:Dje,type:this.type}),Bf({find:Fje,type:this.type})]},addPasteRules(){return[Fu({find:Lje,type:this.type}),Fu({find:Bje,type:this.type})]}});const zje="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Uje="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",ak="numeric",lk="ascii",ck="alpha",gm="asciinumeric",em="alphanumeric",uk="domain",lee="emoji",qje="scheme",Hje="slashscheme",TN="whitespace";function Wje(t,e){return t in e||(e[t]=[]),e[t]}function su(t,e,n){e[ak]&&(e[gm]=!0,e[em]=!0),e[lk]&&(e[gm]=!0,e[ck]=!0),e[gm]&&(e[em]=!0),e[ck]&&(e[em]=!0),e[em]&&(e[uk]=!0),e[lee]&&(e[uk]=!0);for(const r in e){const i=Wje(r,n);i.indexOf(t)<0&&i.push(t)}}function Kje(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Mi(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Mi.groups={};Mi.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Mi.groups;let i;return e&&e.j?i=e:(i=new Mi(e),n&&r&&su(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Mi.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,a=i.go(t);if(a?(o=new Mi,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Mi,s){if(r)if(o.t&&typeof o.t=="string"){const l=Object.assign(Kje(o.t,r),n);su(s,l,r)}else n&&su(s,n,r);o.t=s}return i.j[t]=o,o}};const St=(t,e,n,r,i)=>t.ta(e,n,r,i),Mn=(t,e,n,r,i)=>t.tr(e,n,r,i),M6=(t,e,n,r,i)=>t.ts(e,n,r,i),Ne=(t,e,n,r,i)=>t.tt(e,n,r,i),ga="WORD",dk="UWORD",cee="ASCIINUMERICAL",uee="ALPHANUMERICAL",mg="LOCALHOST",fk="TLD",hk="UTLD",ox="SCHEME",Kd="SLASH_SCHEME",E_="NUM",pk="WS",k_="NL",ym="OPENBRACE",vm="CLOSEBRACE",i1="OPENBRACKET",s1="CLOSEBRACKET",o1="OPENPAREN",a1="CLOSEPAREN",l1="OPENANGLEBRACKET",c1="CLOSEANGLEBRACKET",u1="FULLWIDTHLEFTPAREN",d1="FULLWIDTHRIGHTPAREN",f1="LEFTCORNERBRACKET",h1="RIGHTCORNERBRACKET",p1="LEFTWHITECORNERBRACKET",m1="RIGHTWHITECORNERBRACKET",g1="FULLWIDTHLESSTHAN",y1="FULLWIDTHGREATERTHAN",v1="AMPERSAND",x1="APOSTROPHE",b1="ASTERISK",Il="AT",w1="BACKSLASH",S1="BACKTICK",C1="CARET",Bl="COLON",O_="COMMA",N1="DOLLAR",jo="DOT",P1="EQUALS",$_="EXCLAMATION",Cs="HYPHEN",xm="PERCENT",T1="PIPE",A1="PLUS",j1="POUND",bm="QUERY",__="QUOTE",dee="FULLWIDTHMIDDLEDOT",M_="SEMI",Eo="SLASH",wm="TILDE",E1="UNDERSCORE",fee="EMOJI",k1="SYM";var hee=Object.freeze({__proto__:null,ALPHANUMERICAL:uee,AMPERSAND:v1,APOSTROPHE:x1,ASCIINUMERICAL:cee,ASTERISK:b1,AT:Il,BACKSLASH:w1,BACKTICK:S1,CARET:C1,CLOSEANGLEBRACKET:c1,CLOSEBRACE:vm,CLOSEBRACKET:s1,CLOSEPAREN:a1,COLON:Bl,COMMA:O_,DOLLAR:N1,DOT:jo,EMOJI:fee,EQUALS:P1,EXCLAMATION:$_,FULLWIDTHGREATERTHAN:y1,FULLWIDTHLEFTPAREN:u1,FULLWIDTHLESSTHAN:g1,FULLWIDTHMIDDLEDOT:dee,FULLWIDTHRIGHTPAREN:d1,HYPHEN:Cs,LEFTCORNERBRACKET:f1,LEFTWHITECORNERBRACKET:p1,LOCALHOST:mg,NL:k_,NUM:E_,OPENANGLEBRACKET:l1,OPENBRACE:ym,OPENBRACKET:i1,OPENPAREN:o1,PERCENT:xm,PIPE:T1,PLUS:A1,POUND:j1,QUERY:bm,QUOTE:__,RIGHTCORNERBRACKET:h1,RIGHTWHITECORNERBRACKET:m1,SCHEME:ox,SEMI:M_,SLASH:Eo,SLASH_SCHEME:Kd,SYM:k1,TILDE:wm,TLD:fk,UNDERSCORE:E1,UTLD:hk,UWORD:dk,WORD:ga,WS:pk});const fa=/[a-z]/,Ip=new RegExp("\\p{L}","u"),AN=new RegExp("\\p{Emoji}","u"),ha=/\d/,jN=/\s/,I6="\r",EN=`
`,Gje="",Qje="",kN="";let O0=null,$0=null;function Yje(t=[]){const e={};Mi.groups=e;const n=new Mi;O0==null&&(O0=R6(zje)),$0==null&&($0=R6(Uje)),Ne(n,"'",x1),Ne(n,"{",ym),Ne(n,"}",vm),Ne(n,"[",i1),Ne(n,"]",s1),Ne(n,"(",o1),Ne(n,")",a1),Ne(n,"<",l1),Ne(n,">",c1),Ne(n,"",u1),Ne(n,"",d1),Ne(n,"",f1),Ne(n,"",h1),Ne(n,"",p1),Ne(n,"",m1),Ne(n,"",g1),Ne(n,"",y1),Ne(n,"&",v1),Ne(n,"*",b1),Ne(n,"@",Il),Ne(n,"`",S1),Ne(n,"^",C1),Ne(n,":",Bl),Ne(n,",",O_),Ne(n,"$",N1),Ne(n,".",jo),Ne(n,"=",P1),Ne(n,"!",$_),Ne(n,"-",Cs),Ne(n,"%",xm),Ne(n,"|",T1),Ne(n,"+",A1),Ne(n,"#",j1),Ne(n,"?",bm),Ne(n,'"',__),Ne(n,"/",Eo),Ne(n,";",M_),Ne(n,"~",wm),Ne(n,"_",E1),Ne(n,"\\",w1),Ne(n,"",dee);const r=Mn(n,ha,E_,{[ak]:!0});Mn(r,ha,r);const i=Mn(r,fa,cee,{[gm]:!0}),s=Mn(r,Ip,uee,{[em]:!0}),o=Mn(n,fa,ga,{[lk]:!0});Mn(o,ha,i),Mn(o,fa,o),Mn(i,ha,i),Mn(i,fa,i);const a=Mn(n,Ip,dk,{[ck]:!0});Mn(a,fa),Mn(a,ha,s),Mn(a,Ip,a),Mn(s,ha,s),Mn(s,fa),Mn(s,Ip,s);const l=Ne(n,EN,k_,{[TN]:!0}),c=Ne(n,I6,pk,{[TN]:!0}),d=Mn(n,jN,pk,{[TN]:!0});Ne(n,kN,d),Ne(c,EN,l),Ne(c,kN,d),Mn(c,jN,d),Ne(d,I6),Ne(d,EN),Mn(d,jN,d),Ne(d,kN,d);const h=Mn(n,AN,fee,{[lee]:!0});Ne(h,"#"),Mn(h,AN,h),Ne(h,Gje,h);const m=Ne(h,Qje);Ne(m,"#"),Mn(m,AN,h);const g=[[fa,o],[ha,i]],y=[[fa,null],[Ip,a],[ha,s]];for(let b=0;b<O0.length;b++)Al(n,O0[b],fk,ga,g);for(let b=0;b<$0.length;b++)Al(n,$0[b],hk,dk,y);su(fk,{tld:!0,ascii:!0},e),su(hk,{utld:!0,alpha:!0},e),Al(n,"file",ox,ga,g),Al(n,"mailto",ox,ga,g),Al(n,"http",Kd,ga,g),Al(n,"https",Kd,ga,g),Al(n,"ftp",Kd,ga,g),Al(n,"ftps",Kd,ga,g),su(ox,{scheme:!0,ascii:!0},e),su(Kd,{slashscheme:!0,ascii:!0},e),t=t.sort((b,x)=>b[0]>x[0]?1:-1);for(let b=0;b<t.length;b++){const x=t[b][0],N=t[b][1]?{[qje]:!0}:{[Hje]:!0};x.indexOf("-")>=0?N[uk]=!0:fa.test(x)?ha.test(x)?N[gm]=!0:N[lk]=!0:N[ak]=!0,M6(n,x,x,N)}return M6(n,"localhost",mg,{ascii:!0}),n.jd=new Mi(k1),{start:n,tokens:Object.assign({groups:e},hee)}}function pee(t,e){const n=Xje(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let s=0,o=0;for(;o<r;){let a=t,l=null,c=0,d=null,h=-1,m=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(h=0,m=0,d=a):h>=0&&(h+=n[o].length,m++),c+=n[o].length,s+=n[o].length,o++;s-=h,o-=m,c-=h,i.push({t:d.t,v:e.slice(s-c,s),s:s-c,e:s})}return i}function Xje(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,o=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function Al(t,e,n,r,i){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new Mi(r),s.jr=i.slice(),t.j[l]=s),t=s}return s=new Mi(n),s.jr=i.slice(),t.j[e[o-1]]=s,s}function R6(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+s),10);o>0;o--)n.pop();r+=s}else n.push(t[r]),r++}return e}const gg={defaultProtocol:"http",events:null,format:D6,formatHref:D6,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function I_(t,e=null){let n=Object.assign({},gg);t&&(n=Object.assign(n,t instanceof I_?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}I_.prototype={o:gg,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:gg[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function D6(t){return t}function mee(t,e){this.t="token",this.v=t,this.tk=e}mee.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=gg.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),o={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),d=t.getObj("attributes",n,e),h=t.getObj("events",n,e);return o.href=r,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),d&&Object.assign(o,d),{tagName:i,attributes:o,content:s,eventListeners:h}}};function Vw(t,e){class n extends mee{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const L6=Vw("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),F6=Vw("text"),Zje=Vw("nl"),_0=Vw("url",{isLink:!0,toHref(t=gg.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==mg&&t[1].t===Bl}}),vs=t=>new Mi(t);function Jje({groups:t}){const e=t.domain.concat([v1,b1,Il,w1,S1,C1,N1,P1,Cs,E_,xm,T1,A1,j1,Eo,k1,wm,E1]),n=[x1,Bl,O_,jo,$_,xm,bm,__,M_,l1,c1,ym,vm,s1,i1,o1,a1,u1,d1,f1,h1,p1,m1,g1,y1],r=[v1,x1,b1,w1,S1,C1,N1,P1,Cs,ym,vm,xm,T1,A1,j1,bm,Eo,k1,wm,E1],i=vs(),s=Ne(i,wm);St(s,r,s),St(s,t.domain,s);const o=vs(),a=vs(),l=vs();St(i,t.domain,o),St(i,t.scheme,a),St(i,t.slashscheme,l),St(o,r,s),St(o,t.domain,o);const c=Ne(o,Il);Ne(s,Il,c),Ne(a,Il,c),Ne(l,Il,c);const d=Ne(s,jo);St(d,r,s),St(d,t.domain,s);const h=vs();St(c,t.domain,h),St(h,t.domain,h);const m=Ne(h,jo);St(m,t.domain,h);const g=vs(L6);St(m,t.tld,g),St(m,t.utld,g),Ne(c,mg,g);const y=Ne(h,Cs);Ne(y,Cs,y),St(y,t.domain,h),St(g,t.domain,h),Ne(g,jo,m),Ne(g,Cs,y);const b=Ne(g,Bl);St(b,t.numeric,L6);const x=Ne(o,Cs),S=Ne(o,jo);Ne(x,Cs,x),St(x,t.domain,o),St(S,r,s),St(S,t.domain,o);const N=vs(_0);St(S,t.tld,N),St(S,t.utld,N),St(N,t.domain,o),St(N,r,s),Ne(N,jo,S),Ne(N,Cs,x),Ne(N,Il,c);const T=Ne(N,Bl),j=vs(_0);St(T,t.numeric,j);const P=vs(_0),E=vs();St(P,e,P),St(P,n,E),St(E,e,P),St(E,n,E),Ne(N,Eo,P),Ne(j,Eo,P);const O=Ne(a,Bl),_=Ne(l,Bl),$=Ne(_,Eo),B=Ne($,Eo);St(a,t.domain,o),Ne(a,jo,S),Ne(a,Cs,x),St(l,t.domain,o),Ne(l,jo,S),Ne(l,Cs,x),St(O,t.domain,P),Ne(O,Eo,P),Ne(O,bm,P),St(B,t.domain,P),St(B,e,P),Ne(B,Eo,P);const I=[[ym,vm],[i1,s1],[o1,a1],[l1,c1],[u1,d1],[f1,h1],[p1,m1],[g1,y1]];for(let V=0;V<I.length;V++){const[U,L]=I[V],z=Ne(P,U);Ne(E,U,z),Ne(z,L,P);const F=vs(_0);St(z,e,F);const q=vs();St(z,n),St(F,e,F),St(F,n,q),St(q,e,F),St(q,n,q),Ne(F,L,P),Ne(q,L,P)}return Ne(i,mg,N),Ne(i,k_,Zje),{start:i,tokens:hee}}function eEe(t,e,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let a=t,l=null,c=null,d=0,h=null,m=-1;for(;i<r&&!(l=a.go(n[i].t));)o.push(n[i++]);for(;i<r&&(c=l||a.go(n[i].t));)l=null,a=c,a.accepts()?(m=0,h=a):m>=0&&m++,i++,d++;if(m<0)i-=d,i<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(ON(F6,e,o)),o=[]),i-=m,d-=m;const g=h.t,y=n.slice(i-d,i);s.push(ON(g,e,y))}}return o.length>0&&s.push(ON(F6,e,o)),s}function ON(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const tEe=typeof console<"u"&&console&&console.warn||(()=>{}),nEe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",yn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function rEe(){return Mi.groups={},yn.scanner=null,yn.parser=null,yn.tokenQueue=[],yn.pluginQueue=[],yn.customSchemes=[],yn.initialized=!1,yn}function B6(t,e=!1){if(yn.initialized&&tEe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${nEe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);yn.customSchemes.push([t,e])}function iEe(){yn.scanner=Yje(yn.customSchemes);for(let t=0;t<yn.tokenQueue.length;t++)yn.tokenQueue[t][1]({scanner:yn.scanner});yn.parser=Jje(yn.scanner.tokens);for(let t=0;t<yn.pluginQueue.length;t++)yn.pluginQueue[t][1]({scanner:yn.scanner,parser:yn.parser});return yn.initialized=!0,yn}function R_(t){return yn.initialized||iEe(),eEe(yn.parser.start,t,pee(yn.scanner.start,t))}R_.scan=pee;function gee(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new I_(n),i=R_(t),s=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!e||a.t===e)&&r.check(a)&&s.push(a.toFormattedObject(r))}return s}var D_="[\0- -\u2029]",sEe=new RegExp(D_),oEe=new RegExp(`${D_}$`),aEe=new RegExp(D_,"g");function lEe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function cEe(t){return new On({key:new pr("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,a=$J(n.doc,[...e]);if(FJ(a).forEach(({newRange:c})=>{const d=lTe(r.doc,c,g=>g.isTextblock);let h,m;if(d.length>1)h=d[0],m=r.doc.textBetween(h.pos,h.pos+h.node.nodeSize,void 0," ");else if(d.length){const g=r.doc.textBetween(c.from,c.to," "," ");if(!oEe.test(g))return;h=d[0],m=r.doc.textBetween(h.pos,c.to,void 0," ")}if(h&&m){const g=m.split(sEe).filter(Boolean);if(g.length<=0)return!1;const y=g[g.length-1],b=h.pos+m.lastIndexOf(y);if(!y)return!1;const x=R_(y).map(S=>S.toObject(t.defaultProtocol));if(!lEe(x))return!1;x.filter(S=>S.isLink).map(S=>({...S,from:b+S.start+1,to:b+S.end+1})).filter(S=>r.schema.marks.code?!r.doc.rangeHasMark(S.from,S.to,r.schema.marks.code):!0).filter(S=>t.validate(S.value)).filter(S=>t.shouldAutoLink(S.value)).forEach(S=>{N_(S.from,S.to,r.doc).some(N=>N.mark.type===t.type)||o.addMark(S.from,S.to,t.type.create({href:S.href}))})}}),!!o.steps.length)return o}})}function uEe(t){return new On({key:new pr("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let o=!1;if(t.enableClickSelection&&(o=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let h=r.target;const m=[];for(;h.nodeName!=="DIV";)m.push(h),h=h.parentNode;a=m.find(g=>g.nodeName==="A")}if(!a)return o;const l=LJ(e.state,t.type.name),c=(i=a?.href)!=null?i:l.href,d=(s=a?.target)!=null?s:l.target;a&&c&&(window.open(c,d),o=!0)}return o}}})}function dEe(t){return new On({key:new pr("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:s}=e,{selection:o}=s,{empty:a}=o;if(a)return!1;let l="";r.content.forEach(d=>{l+=d.textContent});const c=gee(l,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===l);return!l||!c||i!==void 0&&!i(c.value)?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}function Hc(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(aEe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var fEe=Zu.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){B6(t);return}B6(t.scheme,t.optionalSlashes)})},onDestroy(){rEe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Hc(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const i=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(i)||!/\./.test(i))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Hc(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Hc(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Wn(this.options.HTMLAttributes,t),0]:["a",Wn(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Hc(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Hc(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Fu({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=gee(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!Hc(o,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(cEe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Hc(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(uEe({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(dEe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),hEe=Object.defineProperty,pEe=(t,e)=>{for(var n in e)hEe(t,n,{get:e[n],enumerable:!0})},mEe="listItem",V6="textStyle",z6=/^\s*([-+*])\s$/,yee=Fi.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Wn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(mEe,this.editor.getAttributes(V6)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Vf({find:z6,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Vf({find:z6,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(V6),editor:this.editor})),[t]}}),vee=Fi.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Wn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const o=t.tokens.slice(1),a=e.parseChildren(o);n.push(...a)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>j_(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),gEe={};pEe(gEe,{findListItemPos:()=>Vy,getNextListDepth:()=>L_,handleBackspace:()=>mk,handleDelete:()=>gk,hasListBefore:()=>xee,hasListItemAfter:()=>yEe,hasListItemBefore:()=>bee,listItemHasSubList:()=>wee,nextListIsDeeper:()=>See,nextListIsHigher:()=>Cee});var Vy=(t,e)=>{const{$from:n}=e.selection,r=tr(t,e.schema);let i=null,s=n.depth,o=n.pos,a=null;for(;s>0&&a===null;)i=n.node(s),i.type===r?a=s:(s-=1,o-=1);return a===null?null:{$pos:e.doc.resolve(o),depth:a}},L_=(t,e)=>{const n=Vy(t,e);if(!n)return!1;const[,r]=vTe(e,t,n.$pos.pos+4);return r},xee=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},bee=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},wee=(t,e,n)=>{if(!n)return!1;const r=tr(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},mk=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!pc(t.state,e)&&xee(t.state,e,n)){const{$anchor:a}=t.state.selection,l=t.state.doc.resolve(a.before()-1),c=[];l.node().descendants((m,g)=>{m.type.name===e&&c.push({node:m,pos:g})});const d=c.at(-1);if(!d)return!1;const h=t.state.doc.resolve(l.start()+d.pos+1);return t.chain().cut({from:a.start()-1,to:a.end()+1},h.end()).joinForward().run()}if(!pc(t.state,e)||!STe(t.state))return!1;const r=Vy(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),o=wee(e,t.state,s);return bee(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},See=(t,e)=>{const n=L_(t,e),r=Vy(t,e);return!r||!n?!1:n>r.depth},Cee=(t,e)=>{const n=L_(t,e),r=Vy(t,e);return!r||!n?!1:n<r.depth},gk=(t,e)=>{if(!pc(t.state,e)||!wTe(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:See(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():Cee(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},yEe=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},Nee=Qn.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&gk(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&gk(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&mk(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&mk(t,n,r)&&(e=!0)}),e}}}}),U6=/^(\s*)(\d+)\.\s+(.*)$/,vEe=/^\s/;function xEe(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],s=i.match(U6);if(!s)break;const[,o,a,l]=s,c=o.length;let d=l,h=n+1;const m=[i];for(;h<t.length;){const g=t[h];if(g.match(U6))break;if(g.trim()==="")m.push(g),d+=`
`,h+=1;else if(g.match(vEe))m.push(g),d+=`
${g.slice(c+2)}`,h+=1;else break}e.push({indent:c,number:parseInt(a,10),content:d.trim(),raw:m.join(`
`)}),r=h,n=h}return[e,r]}function Pee(t,e,n){var r;const i=[];let s=0;for(;s<t.length;){const o=t[s];if(o.indent===e){const a=o.content.split(`
`),l=((r=a[0])==null?void 0:r.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const d=a.slice(1).join(`
`).trim();if(d){const g=n.blockTokens(d);c.push(...g)}let h=s+1;const m=[];for(;h<t.length&&t[h].indent>e;)m.push(t[h]),h+=1;if(m.length>0){const g=Math.min(...m.map(b=>b.indent)),y=Pee(m,g,n);c.push({type:"list",ordered:!0,start:m[0].number,items:y,raw:m.map(b=>b.raw).join(`
`)})}i.push({type:"list_item",raw:o.raw,tokens:c}),s=h}else s+=1}return i}function bEe(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=e.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=e.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var wEe="listItem",q6="textStyle",H6=/^(\d+)\.\s$/,Tee=Fi.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Wn(this.options.HTMLAttributes,n),0]:["ol",Wn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?bEe(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[s,o]=xEe(i);if(s.length===0)return;const a=Pee(s,0,n);return a.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:a,raw:i.slice(0,o).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(wEe,this.editor.getAttributes(q6)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Vf({find:H6,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Vf({find:H6,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(q6)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),SEe=/^\s*(\[([( |x])?\])\s$/,CEe=Fi.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Wn(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return j_(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=h=>{var m,g;a.ariaLabel=((g=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:g.call(m,h,a.checked))||`Task item checkbox for ${h.textContent||"empty task item"}`};c(t),s.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",h=>h.preventDefault()),a.addEventListener("change",h=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:m}=h.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const y=n();if(typeof y!="number")return!1;const b=g.doc.nodeAt(y);return g.setNodeMarkup(y,void 0,{...b?.attrs,checked:m}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([h,m])=>{i.setAttribute(h,m)}),i.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,s.append(a,o),i.append(s,l),Object.entries(e).forEach(([h,m])=>{i.setAttribute(h,m)});let d=new Set(Object.keys(e));return{dom:i,contentDOM:l,update:h=>{if(h.type!==this.type)return!1;i.dataset.checked=h.attrs.checked,a.checked=h.attrs.checked,c(h);const m=r.extensionManager.attributes,g=pg(h,m),y=new Set(Object.keys(g)),b=this.options.HTMLAttributes;return d.forEach(x=>{y.has(x)||(x in b?i.setAttribute(x,b[x]):i.removeAttribute(x))}),Object.entries(g).forEach(([x,S])=>{S==null?x in b?i.setAttribute(x,b[x]):i.removeAttribute(x):i.setAttribute(x,S)}),d=y,!0}}}},addInputRules(){return[Vf({find:SEe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),NEe=Fi.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Wn(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=s=>{const o=sk(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,l)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:l}),customNestedParser:r},n);return o?[{type:"taskList",raw:o.raw,items:o.items}]:n.blockTokens(s)},i=sk(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,o)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:o}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Qn.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(yee.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(vee.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(Nee.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(Tee.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(CEe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(NEe.configure(this.options.taskList)),t}});var PEe=Fi.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Wn(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),TEe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,AEe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,jEe=Zu.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Wn(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Bf({find:TEe,type:this.type})]},addPasteRules(){return[Fu({find:AEe,type:this.type})]}}),EEe=Fi.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),kEe=Zu.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Wn(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function OEe(t={}){return new On({view(e){return new $Ee(e,t)}})}class $Ee{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,a=s.height/i.offsetHeight;if(n){let h=e.nodeBefore,m=e.nodeAfter;if(h||m){let g=this.editorView.nodeDOM(this.cursorPos-(h?h.nodeSize:0));if(g){let y=g.getBoundingClientRect(),b=h?y.bottom:y.top;h&&m&&(b=(b+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*a;r={left:y.left,right:y.right,top:b-x,bottom:b+x}}}}if(!r){let h=this.editorView.coordsAtPos(this.cursorPos),m=this.width/2*o;r={left:h.left-m,right:h.left+m,top:h.top,bottom:h.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,d;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,d=-pageYOffset;else{let h=l.getBoundingClientRect(),m=h.width/l.offsetWidth,g=h.height/l.offsetHeight;c=h.left-l.scrollLeft*m,d=h.top-l.scrollTop*g}this.element.style.left=(r.left-c)/o+"px",this.element.style.top=(r.top-d)/a+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=CZ(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Ln extends Ct{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Ln.valid(r)?new Ln(r):Ct.near(r)}content(){return Ve.empty}eq(e){return e instanceof Ln&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ln(e.resolve(n.pos))}getBookmark(){return new F_(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!_Ee(e)||!MEe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Ln.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let l=e.doc.resolve(i);if(Ln.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!et.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(Ln.valid(a))return a}return null}}}Ln.prototype.visible=!1;Ln.findFrom=Ln.findGapCursorFrom;Ct.jsonID("gapcursor",Ln);class F_{constructor(e){this.pos=e}map(e){return new F_(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Ln.valid(n)?new Ln(n):Ct.near(n)}}function Aee(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function _Ee(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||Aee(i.type))return!0;if(i.inlineContent)return!1}}return!0}function MEe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||Aee(i.type))return!0;if(i.inlineContent)return!1}}return!0}function IEe(){return new On({props:{decorations:FEe,createSelectionBetween(t,e,n){return e.pos==n.pos&&Ln.valid(n)?new Ln(n):null},handleClick:DEe,handleKeyDown:REe,handleDOMEvents:{beforeinput:LEe}}})}const REe=NJ({ArrowLeft:M0("horiz",-1),ArrowRight:M0("horiz",1),ArrowUp:M0("vert",-1),ArrowDown:M0("vert",1)});function M0(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof ht){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=Ln.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new Ln(c))),!0):!1}}function DEe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Ln.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&et.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Ln(r))),!0)}function LEe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Ln))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=xe.empty;for(let o=r.length-1;o>=0;o--)i=xe.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new Ve(i,0,0));return s.setSelection(ht.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function FEe(t){if(!(t.selection instanceof Ln))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",En.create(t.doc,[vi.widget(t.selection.head,e,{key:"gapcursor"})])}var O1=200,jr=function(){};jr.prototype.append=function(e){return e.length?(e=jr.from(e),!this.length&&e||e.length<O1&&this.leafAppend(e)||this.length<O1&&e.leafPrepend(this)||this.appendInner(e)):this};jr.prototype.prepend=function(e){return e.length?jr.from(e).append(this):this};jr.prototype.appendInner=function(e){return new BEe(this,e)};jr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?jr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};jr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};jr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};jr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};jr.from=function(e){return e instanceof jr?e:e&&e.length?new jee(e):jr.empty};var jee=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=O1)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=O1)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(jr);jr.empty=new jee([]);var BEe=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(jr);const VEe=500;class io{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,c=[],d=[];return this.items.forEach((h,m)=>{if(!h.step){i||(i=this.remapping(r,m+1),s=i.maps.length),s--,d.push(h);return}if(i){d.push(new ko(h.map));let g=h.step.map(i.slice(s)),y;g&&o.maybeStep(g).doc&&(y=o.mapping.maps[o.mapping.maps.length-1],c.push(new ko(y,void 0,void 0,c.length+d.length))),s--,y&&i.appendMap(y,s)}else o.maybeStep(h.step);if(h.selection)return a=i?h.selection.map(i.slice(s)):h.selection,l=new io(this.items.slice(0,r).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let d=0;d<e.steps.length;d++){let h=e.steps[d].invert(e.docs[d]),m=new ko(e.mapping.maps[d],h,n),g;(g=l&&l.merge(m))&&(m=g,d?s.pop():a=a.slice(0,a.length-1)),s.push(m),n&&(o++,n=void 0),i||(l=m)}let c=o-r.depth;return c>UEe&&(a=zEe(a,c),o-=c),new io(a.append(s),o)}remapping(e,n){let r=new lg;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new io(this.items.append(e.map(n=>new ko(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(m=>{m.selection&&a--},i);let l=n;this.items.forEach(m=>{let g=s.getMirror(--l);if(g==null)return;o=Math.min(o,g);let y=s.maps[g];if(m.step){let b=e.steps[g].invert(e.docs[g]),x=m.selection&&m.selection.map(s.slice(l+1,g));x&&a++,r.push(new ko(y,b,x))}else r.push(new ko(y))},i);let c=[];for(let m=n;m<o;m++)c.push(new ko(s.maps[m]));let d=this.items.slice(0,i).append(c).append(r),h=new io(d,a);return h.emptyItemCount()>VEe&&(h=h.compress(this.items.length-r.length)),h}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let d=o.selection&&o.selection.map(n.slice(r));d&&s++;let h=new ko(c.invert(),l,d),m,g=i.length-1;(m=i.length&&i[g].merge(h))?i[g]=m:i.push(h)}}else o.map&&r--},this.items.length,0),new io(jr.from(i.reverse()),s)}}io.empty=new io(jr.empty,0);function zEe(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class ko{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ko(n.getMap().invert(),n,this.selection)}}}class Rl{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const UEe=20;function qEe(t,e,n,r){let i=n.getMeta(vu),s;if(i)return i.historyState;n.getMeta(KEe)&&(t=new Rl(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(vu))return o.getMeta(vu).redo?new Rl(t.done.addTransform(n,void 0,r,ax(e)),t.undone,W6(n.mapping.maps),t.prevTime,t.prevComposition):new Rl(t.done,t.undone.addTransform(n,void 0,r,ax(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!HEe(n,t.prevRanges)),c=o?$N(t.prevRanges,n.mapping):W6(n.mapping.maps);return new Rl(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,ax(e)),io.empty,c,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Rl(t.done.rebased(n,s),t.undone.rebased(n,s),$N(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Rl(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),$N(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function HEe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function W6(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function $N(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function WEe(t,e,n){let r=ax(e),i=vu.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new Rl(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(vu,{redo:n,historyState:l})}let _N=!1,K6=null;function ax(t){let e=t.plugins;if(K6!=e){_N=!1,K6=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){_N=!0;break}}return _N}const vu=new pr("history"),KEe=new pr("closeHistory");function GEe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new On({key:vu,state:{init(){return new Rl(io.empty,io.empty,null,0,-1)},apply(e,n,r){return qEe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?kee:r=="historyRedo"?Oee:null;return!i||!e.editable?!1:(n.preventDefault(),i(e.state,e.dispatch))}}}})}function Eee(t,e){return(n,r)=>{let i=vu.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=WEe(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const kee=Eee(!1,!0),Oee=Eee(!0,!0);Qn.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new On({key:new pr("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const o=s-i,a=0,l=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(a,l);return t=!0,c}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const a=e.selection.$head.pos,l=s-r,c=a-l,d=a;return e.deleteRange(c,d),!(this.storage.characters({node:e.doc})>r)}})]}});var QEe=Qn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[OEe(this.options)]}});Qn.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new On({key:new pr("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return En.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;o+=1});let a=0;return t.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&o-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";s.push(vi.node(c,c+l.nodeSize,{class:this.options.className}))}),En.create(t,s)}}})]}});var YEe=Qn.create({name:"gapCursor",addProseMirrorPlugins(){return[IEe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Yt(Ze(t,"allowGapCursor",n)))!=null?e:null}}}),XEe=Qn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new On({key:new pr("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((o,a)=>{const l=r>=a&&r<=a+o.nodeSize,c=!o.isLeaf&&Lw(o);if((l||!this.options.showOnlyCurrent)&&c){const d=[this.options.emptyNodeClass];s&&d.push(this.options.emptyEditorClass);const h=vi.node(a,a+o.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});i.push(h)}return this.options.includeChildren}),En.create(t,i)}}})]}});Qn.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new On({key:new pr("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||BJ(n.selection)||t.view.dragging?null:En.create(n.doc,[vi.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function G6({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var ZEe=Qn.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new pr(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new On({key:e,appendTransaction:(i,s,o)=>{const{doc:a,tr:l,schema:c}=o,d=e.getState(o),h=a.content.size,m=c.nodes[n];if(d)return l.insert(h,m.create())},state:{init:(i,s)=>{const o=s.tr.doc.lastChild;return!G6({node:o,types:r})},apply:(i,s)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return s;const o=i.doc.lastChild;return!G6({node:o,types:r})}}})]}}),JEe=Qn.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>kee(t,e),redo:()=>({state:t,dispatch:e})=>Oee(t,e)}},addProseMirrorPlugins(){return[GEe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),eke=Qn.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(Tje.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(wje.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(yee.configure(this.options.bulletList)),this.options.code!==!1&&i.push(Eje.configure(this.options.code)),this.options.codeBlock!==!1&&i.push($je.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(_je.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(QEe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(YEe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(Mje.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(Ije.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(JEe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(Rje.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(Vje.configure(this.options.italic)),this.options.listItem!==!1&&i.push(vee.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(Nee.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(fEe.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(Tee.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(PEe.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(jEe.configure(this.options.strike)),this.options.text!==!1&&i.push(EEe.configure(this.options.text)),this.options.underline!==!1&&i.push(kEe.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(ZEe.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),tke=eke,nke=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,rke=Fi.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Wn(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,i,s,o;const a=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",l=(i=(r=t.attrs)==null?void 0:r.alt)!=null?i:"",c=(o=(s=t.attrs)==null?void 0:s.title)!=null?o:"";return c?`![${l}](${a} "${c}")`:`![${l}](${a})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:i,getPos:s,HTMLAttributes:o,editor:a})=>{const l=document.createElement("img");Object.entries(o).forEach(([h,m])=>{if(m!=null)switch(h){case"width":case"height":break;default:l.setAttribute(h,m);break}}),l.src=o.src;const c=new lAe({element:l,editor:a,node:i,getPos:s,onResize:(h,m)=>{l.style.width=`${h}px`,l.style.height=`${m}px`},onCommit:(h,m)=>{const g=s();g!==void 0&&this.editor.chain().setNodeSelection(g).updateAttributes(this.name,{width:h,height:m}).run()},onUpdate:(h,m,g)=>h.type===i.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:r===!0}}),d=c.dom;return d.style.visibility="hidden",d.style.pointerEvents="none",l.onload=()=>{d.style.visibility="",d.style.pointerEvents=""},c}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[ree({find:nke,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),ike=rke,ske=XEe;const oke=({editor:t})=>t?u.jsxs("div",{className:"flex flex-wrap gap-1 border-b border-border p-2 bg-muted/30",children:[u.jsx(ce,{type:"button",variant:"ghost",size:"icon",onClick:()=>t.chain().focus().toggleBold().run(),className:se("h-8 w-8",t.isActive("bold")&&"bg-muted"),"data-testid":"button-tiptap-bold",children:u.jsx(Xle,{className:"h-4 w-4"})}),u.jsx(ce,{type:"button",variant:"ghost",size:"icon",onClick:()=>t.chain().focus().toggleItalic().run(),className:se("h-8 w-8",t.isActive("italic")&&"bg-muted"),"data-testid":"button-tiptap-italic",children:u.jsx(dce,{className:"h-4 w-4"})}),u.jsx(ce,{type:"button",variant:"ghost",size:"icon",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:se("h-8 w-8",t.isActive("heading",{level:2})&&"bg-muted"),"data-testid":"button-tiptap-heading",children:u.jsx(uce,{className:"h-4 w-4"})}),u.jsx(ce,{type:"button",variant:"ghost",size:"icon",onClick:()=>t.chain().focus().toggleBulletList().run(),className:se("h-8 w-8",t.isActive("bulletList")&&"bg-muted"),"data-testid":"button-tiptap-bullet-list",children:u.jsx(qq,{className:"h-4 w-4"})}),u.jsx(ce,{type:"button",variant:"ghost",size:"icon",onClick:()=>t.chain().focus().toggleOrderedList().run(),className:se("h-8 w-8",t.isActive("orderedList")&&"bg-muted"),"data-testid":"button-tiptap-ordered-list",children:u.jsx(hce,{className:"h-4 w-4"})}),u.jsx("div",{className:"w-px h-6 bg-border mx-1 self-center"}),u.jsx(ce,{type:"button",variant:"ghost",size:"icon",onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().undo(),className:"h-8 w-8","data-testid":"button-tiptap-undo",children:u.jsx(Mce,{className:"h-4 w-4"})}),u.jsx(ce,{type:"button",variant:"ghost",size:"icon",onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().redo(),className:"h-8 w-8","data-testid":"button-tiptap-redo",children:u.jsx(Nce,{className:"h-4 w-4"})})]}):null;function $1({content:t,onChange:e,placeholder:n="Start typing...",className:r}){const i=gje({extensions:[tke,ike.configure({inline:!0,allowBase64:!0}),ske.configure({placeholder:n})],content:t,onUpdate:({editor:s})=>{e(s.getHTML())},editorProps:{attributes:{class:"prose prose-sm dark:prose-invert max-w-none focus:outline-none min-h-[120px] p-3 break-words overflow-wrap-anywhere whitespace-pre-wrap overflow-x-hidden [word-break:break-word]"},handlePaste:(s,o)=>{const a=o.clipboardData?.items;if(!a)return!1;const l=Array.from(a);for(let c=0;c<l.length;c++){const d=l[c];if(d.type.startsWith("image/")){o.preventDefault();const h=d.getAsFile();if(h){const m=new FileReader;return m.onload=g=>{const y=g.target?.result;y&&s.dispatch(s.state.tr.replaceSelectionWith(s.state.schema.nodes.image.create({src:y})))},m.readAsDataURL(h),!0}}}return!1},handleDrop:(s,o)=>{const a=o.dataTransfer?.files;if(!a||a.length===0)return!1;const l=Array.from(a);for(let c=0;c<l.length;c++){const d=l[c];if(d.type.startsWith("image/")){o.preventDefault();const h=new FileReader;return h.onload=m=>{const g=m.target?.result;if(g){const y=s.posAtCoords({left:o.clientX,top:o.clientY});y&&s.dispatch(s.state.tr.insert(y.pos,s.state.schema.nodes.image.create({src:g})))}},h.readAsDataURL(d),!0}}return!1}}});return C.useEffect(()=>{i&&t!==i.getHTML()&&i.commands.setContent(t)},[t,i]),u.jsxs("div",{className:se("border border-border rounded-lg overflow-hidden bg-background w-full max-w-full",r),children:[u.jsx(oke,{editor:i}),u.jsx(cje,{editor:i,className:"max-w-full overflow-hidden"})]})}const Ye=C.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:se("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Ye.displayName="Card";const jt=C.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:se("flex flex-col space-y-1.5 p-6",t),...e}));jt.displayName="CardHeader";const _t=C.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:se("text-2xl font-semibold leading-none tracking-tight",t),...e}));_t.displayName="CardTitle";const ss=C.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:se("text-sm text-muted-foreground",t),...e}));ss.displayName="CardDescription";const Je=C.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:se("p-6 pt-0",t),...e}));Je.displayName="CardContent";const $ee=C.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:se("flex items-center p-6 pt-0",t),...e}));$ee.displayName="CardFooter";var B_="Tabs",[ake]=Hr(B_,[uw]),_ee=uw(),[lke,V_]=ake(B_),Mee=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=aw(a),[h,m]=fo({prop:r,onChange:i,defaultProp:s});return u.jsx(lke,{scope:n,baseId:es(),value:h,onValueChange:m,orientation:o,dir:d,activationMode:l,children:u.jsx(Xe.div,{dir:d,"data-orientation":o,...c,ref:e})})});Mee.displayName=B_;var Iee="TabsList",Ree=C.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=V_(Iee,n),o=_ee(n);return u.jsx(fW,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:u.jsx(Xe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Ree.displayName=Iee;var Dee="TabsTrigger",Lee=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=V_(Dee,n),a=_ee(n),l=Vee(o.baseId,r),c=zee(o.baseId,r),d=r===o.value;return u.jsx(hW,{asChild:!0,...a,focusable:!i,active:d,children:u.jsx(Xe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Ee(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Ee(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Ee(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(r)})})})});Lee.displayName=Dee;var Fee="TabsContent",Bee=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=V_(Fee,n),l=Vee(a.baseId,r),c=zee(a.baseId,r),d=r===a.value,h=C.useRef(d);return C.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),u.jsx(Di,{present:i||d,children:({present:m})=>u.jsx(Xe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&s})})});Bee.displayName=Fee;function Vee(t,e){return`${t}-trigger-${e}`}function zee(t,e){return`${t}-content-${e}`}var cke=Mee,Uee=Ree,qee=Lee,Hee=Bee;const uke=cke,Wee=C.forwardRef(({className:t,...e},n)=>u.jsx(Uee,{ref:n,className:se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Wee.displayName=Uee.displayName;const yk=C.forwardRef(({className:t,...e},n)=>u.jsx(qee,{ref:n,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));yk.displayName=qee.displayName;const vk=C.forwardRef(({className:t,...e},n)=>u.jsx(Hee,{ref:n,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));vk.displayName=Hee.displayName;var z_="Checkbox",[dke]=Hr(z_),[fke,hke]=dke(z_),Kee=C.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:d,...h}=t,[m,g]=C.useState(null),y=Ot(e,j=>g(j)),b=C.useRef(!1),x=m?d||!!m.closest("form"):!0,[S=!1,N]=fo({prop:i,defaultProp:s,onChange:c}),T=C.useRef(S);return C.useEffect(()=>{const j=m?.form;if(j){const P=()=>N(T.current);return j.addEventListener("reset",P),()=>j.removeEventListener("reset",P)}},[m,N]),u.jsxs(fke,{scope:n,state:S,disabled:a,children:[u.jsx(Xe.button,{type:"button",role:"checkbox","aria-checked":Zl(S)?"mixed":S,"aria-required":o,"data-state":Yee(S),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:y,onKeyDown:Ee(t.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Ee(t.onClick,j=>{N(P=>Zl(P)?!0:!P),x&&(b.current=j.isPropagationStopped(),b.current||j.stopPropagation())})}),x&&u.jsx(pke,{control:m,bubbles:!b.current,name:r,value:l,checked:S,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Zl(s)?!1:s})]})});Kee.displayName=z_;var Gee="CheckboxIndicator",Qee=C.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=hke(Gee,n);return u.jsx(Di,{present:r||Zl(s.state)||s.state===!0,children:u.jsx(Xe.span,{"data-state":Yee(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Qee.displayName=Gee;var pke=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...s}=t,o=C.useRef(null),a=K$(n),l=$O(e);C.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(a!==n&&g){const y=new Event("click",{bubbles:r});d.indeterminate=Zl(n),g.call(d,Zl(n)?!1:n),d.dispatchEvent(y)}},[a,n,r]);const c=C.useRef(Zl(n)?!1:n);return u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...s,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Zl(t){return t==="indeterminate"}function Yee(t){return Zl(t)?"indeterminate":t?"checked":"unchecked"}var Xee=Kee,mke=Qee;const _1=C.forwardRef(({className:t,...e},n)=>u.jsx(Xee,{ref:n,className:se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:u.jsx(mke,{className:se("flex items-center justify-center text-current"),children:u.jsx(ho,{className:"h-4 w-4"})})}));_1.displayName=Xee.displayName;function xk(t,e){const n=t?.type==="open"?"open":"mcq",r=n==="mcq"?Array.isArray(t?.options)?t.options.map(String):[]:null;return{name:t?.name?String(t.name):"",content:t?.content?String(t.content):"",type:n,options:r,correctAnswer:String(t?.correctAnswer??t?.answer??t?.correct_answer??""),explanation:t?.explanation?String(t.explanation):"",testType:t?.testType?String(t.testType):e.defaultTestType||"",testArea:t?.testArea?String(t.testArea):e.defaultTestArea||"",category:t?.category?String(t.category):"",subCategory:t?.subCategory?String(t.subCategory):t?.sub_category?String(t.sub_category):"",specificSkill:t?.specificSkill?String(t.specificSkill):t?.specific_skill?String(t.specific_skill):"",difficulty:t?.difficulty?String(t.difficulty):e.defaultDifficulty||"3",source:e.source}}function Q6(t){const{questions:e,setQuestions:n,modeLabel:r,itemLabel:i,source:s,defaultTestType:o,defaultTestArea:a,defaultDifficulty:l,categories:c,allSubCategories:d,createQuestion:h,isCreatePending:m,onAfterImport:g,onImportingChange:y}=t,{toast:b}=Gn(),[x,S]=C.useState(new Set),[N,T]=C.useState(null),[j,P]=C.useState(null),[E,O]=C.useState(!1);C.useEffect(()=>{y?.(E)},[E,y]),C.useEffect(()=>{S(new Set(e.map((V,U)=>U))),T(null),P(null)},[]);const _=C.useMemo(()=>({defaultTestType:o,defaultTestArea:a,defaultDifficulty:l,source:s}),[o,a,l,s]),$=V=>{const U=e[V];T(V),P(xk(U,_))},B=()=>{N===null||!j||n(V=>{if(!V)return V;const U=[...V];return U[N]={...U[N],...j},U})},I=async()=>{if(x.size!==0){O(!0);try{let V=0;const U=Array.from(x).sort((L,z)=>L-z);for(const L of U){const z=e[L]||{},F=String(z.category||""),q=String(z.subCategory||z.sub_category||""),M=c.find(W=>W.name.toLowerCase()===F.toLowerCase()),D=M?d.find(W=>W.categoryId===M.id&&W.name.toLowerCase()===q.toLowerCase()):void 0,Q={name:z.name?String(z.name):void 0,content:String(z.content||""),type:z.type==="open"?"open":"mcq",options:z.type!=="open"&&z.options&&Array.isArray(z.options)?z.options:z.type==="open"?null:[],correctAnswer:String(z.correctAnswer??z.answer??z.correct_answer??""),explanation:z.explanation?String(z.explanation):"",testType:z.testType?String(z.testType):o||void 0,testArea:z.testArea?String(z.testArea):a||void 0,category:M?.name||F||void 0,categoryId:M?.id??null,subCategory:D?.name||q||void 0,subCategoryId:D?.id??null,specificSkill:z.specificSkill?String(z.specificSkill):z.specific_skill?String(z.specific_skill):void 0,difficulty:z.difficulty?String(z.difficulty):"3",source:s};!Q.content||Q.content.trim().length===0||(await h(Q),V++)}b({title:"Imported",description:`Created ${V} questions.`}),g()}catch{b({title:"Import failed",description:"Could not create one or more questions.",variant:"destructive"})}finally{O(!1)}}};return u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:u.jsxs("div",{className:"text-sm font-semibold",children:[r," ",e.length," questions"]})}),u.jsx("div",{className:"border rounded-xl overflow-hidden",children:u.jsx("div",{className:"max-h-[45vh] overflow-y-auto divide-y",children:e.map((V,U)=>{const L=x.has(U),z=V?.name||`Question ${U+1}`,F=String(V?.content||"").replace(/<[^>]*>/g,"").trim();return u.jsxs("div",{children:[u.jsxs("div",{className:se("flex flex-col sm:flex-row sm:items-start gap-3 p-3 hover:bg-muted/30",N===U&&"bg-primary/5"),children:[u.jsx(_1,{checked:L,onCheckedChange:q=>{S(M=>{const D=new Set(M);return q?D.add(U):D.delete(U),D})}}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-sm font-semibold truncate",children:z}),u.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:F||"(no content)"})]}),u.jsx("div",{className:"flex items-center gap-2 w-full sm:w-auto sm:justify-end",children:u.jsx(ce,{type:"button",size:"sm",variant:"outline",className:"w-full sm:w-auto",onClick:()=>$(U),children:"Preview"})})]}),N===U&&j&&u.jsx("div",{className:"px-3 pb-3",children:u.jsx(Ye,{className:"border-2 border-primary/10 overflow-x-hidden",children:u.jsxs(Je,{className:"p-4 space-y-4 overflow-x-hidden",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Name"}),u.jsx(ut,{value:j.name,onChange:q=>P(M=>M&&{...M,name:q.target.value}),className:"h-9 text-xs",placeholder:"e.g. 2024 NSW OC - Q15"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Test Type"}),u.jsx(ut,{value:j.testType||"",onChange:q=>P(M=>M&&{...M,testType:q.target.value}),className:"h-9 text-xs",placeholder:"e.g. NSW OC"})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Test Area"}),u.jsx(ut,{value:j.testArea||"",onChange:q=>P(M=>M&&{...M,testArea:q.target.value}),className:"h-9 text-xs",placeholder:"e.g. Maths"})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Category"}),u.jsx(ut,{value:j.category||"",onChange:q=>P(M=>M&&{...M,category:q.target.value}),className:"h-9 text-xs"})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Sub-Category"}),u.jsx(ut,{value:j.subCategory||"",onChange:q=>P(M=>M&&{...M,subCategory:q.target.value}),className:"h-9 text-xs"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Difficulty"}),u.jsxs(nn,{value:String(j.difficulty||"3"),onValueChange:q=>P(M=>M&&{...M,difficulty:q}),children:[u.jsx(Jt,{className:"h-9 text-xs",children:u.jsx(rn,{})}),u.jsxs(en,{children:[u.jsx(He,{value:"1",children:"1 - Very Easy"}),u.jsx(He,{value:"2",children:"2 - Easy"}),u.jsx(He,{value:"3",children:"3 - Medium"}),u.jsx(He,{value:"4",children:"4 - Hard"}),u.jsx(He,{value:"5",children:"5 - Expert"})]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Specific Skill"}),u.jsx(ut,{value:j.specificSkill||"",onChange:q=>P(M=>M&&{...M,specificSkill:q.target.value}),className:"h-9 text-xs",placeholder:"Optional"})]})]})]}),u.jsxs("div",{className:"space-y-2 max-w-full overflow-hidden",children:[u.jsx(Me,{className:"text-xs",children:"Question Content"}),u.jsx("div",{className:"w-full overflow-x-hidden",children:u.jsx($1,{content:j.content||"",onChange:q=>P(M=>M&&{...M,content:q}),placeholder:"Question text..."})})]}),j.type!=="open"&&u.jsxs("div",{className:"space-y-3 p-3 rounded-xl border bg-muted/10",children:[u.jsx(Me,{className:"text-xs font-bold",children:"Options"}),u.jsx("div",{className:"space-y-2",children:(Array.isArray(j.options)?j.options:[]).concat(Array.isArray(j.options)&&j.options.length===0?["","","",""]:[]).map((q,M)=>u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("div",{className:"flex items-center justify-center w-8 h-9 rounded-lg bg-muted text-xs font-bold shrink-0",children:String.fromCharCode(65+M)}),u.jsx(ut,{value:q,onChange:D=>{const Q=Array.isArray(j.options)?[...j.options]:[];for(;Q.length<=M;)Q.push("");Q[M]=D.target.value,P(W=>W&&{...W,options:Q})},className:"h-9 text-xs",placeholder:`Option ${String.fromCharCode(65+M)}`})]},M))}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Correct Answer"}),u.jsx(ut,{value:j.correctAnswer||"",onChange:q=>P(M=>M&&{...M,correctAnswer:q.target.value}),className:"h-9 text-xs",placeholder:"A, B, C, D..."})]})]}),u.jsxs("div",{className:"space-y-2 max-w-full overflow-hidden",children:[u.jsx(Me,{className:"text-xs",children:"Explanation"}),u.jsx("div",{className:"w-full overflow-x-hidden",children:u.jsx($1,{content:j.explanation||"",onChange:q=>P(M=>M&&{...M,explanation:q}),placeholder:"Step-by-step explanation..."})})]}),u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx(ce,{type:"button",disabled:m||!j.content||E,onClick:async()=>{B(),b({title:"Saved",description:"Changes applied. You can import when ready."}),T(null),P(null)},children:"Save"}),u.jsx(ce,{type:"button",variant:"ghost",onClick:()=>{T(null),P(null)},children:"Cancel"})]})]})})})]},U)})})}),u.jsx("div",{className:"flex items-center justify-end gap-2",children:u.jsx(ce,{type:"button",disabled:x.size===0||E||m,onClick:I,children:E?u.jsxs(u.Fragment,{children:[u.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):`Import Selected (${x.size})`})})]})}var gke=Object.defineProperty,M1=Object.getOwnPropertySymbols,Zee=Object.prototype.hasOwnProperty,Jee=Object.prototype.propertyIsEnumerable,Y6=(t,e,n)=>e in t?gke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bk=(t,e)=>{for(var n in e||(e={}))Zee.call(e,n)&&Y6(t,n,e[n]);if(M1)for(var n of M1(e))Jee.call(e,n)&&Y6(t,n,e[n]);return t},wk=(t,e)=>{var n={};for(var r in t)Zee.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&M1)for(var r of M1(t))e.indexOf(r)<0&&Jee.call(t,r)&&(n[r]=t[r]);return n};var Bu;(t=>{const e=class Et{constructor(l,c,d,h){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<Et.MIN_VERSION||l>Et.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let m=[];for(let y=0;y<this.size;y++)m.push(!1);for(let y=0;y<this.size;y++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(d);if(this.drawCodewords(g),h==-1){let y=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const x=this.getPenaltyScore();x<y&&(h=b,y=x),this.applyMask(b)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(l,c){const d=t.QrSegment.makeSegments(l);return Et.encodeSegments(d,c)}static encodeBinary(l,c){const d=t.QrSegment.makeBytes(l);return Et.encodeSegments([d],c)}static encodeSegments(l,c,d=1,h=40,m=-1,g=!0){if(!(Et.MIN_VERSION<=d&&d<=h&&h<=Et.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let y,b;for(y=d;;y++){const T=Et.getNumDataCodewords(y,c)*8,j=o.getTotalBits(l,y);if(j<=T){b=j;break}if(y>=h)throw new RangeError("Data too long")}for(const T of[Et.Ecc.MEDIUM,Et.Ecc.QUARTILE,Et.Ecc.HIGH])g&&b<=Et.getNumDataCodewords(y,T)*8&&(c=T);let x=[];for(const T of l){n(T.mode.modeBits,4,x),n(T.numChars,T.mode.numCharCountBits(y),x);for(const j of T.getData())x.push(j)}i(x.length==b);const S=Et.getNumDataCodewords(y,c)*8;i(x.length<=S),n(0,Math.min(4,S-x.length),x),n(0,(8-x.length%8)%8,x),i(x.length%8==0);for(let T=236;x.length<S;T^=253)n(T,8,x);let N=[];for(;N.length*8<x.length;)N.push(0);return x.forEach((T,j)=>N[j>>>3]|=T<<7-(j&7)),new Et(y,c,N,m)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let d=0;d<c;d++)for(let h=0;h<c;h++)d==0&&h==0||d==0&&h==c-1||d==c-1&&h==0||this.drawAlignmentPattern(l[d],l[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let d=c;for(let m=0;m<10;m++)d=d<<1^(d>>>9)*1335;const h=(c<<10|d)^21522;i(h>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,r(h,m));this.setFunctionModule(8,7,r(h,6)),this.setFunctionModule(8,8,r(h,7)),this.setFunctionModule(7,8,r(h,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,r(h,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,r(h,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,r(h,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;i(c>>>18==0);for(let d=0;d<18;d++){const h=r(c,d),m=this.size-11+d%3,g=Math.floor(d/3);this.setFunctionModule(m,g,h),this.setFunctionModule(g,m,h)}}drawFinderPattern(l,c){for(let d=-4;d<=4;d++)for(let h=-4;h<=4;h++){const m=Math.max(Math.abs(h),Math.abs(d)),g=l+h,y=c+d;0<=g&&g<this.size&&0<=y&&y<this.size&&this.setFunctionModule(g,y,m!=2&&m!=4)}}drawAlignmentPattern(l,c){for(let d=-2;d<=2;d++)for(let h=-2;h<=2;h++)this.setFunctionModule(l+h,c+d,Math.max(Math.abs(h),Math.abs(d))!=1)}setFunctionModule(l,c,d){this.modules[c][l]=d,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,d=this.errorCorrectionLevel;if(l.length!=Et.getNumDataCodewords(c,d))throw new RangeError("Invalid argument");const h=Et.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c],m=Et.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c],g=Math.floor(Et.getNumRawDataModules(c)/8),y=h-g%h,b=Math.floor(g/h);let x=[];const S=Et.reedSolomonComputeDivisor(m);for(let T=0,j=0;T<h;T++){let P=l.slice(j,j+b-m+(T<y?0:1));j+=P.length;const E=Et.reedSolomonComputeRemainder(P,S);T<y&&P.push(0),x.push(P.concat(E))}let N=[];for(let T=0;T<x[0].length;T++)x.forEach((j,P)=>{(T!=b-m||P>=y)&&N.push(j[T])});return i(N.length==g),N}drawCodewords(l){if(l.length!=Math.floor(Et.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let h=0;h<this.size;h++)for(let m=0;m<2;m++){const g=d-m,b=(d+1&2)==0?this.size-1-h:h;!this.isFunction[b][g]&&c<l.length*8&&(this.modules[b][g]=r(l[c>>>3],7-(c&7)),c++)}}i(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let d=0;d<this.size;d++){let h;switch(l){case 0:h=(d+c)%2==0;break;case 1:h=c%2==0;break;case 2:h=d%3==0;break;case 3:h=(d+c)%3==0;break;case 4:h=(Math.floor(d/3)+Math.floor(c/2))%2==0;break;case 5:h=d*c%2+d*c%3==0;break;case 6:h=(d*c%2+d*c%3)%2==0;break;case 7:h=((d+c)%2+d*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][d]&&h&&(this.modules[c][d]=!this.modules[c][d])}}getPenaltyScore(){let l=0;for(let m=0;m<this.size;m++){let g=!1,y=0,b=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[m][x]==g?(y++,y==5?l+=Et.PENALTY_N1:y>5&&l++):(this.finderPenaltyAddHistory(y,b),g||(l+=this.finderPenaltyCountPatterns(b)*Et.PENALTY_N3),g=this.modules[m][x],y=1);l+=this.finderPenaltyTerminateAndCount(g,y,b)*Et.PENALTY_N3}for(let m=0;m<this.size;m++){let g=!1,y=0,b=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[x][m]==g?(y++,y==5?l+=Et.PENALTY_N1:y>5&&l++):(this.finderPenaltyAddHistory(y,b),g||(l+=this.finderPenaltyCountPatterns(b)*Et.PENALTY_N3),g=this.modules[x][m],y=1);l+=this.finderPenaltyTerminateAndCount(g,y,b)*Et.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let g=0;g<this.size-1;g++){const y=this.modules[m][g];y==this.modules[m][g+1]&&y==this.modules[m+1][g]&&y==this.modules[m+1][g+1]&&(l+=Et.PENALTY_N2)}let c=0;for(const m of this.modules)c=m.reduce((g,y)=>g+(y?1:0),c);const d=this.size*this.size,h=Math.ceil(Math.abs(c*20-d*10)/d)-1;return i(0<=h&&h<=9),l+=h*Et.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let h=this.size-7;d.length<l;h-=c)d.splice(1,0,h);return d}}static getNumRawDataModules(l){if(l<Et.MIN_VERSION||l>Et.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;c-=(25*d-10)*d-55,l>=7&&(c-=36)}return i(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(Et.getNumRawDataModules(l)/8)-Et.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*Et.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let h=0;h<l-1;h++)c.push(0);c.push(1);let d=1;for(let h=0;h<l;h++){for(let m=0;m<c.length;m++)c[m]=Et.reedSolomonMultiply(c[m],d),m+1<c.length&&(c[m]^=c[m+1]);d=Et.reedSolomonMultiply(d,2)}return c}static reedSolomonComputeRemainder(l,c){let d=c.map(h=>0);for(const h of l){const m=h^d.shift();d.push(0),c.forEach((g,y)=>d[y]^=Et.reedSolomonMultiply(g,m))}return d}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let d=0;for(let h=7;h>=0;h--)d=d<<1^(d>>>7)*285,d^=(c>>>h&1)*l;return i(d>>>8==0),d}finderPenaltyCountPatterns(l){const c=l[1];i(c<=this.size*3);const d=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(d&&l[0]>=c*4&&l[6]>=c?1:0)+(d&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,d){return l&&(this.finderPenaltyAddHistory(c,d),c=0),c+=this.size,this.finderPenaltyAddHistory(c,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(a,l,c){if(l<0||l>31||a>>>l)throw new RangeError("Value out of range");for(let d=l-1;d>=0;d--)c.push(a>>>d&1)}function r(a,l){return(a>>>l&1)!=0}function i(a){if(!a)throw new Error("Assertion error")}const s=class In{constructor(l,c,d){if(this.mode=l,this.numChars=c,this.bitData=d,c<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let c=[];for(const d of l)n(d,8,c);return new In(In.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!In.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let d=0;d<l.length;){const h=Math.min(l.length-d,3);n(parseInt(l.substring(d,d+h),10),h*3+1,c),d+=h}return new In(In.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!In.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],d;for(d=0;d+2<=l.length;d+=2){let h=In.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;h+=In.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),n(h,11,c)}return d<l.length&&n(In.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,c),new In(In.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:In.isNumeric(l)?[In.makeNumeric(l)]:In.isAlphanumeric(l)?[In.makeAlphanumeric(l)]:[In.makeBytes(In.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,c);else if(l<16384)n(2,2,c),n(l,14,c);else if(l<1e6)n(6,3,c),n(l,21,c);else throw new RangeError("ECI assignment value out of range");return new In(In.Mode.ECI,0,c)}static isNumeric(l){return In.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return In.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let d=0;for(const h of l){const m=h.mode.numCharCountBits(c);if(h.numChars>=1<<m)return 1/0;d+=4+m+h.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?c.push(l.charCodeAt(d)):(c.push(parseInt(l.substring(d+1,d+3),16)),d+=2);return c}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=s;t.QrSegment=s})(Bu||(Bu={}));(t=>{(e=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Bu||(Bu={}));(t=>{(e=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Bu||(Bu={}));var tf=Bu;var yke={L:tf.QrCode.Ecc.LOW,M:tf.QrCode.Ecc.MEDIUM,Q:tf.QrCode.Ecc.QUARTILE,H:tf.QrCode.Ecc.HIGH},ete=128,tte="L",nte="#FFFFFF",rte="#000000",ite=!1,ste=1,vke=4,xke=0,bke=.1;function ote(t,e=0){const n=[];return t.forEach(function(r,i){let s=null;r.forEach(function(o,a){if(!o&&s!==null){n.push(`M${s+e} ${i+e}h${a-s}v1H${s+e}z`),s=null;return}if(a===r.length-1){if(!o)return;s===null?n.push(`M${a+e},${i+e} h1v1H${a+e}z`):n.push(`M${s+e},${i+e} h${a+1-s}v1H${s+e}z`);return}o&&s===null&&(s=a)})}),n.join("")}function ate(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function wke(t,e,n,r){if(r==null)return null;const i=t.length+n*2,s=Math.floor(e*bke),o=i/e,a=(r.width||s)*o,l=(r.height||s)*o,c=r.x==null?t.length/2-a/2:r.x*o,d=r.y==null?t.length/2-l/2:r.y*o,h=r.opacity==null?1:r.opacity;let m=null;if(r.excavate){let y=Math.floor(c),b=Math.floor(d),x=Math.ceil(a+c-y),S=Math.ceil(l+d-b);m={x:y,y:b,w:x,h:S}}const g=r.crossOrigin;return{x:c,y:d,h:l,w:a,excavation:m,opacity:h,crossOrigin:g}}function Ske(t,e){return e!=null?Math.max(Math.floor(e),0):t?vke:xke}function lte({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:s,size:o,boostLevel:a}){let l=H.useMemo(()=>{const y=(Array.isArray(t)?t:[t]).reduce((b,x)=>(b.push(...tf.QrSegment.makeSegments(x)),b),[]);return tf.QrCode.encodeSegments(y,yke[e],n,void 0,void 0,a)},[t,e,n,a]);const{cells:c,margin:d,numCells:h,calculatedImageSettings:m}=H.useMemo(()=>{let g=l.getModules();const y=Ske(r,i),b=g.length+y*2,x=wke(g,o,y,s);return{cells:g,margin:y,numCells:b,calculatedImageSettings:x}},[l,o,s,r,i]);return{qrcode:l,margin:d,cells:c,numCells:h,calculatedImageSettings:m}}var Cke=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),Nke=H.forwardRef(function(e,n){const r=e,{value:i,size:s=ete,level:o=tte,bgColor:a=nte,fgColor:l=rte,includeMargin:c=ite,minVersion:d=ste,boostLevel:h,marginSize:m,imageSettings:g}=r,b=wk(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:x}=b,S=wk(b,["style"]),N=g?.src,T=H.useRef(null),j=H.useRef(null),P=H.useCallback(L=>{T.current=L,typeof n=="function"?n(L):n&&(n.current=L)},[n]),[E,O]=H.useState(!1),{margin:_,cells:$,numCells:B,calculatedImageSettings:I}=lte({value:i,level:o,minVersion:d,boostLevel:h,includeMargin:c,marginSize:m,imageSettings:g,size:s});H.useEffect(()=>{if(T.current!=null){const L=T.current,z=L.getContext("2d");if(!z)return;let F=$;const q=j.current,M=I!=null&&q!==null&&q.complete&&q.naturalHeight!==0&&q.naturalWidth!==0;M&&I.excavation!=null&&(F=ate($,I.excavation));const D=window.devicePixelRatio||1;L.height=L.width=s*D;const Q=s/B*D;z.scale(Q,Q),z.fillStyle=a,z.fillRect(0,0,B,B),z.fillStyle=l,Cke?z.fill(new Path2D(ote(F,_))):$.forEach(function(W,Y){W.forEach(function(le,pe){le&&z.fillRect(pe+_,Y+_,1,1)})}),I&&(z.globalAlpha=I.opacity),M&&z.drawImage(q,I.x+_,I.y+_,I.w,I.h)}}),H.useEffect(()=>{O(!1)},[N]);const V=bk({height:s,width:s},x);let U=null;return N!=null&&(U=H.createElement("img",{src:N,key:N,style:{display:"none"},onLoad:()=>{O(!0)},ref:j,crossOrigin:I?.crossOrigin})),H.createElement(H.Fragment,null,H.createElement("canvas",bk({style:V,height:s,width:s,ref:P,role:"img"},S)),U)});Nke.displayName="QRCodeCanvas";var cte=H.forwardRef(function(e,n){const r=e,{value:i,size:s=ete,level:o=tte,bgColor:a=nte,fgColor:l=rte,includeMargin:c=ite,minVersion:d=ste,boostLevel:h,title:m,marginSize:g,imageSettings:y}=r,b=wk(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:x,cells:S,numCells:N,calculatedImageSettings:T}=lte({value:i,level:o,minVersion:d,boostLevel:h,includeMargin:c,marginSize:g,imageSettings:y,size:s});let j=S,P=null;y!=null&&T!=null&&(T.excavation!=null&&(j=ate(S,T.excavation)),P=H.createElement("image",{href:y.src,height:T.h,width:T.w,x:T.x+x,y:T.y+x,preserveAspectRatio:"none",opacity:T.opacity,crossOrigin:T.crossOrigin}));const E=ote(j,x);return H.createElement("svg",bk({height:s,width:s,viewBox:`0 0 ${N} ${N}`,ref:n,role:"img"},b),!!m&&H.createElement("title",null,m),H.createElement("path",{fill:a,d:`M0,0 h${N}v${N}H0z`,shapeRendering:"crispEdges"}),H.createElement("path",{fill:l,d:E,shapeRendering:"crispEdges"}),P)});cte.displayName="QRCodeSVG";const Ci=C.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Ci.displayName="Textarea";function Pke(){const{data:t,isLoading:e}=ow(),[n,r]=C.useState(!1),[i,s]=C.useState(null);return vo(),Gn(),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold",children:"Tests & Quizzes"}),u.jsx("p",{className:"text-sm md:text-base text-muted-foreground mt-1",children:"Create and assign assessments"})]}),u.jsxs(zr,{open:n,onOpenChange:r,children:[u.jsx(Aa,{asChild:!0,children:u.jsxs("button",{className:"flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl font-semibold bg-primary text-primary-foreground shadow-lg shadow-primary/25 hover:shadow-xl hover:-translate-y-0.5 transition-all w-full md:w-auto whitespace-nowrap",children:[u.jsx(Ia,{className:"w-4 h-4"}),"Create Test"]})}),u.jsxs(Cr,{className:"sm:max-w-2xl w-[95vw] max-h-[90vh] overflow-hidden p-0 flex flex-col",children:[u.jsx(Nr,{className:"px-4 md:px-6 pt-4 md:pt-6",children:u.jsx(Pr,{children:"New Test"})}),u.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto px-4 md:px-6 pb-4 md:pb-6",children:u.jsx(Sk,{onSuccess:()=>r(!1),onCancel:()=>r(!1)})})]})]})]}),e?u.jsx("div",{className:"grid place-items-center h-64",children:u.jsx(mt,{className:"w-8 h-8 animate-spin text-primary"})}):u.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t?.map(o=>u.jsxs("div",{className:"bg-card p-6 rounded-2xl border border-border shadow-sm hover:shadow-md transition-all",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center text-purple-600 font-bold",children:[o.questionIds.length,"Q"]}),u.jsxs("div",{className:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded-md flex items-center gap-1",children:[u.jsx(dx,{className:"w-3 h-3"}),new Date(o.createdAt).toLocaleDateString()]})]}),u.jsx("h3",{className:"text-xl font-bold mb-2 break-words",children:o.title}),u.jsx("p",{className:"text-muted-foreground text-sm mb-6 line-clamp-2 break-words",children:o.description||"No description provided."}),u.jsx("div",{className:"pt-4 border-t border-border mt-auto",children:u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsxs(zr,{open:i===o.id,onOpenChange:a=>s(a?o.id:null),children:[u.jsx(Aa,{asChild:!0,children:u.jsx("button",{className:"flex-1 py-2 rounded-lg border border-border font-bold hover:bg-muted transition-colors text-sm h-9",children:"Edit Details"})}),u.jsxs(Cr,{className:"sm:max-w-2xl w-[95vw] max-h-[90vh] overflow-hidden p-0 flex flex-col",children:[u.jsx(Nr,{className:"px-4 md:px-6 pt-4 md:pt-6",children:u.jsxs(Pr,{children:["Edit Test: ",o.title]})}),u.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto px-4 md:px-6 pb-4 md:pb-6",children:u.jsx(Sk,{initialData:o,onSuccess:()=>{s(null),ba.invalidateQueries({queryKey:["/api/tests"]})},onCancel:()=>s(null)})})]})]}),u.jsx("div",{className:"h-4 w-[1px] bg-border mx-1"}),u.jsx("div",{className:"flex items-center gap-2",children:o.isPublic&&u.jsxs(zr,{children:[u.jsx(Aa,{asChild:!0,children:u.jsx("button",{className:"p-2 rounded-lg border border-border hover:bg-muted transition-colors h-9 w-9 flex items-center justify-center",title:"QR Code",children:u.jsx(Hq,{className:"w-4 h-4 text-primary"})})}),u.jsxs(Cr,{className:"sm:max-w-md",children:[u.jsx(Nr,{children:u.jsxs(Pr,{children:["Share Test: ",o.title]})}),u.jsxs("div",{className:"flex flex-col items-center justify-center p-6 space-y-4",children:[u.jsx("div",{className:"bg-white p-4 rounded-lg",children:u.jsx(cte,{value:`${window.location.origin}/public/test/${o.publicId}`,size:200})}),o.passcode&&u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Passcode"}),u.jsx("p",{className:"text-2xl font-mono font-bold tracking-widest",children:o.passcode})]}),u.jsx(ce,{variant:"outline",className:"w-full",onClick:()=>navigator.clipboard.writeText(`${window.location.origin}/public/test/${o.publicId}`),children:"Copy Link"})]})]})]})})]})})]},o.id))})]})}function Sk({onSuccess:t,onCancel:e,initialData:n,initialQuestionIds:r}){const{toast:i}=Gn(),s=Hme(),{data:o}=zO(),{data:a}=Ka(),l=()=>Math.floor(1e5+Math.random()*9e5).toString(),[c,d]=C.useState({title:n?.title||"",description:n?.description||"",questionIds:n?.questionIds||r||[],duration:n?.duration||(n?"":"30"),isPublic:n?.isPublic!==void 0?n.isPublic:!0,passcode:n?.passcode||(n?"":l()),assignedStudentIds:n?.assignedStudentIds||[],expiresAt:n?.expiresAt?new Date(n.expiresAt).toISOString().split("T")[0]:""});C.useEffect(()=>{!n&&a&&a.length>0&&c.assignedStudentIds.length===0&&d(x=>({...x,assignedStudentIds:a.map(S=>S.id)}))},[a,n]);const h=x=>{if(!x)return"";const S=document.createElement("DIV");return S.innerHTML=x,(S.textContent||S.innerText||"").replace(/\s+/g," ").trim()},m=async x=>{if(x.preventDefault(),c.questionIds.length===0){i({variant:"destructive",title:"Validation Error",description:"Select at least one question."});return}try{n?(await $t("PATCH",`/api/tests/${n.id}`,{...c,duration:c.duration?parseInt(c.duration.toString()):null,expiresAt:c.expiresAt?new Date(c.expiresAt):null}),i({title:"Test Updated"})):(await s.mutateAsync({...c,duration:c.duration?parseInt(c.duration.toString()):null,expiresAt:c.expiresAt?new Date(c.expiresAt):null,parentId:"current-user"}),i({title:"Test Created",description:"Ready to be assigned."})),t()}catch{i({variant:"destructive",title:"Error",description:`Failed to ${n?"update":"create"} test.`})}},g=x=>{d(S=>({...S,questionIds:S.questionIds.includes(x)?S.questionIds.filter(N=>N!==x):[...S.questionIds,x]}))},y=()=>{if(!o)return;const x=o.map(N=>N.id),S=x.every(N=>c.questionIds.includes(N));d(N=>({...N,questionIds:S?[]:x}))},b=x=>{d(S=>{const N=S.assignedStudentIds.includes(x);return{...S,assignedStudentIds:N?S.assignedStudentIds.filter(T=>T!==x):[...S.assignedStudentIds,x]}})};return u.jsxs("form",{onSubmit:m,className:"space-y-4 pt-2 px-1 max-w-full overflow-x-hidden",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-4 w-full",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(Me,{className:"text-sm",children:"Test Title"}),u.jsx(ut,{placeholder:"e.g., Weekly Math Quiz",value:c.title,onChange:x=>d(S=>({...S,title:x.target.value})),required:!0,className:"w-full h-9"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx(Me,{className:"text-sm",children:"Description"}),u.jsx(Ci,{placeholder:"Detailed description for the test...",value:c.description,onChange:x=>d(S=>({...S,description:x.target.value})),className:"w-full resize-none min-h-[60px]",rows:2})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 w-full",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{className:"text-sm",children:"Assign to Students (Optional)"}),u.jsxs(ig,{children:[u.jsx(sg,{asChild:!0,children:u.jsxs(ce,{variant:"outline",role:"combobox",className:"w-full justify-between h-9 text-xs font-normal bg-muted/10",children:[c.assignedStudentIds.length>0?`${c.assignedStudentIds.length} student(s) selected`:"Select students...",u.jsx(Ma,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),u.jsx(Mf,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:u.jsxs("div",{className:"p-2 space-y-1",children:[a?.map(x=>u.jsxs("div",{onClick:()=>b(x.id),className:"flex items-center gap-2 px-2 py-1.5 rounded-sm hover:bg-accent cursor-pointer transition-colors",children:[u.jsx("div",{className:`flex h-4 w-4 items-center justify-center rounded-sm border border-primary ${c.assignedStudentIds.includes(x.id)?"bg-primary text-primary-foreground":"opacity-50"}`,children:c.assignedStudentIds.includes(x.id)&&u.jsx(ho,{className:"h-3 w-3"})}),u.jsx("span",{className:"text-xs font-medium",children:x.firstName})]},x.id)),(!a||a.length===0)&&u.jsx("p",{className:"text-[11px] text-muted-foreground italic p-2",children:"No students found."})]})})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx(Me,{className:"text-sm",children:"Duration (Minutes)"}),u.jsx(ut,{type:"number",placeholder:"e.g., 45",value:c.duration,onChange:x=>d(S=>({...S,duration:x.target.value})),className:"w-full h-9"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx(Me,{className:"text-sm",children:"Expiry Date (Optional)"}),u.jsx(ut,{type:"date",value:c.expiresAt,onChange:x=>d(S=>({...S,expiresAt:x.target.value})),className:"w-full h-9"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 p-3 bg-muted/30 rounded-xl border border-border/50 w-full overflow-hidden",children:[u.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[u.jsx(_1,{id:"isPublic",checked:c.isPublic,onCheckedChange:x=>d(S=>({...S,isPublic:!!x}))}),u.jsx(Me,{htmlFor:"isPublic",className:"cursor-pointer whitespace-nowrap text-sm font-medium",children:"Public Test (QR Login)"})]}),c.isPublic&&u.jsxs("div",{className:"w-full sm:flex-1 min-w-0 flex items-center gap-3",children:[u.jsx(Me,{className:"text-xs whitespace-nowrap",children:"Passcode:"}),u.jsx(ut,{placeholder:"6-digit code",maxLength:6,value:c.passcode,onChange:x=>d(S=>({...S,passcode:x.target.value})),className:"w-full h-8 font-mono text-center tracking-widest text-xs"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(Me,{className:"text-sm",children:["Select Questions (",c.questionIds.length," selected)"]}),o&&o.length>0&&u.jsx("button",{type:"button",onClick:y,className:"text-[10px] font-semibold text-primary hover:underline",children:o.length===c.questionIds.length?"Deselect All":"Select All"})]}),u.jsxs("div",{className:"border border-border rounded-xl p-3 max-h-56 overflow-y-auto space-y-2 bg-muted/20 w-full overflow-x-hidden",children:[o?.map(x=>u.jsxs("div",{className:"flex items-start gap-2.5 p-2 bg-card rounded-lg border border-border shadow-sm min-w-0 w-full overflow-hidden",children:[u.jsx(_1,{checked:c.questionIds.includes(x.id),onCheckedChange:()=>g(x.id),className:"mt-1 shrink-0 h-4 w-4"}),u.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[u.jsx("p",{className:"text-xs font-medium line-clamp-2 break-words overflow-hidden text-ellipsis leading-tight",children:x.content?h(x.content):x.name||"Question"}),u.jsxs("div",{className:"flex gap-1.5 mt-1.5 flex-wrap",children:[u.jsx("span",{className:"text-[9px] font-bold bg-primary/10 text-primary px-1.5 py-0 rounded uppercase whitespace-nowrap",children:x.subject}),u.jsx("span",{className:"text-[9px] font-bold bg-secondary/10 text-secondary-foreground px-1.5 py-0 rounded uppercase whitespace-nowrap",children:x.type})]})]})]},x.id)),(!o||o.length===0)&&u.jsx("p",{className:"text-center text-xs text-muted-foreground py-2",children:"No questions available."})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:e||t,className:"px-4 py-2 text-sm font-medium text-muted-foreground hover:bg-muted rounded-lg transition-colors",children:"Cancel"}),u.jsxs("button",{type:"submit",disabled:s.isPending,className:"px-8 py-2.5 rounded-xl font-bold bg-primary text-primary-foreground shadow-lg shadow-primary/25 hover:shadow-xl hover:-translate-y-0.5 transition-all disabled:opacity-50 flex items-center gap-2",children:[s.isPending?u.jsx(mt,{className:"w-4 h-4 animate-spin"}):u.jsx(Vr,{className:"w-4 h-4"}),"Save"]})]})]})}const X6="aceprep:parent:questions:selectedQuestionIds";function Tke(){const{data:r,isLoading:i}=zO(),{toast:s}=Gn(),[o,a]=C.useState(""),[l,c]=C.useState(!1),[d,h]=C.useState(void 0),{data:m,isLoading:g}=Bme(d),[y,b]=C.useState(""),[x,S]=C.useState(""),[N,T]=C.useState(""),[j,P]=C.useState(""),[E,O]=C.useState(""),[_,$]=C.useState(!1),[B,I]=C.useState(null),[V,U]=C.useState(!0),[L,z]=C.useState(new Set),[F,q]=C.useState(!1),[M,D]=C.useState(!1),[Q,W]=C.useState(!1),[Y,le]=C.useState(!1),[pe,he]=C.useState([]),[Ae,me]=C.useState(""),[Se,ue]=C.useState(""),[Pe,Oe]=C.useState(null),[oe,lt]=C.useState(!1),[ae,yt]=C.useState(!1),[ot,Ut]=C.useState(""),[qt,gr]=C.useState(""),[yr,Fn]=C.useState(""),[X,te]=C.useState(""),[ie,Ie]=C.useState("3"),[$e,Te]=C.useState(5),[Fe,wt]=C.useState(null),[Kt,an]=C.useState(!1),[Zy,So]=C.useState(!1),Is=zme(),Ja=iW(),el=sW(),{data:$n}=Sh(),{data:Rs=[]}=pt({queryKey:["/api/folders"]}),{data:Uh}=pt({queryKey:["/api/config"],staleTime:0}),us=Uh?.questionsFolderEnable??!1;C.useEffect(()=>{us||(I(null),U(!1))},[us]),C.useEffect(()=>{try{const K=sessionStorage.getItem(X6);if(!K)return;const ke=JSON.parse(K);if(!Array.isArray(ke))return;const Tt=ke.filter(wn=>typeof wn=="number");z(new Set(Tt))}catch{}},[]),C.useEffect(()=>{try{sessionStorage.setItem(X6,JSON.stringify(Array.from(L)))}catch{}},[L]),C.useEffect(()=>{r&&z(K=>{if(K.size===0)return K;const ke=new Set(r.map(ui=>ui.id));let Tt=!1;const wn=new Set;return K.forEach(ui=>{ke.has(ui)?wn.add(ui):Tt=!0}),Tt?wn:K})},[r]);const tl=dt({mutationFn:({folderId:K,questionId:ke})=>$t("POST",`/api/folders/${K}/assign`,{questionId:ke}),onSuccess:()=>{ba.invalidateQueries({queryKey:["/api/questions"]}),s({title:"Question moved to folder"})},onError:()=>{s({title:"Failed to move question",variant:"destructive"})}}),nl=dt({mutationFn:K=>$t("POST","/api/folders/unassign",{questionId:K}),onSuccess:()=>{ba.invalidateQueries({queryKey:["/api/questions"]}),s({title:"Question removed from folder"})},onError:()=>{s({title:"Failed to remove question from folder",variant:"destructive"})}}),{data:Or=[]}=pt({queryKey:["/api/test-types"]}),{data:rr=[]}=pt({queryKey:["/api/test-areas"]}),{data:Wr=[]}=pt({queryKey:["/api/categories"]}),{data:Ti=[]}=pt({queryKey:["/api/sub-categories"]}),Jy=C.useMemo(()=>pe.reduce((K,ke)=>K+(ke?.size||0),0),[pe]),qh=C.useMemo(()=>{if(!Ae)return rr;const K=Or.find(ke=>ke.name===Ae||ke.id.toString()===Ae);return rr.filter(ke=>ke.testTypeId===K?.id)},[Ae,rr,Or]),rl=C.useMemo(()=>Or.find(K=>K.name===ot||K.id.toString()===ot),[ot,Or]),Ec=C.useMemo(()=>ot?rr.filter(K=>K.testTypeId===rl?.id):rr,[ot,rr,rl]),kc=()=>{he([]),Oe(null),lt(!1)},il=()=>{wt(null),an(!1),So(!1)};C.useEffect(()=>{const K=$n?.interestedInTests||[];!Ae&&Array.isArray(K)&&K.length===1&&me(String(K[0]))},[$n,Ae]),C.useEffect(()=>{const K=$n?.interestedInTestAreas||[];!Se&&Array.isArray(K)&&K.length===1&&Ae&&ue(String(K[0]))},[$n,Se,Ae]),C.useEffect(()=>{const K=$n?.interestedInTests||[];!ot&&Array.isArray(K)&&K.length===1&&Ut(String(K[0]))},[$n,ot]),C.useEffect(()=>{const K=$n?.interestedInTestAreas||[];!qt&&Array.isArray(K)&&K.length===1&&ot&&gr(String(K[0]))},[$n,qt,ot]);const A2=C.useMemo(()=>{if(!qt)return Wr.filter(ke=>ke.isActive);const K=rr.find(ke=>(ke.name===qt||ke.id.toString()===qt)&&(!rl||ke.testTypeId===rl.id));return Wr.filter(ke=>ke.testAreaId===K?.id&&ke.isActive)},[qt,Wr,rr,rl]),Oc=C.useMemo(()=>yr?Ti.filter(K=>K.isActive&&K.categoryId===parseInt(yr)):Ti.filter(K=>K.isActive),[yr,Ti]),id=K=>{if(!K.length){he([]),Oe(null);return}const wn=K.slice(0,5),ui=wn.reduce((Ds,di)=>Ds+di.size,0);if(K.length>5&&s({title:"Too many files",description:"Please upload up to 5 files at a time.",variant:"destructive"}),ui>52428800){s({title:"Files too large",description:`Total upload size must be less than ${Math.floor(52428800/(1024*1024))}MB.`,variant:"destructive"}),he([]),Oe(null);return}if(wn.some(Ds=>Ds.size>10485760)){s({title:"File too large",description:`Each image must be less than ${Math.floor(10485760/(1024*1024))}MB.`,variant:"destructive"}),he([]),Oe(null);return}if(wn.some(Ds=>!Ds.type.startsWith("image/"))){s({title:"Unsupported file type",description:"Please upload images only (PNG/JPG).",variant:"destructive"}),he([]),Oe(null);return}he(wn),Oe(null)},sd=C.useMemo(()=>{if(!y)return rr;const K=Or.find(ke=>ke.name===y||ke.id.toString()===y);return rr.filter(ke=>ke.testTypeId===K?.id)},[y,rr,Or]),Hh=C.useMemo(()=>{if(!x)return Wr;const K=Or.find(Tt=>Tt.name===y||Tt.id.toString()===y),ke=rr.find(Tt=>(Tt.name===x||Tt.id.toString()===x)&&(!K||Tt.testTypeId===K.id));return Wr.filter(Tt=>Tt.testAreaId===ke?.id)},[x,y,Wr,rr,Or]),j2={1:"Very Easy",2:"Easy",3:"Medium",4:"Hard",5:"Expert"},E2=j?Ti.filter(K=>K.categoryId===parseInt(j)):Ti,Zo=C.useMemo(()=>r?.filter(K=>{const ke=o.toLowerCase(),Tt=!ke||K.contentPreview?.toLowerCase().includes(ke)||!1||K.subject?.toLowerCase().includes(ke)||!1||K.category?.toLowerCase().includes(ke)||!1||K.name?.toLowerCase().includes(ke)||!1,wn=!y||K.testType===y||K.testType===Or.find(ea=>ea.id.toString()===y)?.name,ui=!x||K.testArea===x||K.testArea===rr.find(ea=>ea.id.toString()===x)?.name,Ai=!j||K.categoryId===parseInt(j)||K.category===Wr.find(ea=>ea.id===parseInt(j))?.name,Bt=!E||K.subCategoryId===parseInt(E)||K.subCategory===Ti.find(ea=>ea.id===parseInt(E))?.name,Ds=!N||Number(K.difficulty)===parseInt(N),di=!us||B===null||K.folderId===B||!K.folderId;return Tt&&wn&&ui&&Ai&&Bt&&Ds&&di}),[r,o,y,x,j,E,N,B,us,Or,rr,Wr,Ti]),Jo=()=>{b(""),S(""),P(""),O(""),T("")},Wh=y||x||j||E||N,ev=K=>{h(K.id),c(!0)},k2=()=>{h(void 0),c(!0)},sl=K=>L.has(K),tv=K=>{z(ke=>{const Tt=new Set(ke);return Tt.has(K)?Tt.delete(K):Tt.add(K),Tt})},nv=()=>{Zo&&z(K=>{const ke=new Set(K);for(const Tt of Zo)ke.add(Tt.id);return ke})},rv=()=>{z(new Set)},O2=()=>{if(L.size===0){s({variant:"destructive",title:"No questions selected",description:"Please select at least one question."});return}q(!0)},$2=async()=>{if(L.size!==0){W(!0);try{const K=Array.from(L);for(const ke of K)await $t("POST","/api/questions",{id:ke,isArchived:!0});s({title:"Archived",description:`Archived ${K.length} question${K.length===1?"":"s"}.`}),ba.invalidateQueries({queryKey:["/api/questions"]}),z(new Set)}catch{s({title:"Archive failed",description:"Could not archive one or more questions.",variant:"destructive"})}finally{W(!1),D(!1)}}},ln=Rs.find(K=>K.id===B),_2=C.useMemo(()=>Array.from(L),[L]);return u.jsxs("div",{className:"flex gap-4 h-full relative",children:[us&&V&&u.jsx("div",{className:"w-64 flex-shrink-0 bg-card border border-border rounded-xl overflow-hidden",children:u.jsx(T2e,{selectedFolderId:B,onSelectFolder:I})}),u.jsxs("div",{className:"flex-1 space-y-6 min-w-0",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[us&&u.jsx(ce,{"data-testid":"button-toggle-folder-panel",variant:"ghost",size:"icon",onClick:()=>U(!V),children:V?u.jsx(bce,{className:"h-4 w-4"}):u.jsx(wce,{className:"h-4 w-4"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold truncate",children:ln?ln.name:"All Questions"}),u.jsx("p",{className:"text-sm md:text-base text-muted-foreground mt-1 line-clamp-1",children:ln?`Showing questions in "${ln.name}"`:"Manage and organize your question repository"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-stretch sm:items-center gap-3 w-full md:w-auto",children:[u.jsxs(zr,{open:ae,onOpenChange:K=>{yt(K),K||il()},children:[u.jsx(Aa,{asChild:!0,children:u.jsxs("button",{onClick:()=>yt(!0),className:"flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl font-semibold border border-border bg-card hover:bg-muted transition-all w-full md:w-auto whitespace-nowrap","data-testid":"button-ai-generate-questions",children:[u.jsx(rc,{className:"w-4 h-4"}),"AI Generate Questions"]})}),u.jsxs(Cr,{className:"max-w-4xl max-h-[95vh] overflow-y-auto overflow-x-hidden w-[calc(100vw-2rem)] p-4 md:p-6 mx-auto",children:[u.jsx(Nr,{children:u.jsx(Pr,{children:"AI Generate Questions"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-3",children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Test Type"}),u.jsxs(nn,{value:ot||"none",onValueChange:K=>{Ut(K==="none"?"":K),gr(""),Fn(""),te("")},disabled:Array.isArray($n?.interestedInTests)&&$n?.interestedInTests?.length===1,children:[u.jsx(Jt,{className:"h-10 text-xs",children:u.jsx(rn,{placeholder:"Select test"})}),u.jsxs(en,{children:[u.jsx(He,{value:"none",children:"-- None --"}),Or.filter(K=>K.isActive).map(K=>u.jsx(He,{value:K.name,children:K.name},K.id))]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Test Area"}),u.jsxs(nn,{value:qt||"none",onValueChange:K=>{gr(K==="none"?"":K),Fn(""),te("")},disabled:!ot||Array.isArray($n?.interestedInTestAreas)&&$n?.interestedInTestAreas?.length===1,children:[u.jsx(Jt,{className:"h-10 text-xs",children:u.jsx(rn,{placeholder:ot?"Select area":"Select test type first"})}),u.jsxs(en,{children:[u.jsx(He,{value:"none",children:"-- None --"}),Ec.filter(K=>K.isActive).map(K=>u.jsx(He,{value:K.name,children:K.name},K.id))]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-3",children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Category"}),u.jsxs(nn,{value:yr||"none",onValueChange:K=>{Fn(K==="none"?"":K),te("")},disabled:!qt,children:[u.jsx(Jt,{className:"h-10 text-xs",children:u.jsx(rn,{placeholder:"Select category"})}),u.jsxs(en,{children:[u.jsx(He,{value:"none",children:"-- None --"}),A2.map(K=>u.jsx(He,{value:K.id.toString(),children:K.name},K.id))]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Sub-Category"}),u.jsxs(nn,{value:X||"none",onValueChange:K=>te(K==="none"?"":K),disabled:!yr,children:[u.jsx(Jt,{className:"h-10 text-xs",children:u.jsx(rn,{placeholder:"Select sub-category"})}),u.jsxs(en,{children:[u.jsx(He,{value:"none",children:"-- None --"}),Oc.map(K=>u.jsx(He,{value:K.id.toString(),children:K.name},K.id))]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-3",children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Difficulty"}),u.jsxs(nn,{value:ie,onValueChange:Ie,children:[u.jsx(Jt,{className:"h-10 text-xs",children:u.jsx(rn,{placeholder:"Select difficulty"})}),u.jsxs(en,{children:[u.jsx(He,{value:"1",children:"1 - Very Easy"}),u.jsx(He,{value:"2",children:"2 - Easy"}),u.jsx(He,{value:"3",children:"3 - Medium"}),u.jsx(He,{value:"4",children:"4 - Hard"}),u.jsx(He,{value:"5",children:"5 - Expert"})]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Number of Questions"}),u.jsx(ut,{type:"number",min:1,value:$e,onChange:K=>Te(Math.max(1,Number(K.target.value||1))),className:"h-10 text-xs"})]})]}),u.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:u.jsx(ce,{type:"button",disabled:Kt||!ot||!qt||$e<1,onClick:async()=>{if(!ot||!qt){s({title:"Selection required",description:"Please select a Test Type and Test Area first.",variant:"destructive"});return}const K=Math.max(1,Math.floor(Number($e)||1)),ke=Wr.find(wn=>wn.id.toString()===yr),Tt=Ti.find(wn=>wn.id.toString()===X);an(!0),wt(null),So(!1);try{s({title:"Generating...",description:`Creating ${K} AI question${K===1?"":"s"}.`});const wn=[];for(let ui=0;ui<K;ui+=1)try{const Ai=await el.mutateAsync({testType:ot||void 0,testArea:qt||void 0,category:ke?.name,subCategory:Tt?.name,difficulty:ie||void 0});wn.push(xk(Ai,{defaultTestType:ot||"",defaultTestArea:qt||"",defaultDifficulty:ie||"3",source:3}))}catch(Ai){s({title:"AI generate failed",description:Ai?.message||"Could not generate one or more questions.",variant:"destructive"});break}wn.length>0&&(wt(wn),s({title:"Done",description:`Generated ${wn.length} questions.`}))}finally{an(!1)}},children:Kt?u.jsxs(u.Fragment,{children:[u.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):"Generate Questions"})}),Fe&&u.jsx(Q6,{questions:Fe,setQuestions:wt,modeLabel:"Generated",itemLabel:"generated",source:3,defaultTestType:ot,defaultTestArea:qt,defaultDifficulty:ie,categories:Wr,allSubCategories:Ti,createQuestion:Ja.mutateAsync,isCreatePending:Ja.isPending,onAfterImport:()=>{yt(!1),il()},onImportingChange:So})]})]})]}),u.jsxs(zr,{open:Y,onOpenChange:K=>{le(K),K||kc()},children:[u.jsx(Aa,{asChild:!0,children:u.jsxs("button",{onClick:()=>le(!0),className:"flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl font-semibold border border-border bg-card hover:bg-muted transition-all w-full md:w-auto whitespace-nowrap","data-testid":"button-batch-ocr-upload",children:[u.jsx(oce,{className:"w-4 h-4"}),"File Generate Questions"]})}),u.jsxs(Cr,{className:"max-w-4xl max-h-[95vh] overflow-y-auto overflow-x-hidden w-[calc(100vw-2rem)] p-4 md:p-6 mx-auto",children:[u.jsx(Nr,{children:u.jsx(Pr,{children:"File Generate Questions"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Test Type"}),u.jsxs(nn,{value:Ae||"none",onValueChange:K=>{me(K==="none"?"":K),ue("")},disabled:Array.isArray($n?.interestedInTests)&&$n?.interestedInTests?.length===1,children:[u.jsx(Jt,{className:"h-10 text-xs",children:u.jsx(rn,{placeholder:"Select test"})}),u.jsxs(en,{children:[u.jsx(He,{value:"none",children:"-- None --"}),Or.filter(K=>K.isActive).map(K=>u.jsx(He,{value:K.name,children:K.name},K.id))]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Test Area"}),u.jsxs(nn,{value:Se||"none",onValueChange:K=>ue(K==="none"?"":K),disabled:!Ae||Array.isArray($n?.interestedInTestAreas)&&$n?.interestedInTestAreas?.length===1,children:[u.jsx(Jt,{className:"h-10 text-xs",children:u.jsx(rn,{placeholder:Ae?"Select area":"Select test type first"})}),u.jsxs(en,{children:[u.jsx(He,{value:"none",children:"-- None --"}),qh.filter(K=>K.isActive).map(K=>u.jsx(He,{value:K.name,children:K.name},K.id))]})]})]})]}),u.jsx(Ye,{className:"border-dashed border-2",children:u.jsxs(Je,{className:"py-5 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx("h4",{className:"font-bold",children:"Upload files"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Upload up to ",5," images. Each image <"," ",Math.floor(10485760/(1024*1024)),"MB. Total <"," ",Math.floor(52428800/(1024*1024)),"MB."]})]}),u.jsxs(ce,{type:"button",variant:"outline",className:"relative",onClick:()=>document.getElementById("batch-ocr-upload-input")?.click(),children:["Choose Files",u.jsx("input",{id:"batch-ocr-upload-input",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:K=>{const ke=Array.from(K.target.files||[]);id(ke),K.target.value=""}})]})]}),u.jsxs("div",{className:"text-xs text-muted-foreground",children:["Selected: ",u.jsx("span",{className:"font-semibold",children:pe.length})," ","files  Total:"," ",u.jsxs("span",{className:"font-semibold",children:[(Jy/(1024*1024)).toFixed(1),"MB"]})]}),pe.length>0&&u.jsxs("div",{className:"space-y-1",children:[pe.slice(0,6).map(K=>u.jsxs("div",{className:"text-xs truncate",children:[K.name," ",u.jsxs("span",{className:"text-muted-foreground",children:["(",(K.size/(1024*1024)).toFixed(1),"MB)"]})]},K.name)),pe.length>6&&u.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",pe.length-6," more"]})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u.jsx(ce,{type:"button",disabled:pe.length===0||Is.isPending||!Ae||!Se,onClick:async()=>{try{if(pe.length===0)return;if(!Ae||!Se){s({title:"Selection required",description:"Please select a Test Type and Test Area first.",variant:"destructive"});return}Oe(null),lt(!1),s({title:"Analyzing...",description:"Extracting questions from your upload."});const K=Or.find(Bt=>Bt.name===Ae),ke=rr.find(Bt=>Bt.name===Se&&(!K||Bt.testTypeId===K.id)),Tt=ke?Wr.filter(Bt=>Bt.isActive&&Bt.testAreaId===ke.id):Wr.filter(Bt=>Bt.isActive),wn=Ti.filter(Bt=>Bt.isActive&&Tt.some(Ds=>Ds.id===Bt.categoryId)),Ai=((await Is.mutateAsync({files:pe,testType:Ae||void 0,testArea:Se||void 0,categories:Tt.map(Bt=>Bt.name),subCategories:wn.map(Bt=>Bt.name)})).questions||[]).map(Bt=>xk(Bt,{defaultTestType:Ae||"",defaultTestArea:Se||"",defaultDifficulty:"3",source:1}));Oe(Ai),s({title:"Done",description:`Extracted ${Ai.length} questions.`})}catch(K){s({title:"File upload failed",description:K?.message||"Could not extract questions from your upload.",variant:"destructive"})}},children:Is.isPending?u.jsxs(u.Fragment,{children:[u.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Extract Questions"}),u.jsx(ce,{type:"button",variant:"ghost",onClick:kc,disabled:Is.isPending||oe,children:"Clear"})]})]})}),Pe&&u.jsx(Q6,{questions:Pe,setQuestions:Oe,modeLabel:"Extracted",itemLabel:"extracted",source:1,defaultTestType:Ae,defaultTestArea:Se,defaultDifficulty:"3",categories:Wr,allSubCategories:Ti,createQuestion:Ja.mutateAsync,isCreatePending:Ja.isPending,onAfterImport:()=>{le(!1),kc()},onImportingChange:lt})]})]})]}),u.jsxs(zr,{open:l,onOpenChange:K=>{c(K),K||h(void 0)},children:[u.jsx(Aa,{asChild:!0,children:u.jsxs("button",{onClick:k2,className:"flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl font-semibold bg-primary text-primary-foreground shadow-lg shadow-primary/25 hover:shadow-xl hover:-translate-y-0.5 transition-all w-full md:w-auto whitespace-nowrap",children:[u.jsx(Ia,{className:"w-4 h-4"}),"Add Question"]})}),u.jsxs(Cr,{className:"max-w-4xl max-h-[95vh] overflow-y-auto w-[calc(100vw-2rem)] p-4 md:p-6 mx-auto",children:[u.jsx(Nr,{children:u.jsx(Pr,{children:d?"Edit Question":"Question Editor"})}),u.jsx("div",{className:"pb-20 md:pb-0",children:g&&d?u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx(mt,{className:"w-8 h-8 animate-spin text-primary"})}):u.jsx(Eke,{initialData:m||void 0,onSuccess:()=>{c(!1),h(void 0)}})})]})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex gap-4 items-center bg-card p-4 rounded-xl border border-border shadow-sm",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Wq,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx("input",{placeholder:"Search questions...",value:o,onChange:K=>a(K.target.value),className:"w-full pl-10 pr-4 py-2 bg-transparent border-none focus:outline-none placeholder:text-muted-foreground","data-testid":"input-search-questions"})]}),u.jsx("div",{className:"h-6 w-px bg-border mx-2"}),u.jsxs("button",{onClick:()=>$(!_),className:`flex items-center gap-2 text-sm font-medium transition-colors ${_?"text-primary":"text-muted-foreground hover:text-foreground"}`,"data-testid":"button-toggle-filters",children:[u.jsx(sce,{className:"w-4 h-4"}),"Filter",Wh&&u.jsx(Ft,{variant:"secondary",className:"h-5 px-1.5 text-[10px]",children:(y?1:0)+(x?1:0)+(j?1:0)+(E?1:0)+(N?1:0)})]})]}),_&&u.jsxs("div",{className:"flex flex-wrap gap-3 items-center bg-muted/30 p-4 rounded-xl border border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Me,{className:"text-xs text-muted-foreground whitespace-nowrap",children:"Test Type:"}),u.jsxs(nn,{value:y,onValueChange:K=>{b(K==="all"?"":K),S(""),P(""),O("")},children:[u.jsx(Jt,{className:"w-[160px] h-8 text-xs","data-testid":"select-filter-test-type",children:u.jsx(rn,{placeholder:"All Test Types"})}),u.jsxs(en,{children:[u.jsx(He,{value:"all",children:"All Test Types"}),Or.filter(K=>K.isActive).map(K=>u.jsx(He,{value:K.name,children:K.name},K.id))]})]})]}),y&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Me,{className:"text-xs text-muted-foreground whitespace-nowrap",children:"Test Area:"}),u.jsxs(nn,{value:x,onValueChange:K=>{S(K==="all"?"":K),P(""),O("")},children:[u.jsx(Jt,{className:"w-[160px] h-8 text-xs","data-testid":"select-filter-test-area",children:u.jsx(rn,{placeholder:"All Test Areas"})}),u.jsxs(en,{children:[u.jsx(He,{value:"all",children:"All Test Areas"}),sd.filter(K=>K.isActive).map(K=>u.jsx(He,{value:K.name,children:K.name},K.id))]})]})]}),x&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Me,{className:"text-xs text-muted-foreground whitespace-nowrap",children:"Category:"}),u.jsxs(nn,{value:j,onValueChange:K=>{P(K==="all"?"":K),O("")},children:[u.jsx(Jt,{className:"w-[160px] h-8 text-xs","data-testid":"select-filter-category",children:u.jsx(rn,{placeholder:"All Categories"})}),u.jsxs(en,{children:[u.jsx(He,{value:"all",children:"All Categories"}),Hh.filter(K=>K.isActive).map(K=>u.jsx(He,{value:K.id.toString(),children:K.name},K.id))]})]})]}),j&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Me,{className:"text-xs text-muted-foreground whitespace-nowrap",children:"Sub-Category:"}),u.jsxs(nn,{value:E,onValueChange:K=>O(K==="all"?"":K),children:[u.jsx(Jt,{className:"w-[160px] h-8 text-xs","data-testid":"select-filter-subcategory",children:u.jsx(rn,{placeholder:"All Sub-Categories"})}),u.jsxs(en,{children:[u.jsx(He,{value:"all",children:"All Sub-Categories"}),E2.filter(K=>K.isActive).map(K=>u.jsx(He,{value:K.id.toString(),children:K.name},K.id))]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Me,{className:"text-xs text-muted-foreground whitespace-nowrap",children:"Difficulty:"}),u.jsxs(nn,{value:N,onValueChange:K=>T(K==="all"?"":K),children:[u.jsx(Jt,{className:"w-[160px] h-8 text-xs","data-testid":"select-filter-difficulty",children:u.jsx(rn,{placeholder:"All"})}),u.jsxs(en,{children:[u.jsx(He,{value:"all",children:"All"}),[1,2,3,4,5].map(K=>u.jsxs(He,{value:K.toString(),children:[K,"-",j2[K]]},K))]})]})]}),Wh&&u.jsxs(ce,{variant:"ghost",size:"sm",onClick:Jo,className:"h-8 text-xs gap-1","data-testid":"button-clear-filters",children:[u.jsx(Ra,{className:"w-3 h-3"}),"Clear"]})]}),Zo&&Zo.length>0&&u.jsx("div",{className:"flex items-center justify-start px-1",children:u.jsx("button",{type:"button",onClick:()=>{Zo.every(ke=>L.has(ke.id))?rv():nv()},className:"text-sm text-muted-foreground hover:text-foreground font-medium transition-colors whitespace-nowrap","data-testid":"button-select-all-visible",children:Zo.every(K=>L.has(K.id))?"Deselect All":"Select All"})})]}),i?u.jsx("div",{className:"grid place-items-center h-64",children:u.jsx(mt,{className:"w-8 h-8 animate-spin text-primary"})}):u.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:Zo?.map(K=>u.jsxs("div",{onClick:()=>ev(K),className:se("group bg-card p-6 rounded-2xl border transition-all duration-300 flex flex-col cursor-pointer",sl(K.id)?"border-primary bg-primary/5 shadow-lg":"border-border hover:border-primary/50 hover:shadow-lg"),children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("div",{className:"flex flex-col gap-1",children:u.jsx("h3",{className:"font-bold text-sm text-foreground line-clamp-1",children:K.name||"Untitled Question"})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase tracking-widest bg-muted px-2 py-0.5 rounded",children:K.testArea||"GENERAL"}),u.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(ke=>u.jsx("div",{className:`h-1 w-2 rounded-full ${ke<=(parseInt(K.difficulty)||0)?"bg-primary":"bg-muted"}`},ke))})]})]}),u.jsxs("div",{className:"mb-2 space-y-0.5",children:[u.jsxs("p",{className:"text-[10px] text-muted-foreground font-medium",children:[K.category||"General"," ",K.subCategory&&` ${K.subCategory}`]}),us&&K.folderId&&(()=>{const ke=Rs.find(Tt=>Tt.id===K.folderId);return ke?u.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u.jsx("div",{className:"w-2 h-2 rounded",style:{backgroundColor:ke.color||"#6366f1"}}),u.jsx("span",{className:"text-[10px] text-muted-foreground",children:ke.name})]}):null})()]}),K.imageUrl&&u.jsx("div",{className:"mb-2 h-32 rounded-lg overflow-hidden bg-muted",children:u.jsx("img",{src:K.imageUrl,alt:"Question",className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"pt-2 mt-auto space-y-3",children:[K.contentPreview&&u.jsx("div",{children:u.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:K.contentPreview})}),K.type==="mcq"&&K.options&&Array.isArray(K.options)&&K.options.filter(ke=>ke).length>0&&u.jsxs("div",{className:"space-y-1.5",children:[K.options.filter(ke=>ke).slice(0,2).map((ke,Tt)=>u.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[u.jsxs("span",{className:"font-bold text-primary shrink-0",children:[String.fromCharCode(65+Tt),"."]}),u.jsx("span",{className:"text-muted-foreground line-clamp-1",children:ke})]},Tt)),K.options.filter(ke=>ke).length>2&&u.jsxs("p",{className:"text-xs text-muted-foreground font-medium",children:["+",K.options.filter(ke=>ke).length-2," more"]})]})]}),u.jsx("div",{className:"pt-4 border-t border-border",children:u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("button",{className:"flex-1 min-w-0 py-2 rounded-lg border border-border font-bold hover:bg-muted transition-colors text-sm h-9 flex items-center justify-center",children:u.jsx("span",{className:"truncate px-1",children:"Edit Details"})}),u.jsx("button",{type:"button",onClick:ke=>{ke.stopPropagation(),tv(K.id)},"aria-pressed":sl(K.id),title:sl(K.id)?"Deselect question":"Select question",className:se("p-2 rounded-lg border border-border hover:bg-muted transition-colors h-9 w-9 flex items-center justify-center",sl(K.id)&&"border-primary bg-primary/10"),"data-testid":`button-question-select-${K.id}`,children:u.jsx(Vr,{className:se("h-4 w-4",sl(K.id)?"text-primary":"text-muted-foreground")})}),us&&u.jsxs(OK,{children:[u.jsx($K,{asChild:!0,children:u.jsx(ce,{variant:"outline",size:"icon",className:"h-9 w-9",onClick:ke=>ke.stopPropagation(),"data-testid":`button-question-menu-${K.id}`,children:u.jsx(ice,{className:"h-4 w-4"})})}),u.jsx(JO,{align:"end",onClick:ke=>ke.stopPropagation(),children:u.jsxs(Qye,{children:[u.jsxs(_K,{"data-testid":`menu-move-to-folder-${K.id}`,children:[u.jsx(xO,{className:"h-4 w-4 mr-2"}),"Move to Folder"]}),u.jsxs(MK,{children:[K.folderId&&u.jsxs(u.Fragment,{children:[u.jsx(du,{"data-testid":`menu-remove-from-folder-${K.id}`,onClick:()=>nl.mutate(K.id),children:"Remove from Folder"}),u.jsx(sm,{})]}),Rs.filter(ke=>ke.id!==K.folderId).length===0?u.jsx(du,{disabled:!0,children:"No folders available"}):Rs.filter(ke=>ke.id!==K.folderId).map(ke=>u.jsxs(du,{"data-testid":`menu-assign-folder-${ke.id}-${K.id}`,onClick:()=>tl.mutate({folderId:ke.id,questionId:K.id}),children:[u.jsx("div",{className:"w-3 h-3 rounded mr-2",style:{backgroundColor:ke.color||"#6366f1"}}),u.jsx("span",{className:"truncate",children:ke.name})]},ke.id))]})]})})]})]})})]},K.id))})]}),u.jsx("div",{className:se("fixed right-4 md:right-6 bottom-[calc(env(safe-area-inset-bottom)+5rem)] md:bottom-6 z-40 transition-all duration-200",L.size>0?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"),children:u.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[u.jsxs(My,{open:M,onOpenChange:D,children:[u.jsx(Iy,{asChild:!0,children:u.jsxs("button",{type:"button",className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-destructive text-destructive-foreground shadow-lg shadow-destructive/25 hover:shadow-xl hover:-translate-y-0.5 transition-all disabled:opacity-60",disabled:Q,"data-testid":"button-archive-selected",children:[u.jsx(Lq,{className:"w-5 h-5"}),"Archive (",L.size,")"]})}),u.jsxs(Ph,{children:[u.jsxs(Th,{children:[u.jsx(jh,{children:"Archive selected questions?"}),u.jsxs(Eh,{children:["This will hide the selected question",L.size===1?"":"s"," from your question list."]})]}),u.jsxs(Ah,{children:[u.jsx(Oh,{disabled:Q,children:"Cancel"}),u.jsx(kh,{onClick:()=>{$2()},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:Q,children:Q?"Archiving...":"Archive"})]})]})]}),u.jsxs("button",{onClick:O2,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-primary-foreground shadow-lg shadow-primary/25 hover:shadow-xl hover:-translate-y-0.5 transition-all","data-testid":"button-generate-test-floating",children:[u.jsx(Tu,{className:"w-5 h-5"}),"Generate Test (",L.size,")"]})]})}),u.jsx(zr,{open:F,onOpenChange:q,children:u.jsxs(Cr,{className:"sm:max-w-2xl w-[95vw] max-h-[90vh] overflow-hidden p-0 flex flex-col",children:[u.jsx(Nr,{className:"px-4 md:px-6 pt-4 md:pt-6",children:u.jsx(Pr,{children:"Create Test from Selected Questions"})}),u.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto px-4 md:px-6 pb-4 md:pb-6",children:u.jsx(Sk,{initialQuestionIds:_2,onSuccess:()=>{q(!1),z(new Set)},onCancel:()=>q(!1)})})]})})]})}function Ake(t){return!t||/<(p|br|div|span|strong|em|ul|ol|li)[>\s\/]/i.test(t)?t:t.split(/\n\n+/).map(n=>`<p>${n.replace(/\n/g,"<br/>")}</p>`).join("")}function jke(t){return t&&t.replace(/<img([^>]*)>/gi,(e,n)=>n.includes("style=")?e.replace(/style="([^"]*)"/i,(r,i)=>i.includes("max-height")?r:`style="${i}; max-width: 50%; height: auto; max-height: 256px; object-fit: contain;"`):`<img${n} style="max-width: 50%; height: auto; max-height: 256px; object-fit: contain;">`)}function Eke({onSuccess:t,initialData:e}){const{toast:n}=Gn(),r=iW(),i=Vme(),s=Ume(),o=sW(),{data:a}=Sh(),{data:l=[]}=pt({queryKey:["/api/test-types"]}),{data:c=[]}=pt({queryKey:["/api/test-areas"]}),{data:d=[]}=pt({queryKey:["/api/categories"]}),{data:h=[]}=pt({queryKey:["/api/sub-categories"]}),m=a?.interestedInTests||[],g=a?.interestedInTestAreas||[],[y,b]=C.useState({id:e?.id,name:e?.name||"",content:e?.content||"",subject:e?.subject||"Math",type:e?.type||"mcq",options:e?.options||["","","",""],correctAnswer:e?.correctAnswer||"",explanation:Ake(e?.explanation||""),testType:e?.testType||(m.length===1?m[0]:""),testArea:e?.testArea||(g.length===1?g[0]:""),category:e?.category||"",categoryId:e?.categoryId?.toString()||"",subCategory:e?.subCategory||"",subCategoryId:e?.subCategoryId?.toString()||"",specificSkill:e?.specificSkill||"",difficulty:e?.difficulty||"3"}),x=()=>{const{id:F,categoryId:q,subCategoryId:M,difficulty:D,name:Q,...W}=y,Y={...W,name:Q?`Copy of ${Q}`:"Copy of Untitled Question",categoryId:q?parseInt(q):null,subCategoryId:M?parseInt(M):null,difficulty:D?parseInt(D):3,source:4};r.mutate(Y,{onSuccess:()=>{n({title:"Question Duplicated",description:"A new copy of this question has been created."}),t()}})},S=async()=>{if(y.id)try{await r.mutateAsync({id:y.id,isArchived:!0}),n({title:"Question archived",description:"This question has been removed from your question bank list."}),t()}catch{n({variant:"destructive",title:"Archive failed",description:"Could not archive this question."})}},N=l.find(F=>F.name===y.testType),T=C.useMemo(()=>y.testType?c.filter(F=>F.testTypeId===N?.id&&F.isActive):[],[y.testType,c,N]),j=C.useMemo(()=>{if(!y.testArea)return d.filter(q=>q.isActive);const F=c.find(q=>q.name===y.testArea&&(!N||q.testTypeId===N.id));return d.filter(q=>q.testAreaId===F?.id&&q.isActive)},[y.testArea,d,c,N]),P=y.categoryId?h.filter(F=>F.categoryId===parseInt(y.categoryId)):h,[E,O]=C.useState("edit"),[_,$]=C.useState(null),[B,I]=C.useState(!1),V=F=>{const q=`<p><img src="${F}" alt="Question image" style="max-width: 100%; height: auto;" /></p>`;b(M=>{const D="[image description]";let Q=M.content;return Q.includes(D)?Q=Q.replace(D,q):Q=Q+q,{...M,content:Q}}),$(null),I(!1)},U=()=>{I(!1)},L=async F=>{if(!y.testType||!y.testArea){n({variant:"destructive",title:"Selection Required",description:"Please select a Test Type and Test Area first for better AI accuracy."}),F.target.value="";return}const q=F.target.files?.[0];if(!q)return;if(q.size>50*1024*1024){n({title:"File too large",description:"Please upload an image smaller than 50MB.",variant:"destructive"}),F.target.value="";return}const M=new FileReader;M.onload=async()=>{const D=M.result;$(D);try{n({title:"Analyzing Image...",description:"AI is reading the question."});const Q=await i.mutateAsync({image:D,testType:y.testType,testArea:y.testArea,categories:j.map(Y=>Y.name),subCategories:P.map(Y=>Y.name)}),W=Q.questions?.[0]||Q;if(W){const Y=j.find(he=>he.name.toLowerCase()===W.category?.toLowerCase()),pe=(Y?h.filter(he=>he.categoryId===Y.id):h).find(he=>he.name.toLowerCase()===W.sub_category?.toLowerCase()||he.name.toLowerCase()===W.subCategory?.toLowerCase());b(he=>({...he,name:W.name||he.name,content:W.content||he.content,type:W.type||he.type,options:W.options||he.options,correctAnswer:W.answer||W.correctAnswer||he.correctAnswer,explanation:W.explanation||he.explanation,subject:W.subject||he.subject,category:Y?.name||he.category,categoryId:Y?.id.toString()||he.categoryId,subCategory:pe?.name||he.subCategory,subCategoryId:pe?.id.toString()||he.subCategoryId,specificSkill:W.specific_skill||W.specificSkill||he.specificSkill,difficulty:W.difficulty?.toString()||he.difficulty})),n({title:"Success",description:"Question extracted! You can now crop and insert the image."}),I(!0)}}catch{n({variant:"destructive",title:"Upload failed",description:"Could not read image."}),$(null)}},M.readAsDataURL(q)},z=async F=>{F.preventDefault();try{const q=d.find(Q=>Q.id.toString()===y.categoryId),M=h.find(Q=>Q.id.toString()===y.subCategoryId),D={...y,category:q?.name||y.category,categoryId:y.categoryId?parseInt(y.categoryId):null,subCategory:M?.name||y.subCategory,subCategoryId:y.subCategoryId?parseInt(y.subCategoryId):null,options:y.type==="mcq"?y.options.filter(Q=>Q):null};y.id?(await r.mutateAsync({...D,id:y.id}),n({title:"Question Updated",description:"Changes saved to your bank."})):(await r.mutateAsync({...D}),n({title:"Question Created",description:"Added to your bank."})),t()}catch{n({variant:"destructive",title:"Error",description:"Failed to save question."})}};return u.jsx("div",{className:"space-y-6",children:u.jsxs(uke,{value:E,onValueChange:O,className:"w-full",children:[u.jsxs(Wee,{className:"grid w-full grid-cols-2 mb-4",children:[u.jsxs(yk,{value:"edit",className:"gap-2",children:[u.jsx(Ace,{className:"w-4 h-4"})," Editor"]}),u.jsxs(yk,{value:"preview",className:"gap-2",children:[u.jsx(Uq,{className:"w-4 h-4"})," Student Preview"]})]}),u.jsx(vk,{value:"preview",className:"mt-0",children:u.jsxs(Ye,{className:"border-2 border-primary/20 bg-muted/30 overflow-hidden",children:[u.jsxs("div",{className:"bg-primary/5 px-4 py-2 border-b flex items-center justify-between",children:[u.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-widest",children:"Student View Preview"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-red-400"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400"})]})]}),u.jsxs(Je,{className:"p-8 space-y-6 bg-card min-h-[300px] overflow-hidden max-w-full",children:[u.jsxs("div",{className:"space-y-4 max-w-full overflow-hidden",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{className:"px-2 py-0.5 rounded-md bg-primary/10 text-primary text-[10px] font-bold uppercase",children:y.subject})}),u.jsx("div",{className:"text-sm font-medium leading-relaxed prose-preview max-w-full overflow-hidden",dangerouslySetInnerHTML:{__html:jke(y.content)||'<p class="text-muted-foreground italic">No content yet...</p>'}})]}),u.jsx("div",{className:"space-y-3 max-w-full overflow-hidden",children:y.type==="mcq"?y.options.filter(F=>F).map((F,q)=>u.jsxs("div",{className:"w-full text-left p-4 rounded-xl border-2 border-border bg-background flex items-center gap-3 overflow-hidden",children:[u.jsxs("span",{className:"font-bold text-primary text-sm",children:[String.fromCharCode(65+q),"."]}),u.jsx("span",{className:"font-medium truncate text-sm",children:F})]},q)):u.jsx("div",{className:"w-full h-32 p-4 rounded-xl border-2 border-border bg-muted/20 flex items-center justify-center text-muted-foreground italic",children:"Student text answer area..."})})]})]})}),u.jsx(vk,{value:"edit",className:"mt-0",children:u.jsxs("form",{onSubmit:z,className:"space-y-2 md:space-y-4",children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Question Name"}),u.jsx(ut,{value:y.name,onChange:F=>b(q=>({...q,name:F.target.value})),className:"h-10 text-xs",placeholder:"e.g. 2024 NSW OC - Q15 (Geometry)"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Test Type"}),u.jsxs(nn,{value:y.testType||"none",onValueChange:F=>b(q=>({...q,testType:F==="none"?"":F,testArea:"",categoryId:"",category:"",subCategoryId:"",subCategory:""})),disabled:m.length===1,children:[u.jsx(Jt,{className:"h-10 text-xs",children:u.jsx(rn,{placeholder:"Select test"})}),u.jsxs(en,{children:[u.jsx(He,{value:"none",children:"-- None --"}),l.filter(F=>F.isActive).map(F=>u.jsx(He,{value:F.name,children:F.name},F.id))]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Test Area"}),u.jsxs(nn,{value:y.testArea||"none",onValueChange:F=>b(q=>({...q,testArea:F==="none"?"":F,categoryId:"",category:"",subCategoryId:"",subCategory:""})),disabled:g.length===1||!y.testType,children:[u.jsx(Jt,{className:"h-10 text-xs",children:u.jsx(rn,{placeholder:"Select area"})}),u.jsxs(en,{children:[u.jsx(He,{value:"none",children:"-- None --"}),T.map(F=>u.jsx(He,{value:F.name,children:F.name},F.id))]})]})]})]}),!y.id&&u.jsx(Ye,{className:"border-dashed border-2 bg-primary/5 border-primary/20",children:u.jsxs(Je,{className:"flex flex-col items-center justify-center py-5 space-y-2",children:[u.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:u.jsx(a5,{className:"h-6 w-6 text-primary"})}),u.jsxs("div",{className:"text-center space-y-0.5",children:[u.jsx("h4",{className:"font-bold text-primary text-base",children:"AI Question Scanner"}),u.jsx("p",{className:"text-xs text-muted-foreground max-w-sm",children:"Upload a photo or screenshot of a question to automatically fill the form."})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[u.jsxs(ce,{type:"button",variant:"outline",className:"relative h-9 px-6 text-sm font-bold border-primary text-primary hover:bg-primary/10",disabled:i.isPending,onClick:()=>document.getElementById("ocr-upload-form")?.click(),children:[i.isPending?u.jsxs(u.Fragment,{children:[u.jsx(mt,{className:"mr-2 h-5 w-5 animate-spin"}),"Processing..."]}):u.jsxs(u.Fragment,{children:[u.jsx(a5,{className:"mr-2 h-5 w-5"}),"Scan Image"]}),u.jsx("input",{id:"ocr-upload-form",type:"file",accept:"image/*",className:"hidden",onChange:L})]}),_&&u.jsxs(ce,{type:"button",variant:"default",className:"h-9 px-5 text-sm font-bold gap-2",onClick:()=>I(!0),disabled:i.isPending,children:[u.jsx(zq,{className:"h-5 w-5"}),"Crop & Insert Image"]}),!y.testType||!y.testArea?u.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 font-bold bg-amber-50 px-3 py-2 rounded-lg border border-amber-200",children:[u.jsx(s5,{className:"h-4 w-4"}),"Select Test Type & Area first"]}):u.jsx("div",{className:"text-[10px] text-muted-foreground w-full text-center mt-2",children:"PNG, JPG up to 50MB"})]}),_&&u.jsx("div",{className:se("mt-2 p-2 border rounded-lg",i.isPending?"bg-amber-50 dark:bg-amber-950/30 border-amber-200 dark:border-amber-800":"bg-green-50 dark:bg-green-950/30 border-green-200 dark:border-green-800"),children:u.jsx("p",{className:se("text-sm text-center font-medium flex items-center justify-center gap-2",i.isPending?"text-amber-700 dark:text-amber-300":"text-green-700 dark:text-green-300"),children:i.isPending?u.jsxs(u.Fragment,{children:[u.jsx(mt,{className:"h-4 w-4 animate-spin"}),"AI is reading the question... please wait."]}):'Image ready! Click "Crop & Insert Image" to add it to your question content.'})})]})}),_&&u.jsx(I2e,{open:B,onClose:U,imageSrc:_,onCropComplete:V}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Category"}),u.jsxs(nn,{value:y.categoryId||"none",onValueChange:F=>b(q=>({...q,categoryId:F==="none"?"":F,subCategoryId:"",category:F==="none"?"":d.find(M=>M.id.toString()===F)?.name||""})),disabled:!y.testArea,children:[u.jsx(Jt,{className:"h-10 text-xs","data-testid":"select-question-category",children:u.jsx(rn,{placeholder:"Select category"})}),u.jsxs(en,{children:[u.jsx(He,{value:"none",children:"-- None --"}),j.map(F=>u.jsx(He,{value:F.id.toString(),children:F.name},F.id))]})]})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Sub Category"}),u.jsxs(nn,{value:y.subCategoryId||"none",onValueChange:F=>b(q=>({...q,subCategoryId:F==="none"?"":F,subCategory:F==="none"?"":h.find(M=>M.id.toString()===F)?.name||""})),disabled:!y.categoryId,children:[u.jsx(Jt,{className:"h-10 text-xs","data-testid":"select-question-subcategory",children:u.jsx(rn,{placeholder:y.categoryId?"Select sub-category":"Select category first"})}),u.jsxs(en,{children:[u.jsx(He,{value:"none",children:"-- None --"}),P.filter(F=>F.isActive).map(F=>u.jsx(He,{value:F.id.toString(),children:F.name},F.id))]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Specific Skill"}),u.jsx(ut,{value:y.specificSkill,onChange:F=>b(q=>({...q,specificSkill:F.target.value})),className:"h-10 text-xs",placeholder:"e.g. Linear Equations"})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Me,{className:"text-xs",children:"Difficulty"}),u.jsxs(nn,{value:y.difficulty,onValueChange:F=>b(q=>({...q,difficulty:F})),children:[u.jsx(Jt,{className:"h-10 text-xs",children:u.jsx(rn,{placeholder:"Difficulty"})}),u.jsxs(en,{children:[u.jsx(He,{value:"1",children:"1 - Very Easy"}),u.jsx(He,{value:"2",children:"2 - Easy"}),u.jsx(He,{value:"3",children:"3 - Medium"}),u.jsx(He,{value:"4",children:"4 - Hard"}),u.jsx(He,{value:"5",children:"5 - Expert"})]})]})]})]}),u.jsxs("div",{className:"space-y-2 max-w-full overflow-hidden",children:[u.jsx(Me,{children:"Question Content"}),u.jsx("div",{className:"w-full overflow-x-hidden",children:u.jsx($1,{content:y.content,onChange:F=>b(q=>({...q,content:F})),placeholder:"Enter question text here... (you can paste images directly)"})})]}),y.type==="mcq"&&u.jsxs("div",{className:"space-y-3 p-3 rounded-xl border bg-muted/10",children:[u.jsxs(Me,{className:"text-sm font-bold flex items-center gap-2",children:[u.jsx(s5,{className:"w-4 h-4 text-primary"})," Options & Correct Answer"]}),u.jsx("div",{className:"space-y-2",children:y.options.map((F,q)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("div",{className:"flex items-center justify-center w-8 h-9 rounded-lg bg-muted text-xs font-bold shrink-0",children:String.fromCharCode(65+q)}),u.jsx(ut,{placeholder:`Option ${String.fromCharCode(65+q)}`,value:F,className:"h-9 flex-1",onChange:M=>{const D=[...y.options];D[q]=M.target.value,b(Q=>({...Q,options:D}))}}),y.options.length>2&&u.jsx("button",{type:"button",onClick:()=>{const M=y.options.filter((D,Q)=>Q!==q);b(D=>({...D,options:M,correctAnswer:D.correctAnswer===String.fromCharCode(65+q)?"":D.correctAnswer}))},className:"w-9 h-9 rounded-lg bg-destructive/10 text-destructive hover:bg-destructive/20 flex items-center justify-center",children:u.jsx(xce,{className:"w-4 h-4"})})]},q))}),u.jsxs("button",{type:"button",onClick:()=>b(F=>({...F,options:[...F.options,""]})),className:"flex items-center gap-2 text-sm text-primary hover:underline",children:[u.jsx(Ia,{className:"w-4 h-4"})," Add Option"]}),u.jsxs("div",{className:"pt-2",children:[u.jsx(Me,{className:"text-xs mb-1.5 block",children:"Select Correct Answer"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:y.options.filter(F=>F).map((F,q)=>{const M=String.fromCharCode(65+q);return u.jsxs("button",{type:"button",onClick:()=>b(D=>({...D,correctAnswer:M})),className:`px-3 py-2 rounded-lg text-sm font-medium border-2 transition-all break-words text-left flex items-start gap-2 ${y.correctAnswer===M?"border-primary bg-primary text-primary-foreground shadow-md":"border-border bg-background hover:border-primary/50"}`,children:[u.jsxs("span",{className:"shrink-0",children:[M,"."]}),u.jsx("span",{className:"line-clamp-2",children:F})]},q)})})]})]}),u.jsxs("div",{className:"space-y-2 max-w-full overflow-hidden",children:[u.jsx(Me,{children:"Explanation & Step-by-Step Resolution"}),u.jsx("div",{className:"w-full overflow-x-hidden",children:u.jsx($1,{content:y.explanation,onChange:F=>b(q=>({...q,explanation:F})),placeholder:"Explain the logic behind the correct answer... (you can paste images directly)"})})]}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-3 pt-4 border-t sticky bottom-0 bg-background pb-4 md:pb-0 md:static z-10",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2 w-full md:w-auto md:flex md:flex-wrap md:gap-2",children:[u.jsxs(ce,{type:"button",variant:"outline",size:"sm",disabled:s.isPending||!y.content,onClick:async()=>{try{n({title:"Cloning...",description:"AI is creating a similar question with new scenario."});const F=await s.mutateAsync({content:y.content,type:y.type,options:y.options,correctAnswer:y.correctAnswer,explanation:y.explanation,testType:y.testType,testArea:y.testArea,category:y.category,subCategory:y.subCategory,specificSkill:y.specificSkill,difficulty:y.difficulty});b(q=>({...q,id:void 0,name:y.name?`Clone of ${y.name}`:F.name||"",content:F.content||"",type:F.type,options:F.options||q.options,correctAnswer:F.correctAnswer||"",explanation:F.explanation||""})),n({title:"Cloned!",description:"New question with same logic but different scenario created."})}catch{n({variant:"destructive",title:"Clone Failed",description:"Could not create clone."})}},className:"gap-2",children:[s.isPending?u.jsx(mt,{className:"w-4 h-4 animate-spin"}):u.jsx(bO,{className:"w-4 h-4"}),"Clone"]}),u.jsxs(ce,{type:"button",variant:"outline",size:"sm",disabled:o.isPending||!y.category&&!y.testType,onClick:async()=>{try{n({title:"Generating...",description:"AI is creating a new question in this category."});const F=await o.mutateAsync({testType:y.testType,testArea:y.testArea,category:y.category,subCategory:y.subCategory,difficulty:y.difficulty});b(q=>({...q,id:void 0,name:F.name||"",content:F.content||"",type:F.type,options:F.options||q.options,correctAnswer:F.correctAnswer||"",explanation:F.explanation||""})),n({title:"Generated!",description:"New question created in the same category."})}catch{n({variant:"destructive",title:"Generate Failed",description:"Could not generate question."})}},className:"gap-2",children:[o.isPending?u.jsx(mt,{className:"w-4 h-4 animate-spin"}):u.jsx(rc,{className:"w-4 h-4"}),"Generate"]}),e&&u.jsxs(ce,{type:"button",variant:"outline",size:"sm",onClick:x,disabled:r.isPending,className:"gap-2","data-testid":"button-duplicate-question",children:[u.jsx(nce,{className:"w-4 h-4"}),"Duplicate"]}),e&&u.jsxs(My,{children:[u.jsx(Iy,{asChild:!0,children:u.jsxs(ce,{type:"button",variant:"destructive",size:"sm",disabled:r.isPending,className:"gap-2 w-full md:w-auto","data-testid":"button-archive-question",children:[u.jsx(Lq,{className:"w-4 h-4"}),"Archive"]})}),u.jsxs(Ph,{children:[u.jsxs(Th,{children:[u.jsx(jh,{children:"Archive this question?"}),u.jsx(Eh,{children:"This will hide it from your normal question bank list."})]}),u.jsxs(Ah,{children:[u.jsx(Oh,{children:"Cancel"}),u.jsx(kh,{onClick:()=>{S()},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Archive"})]})]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-muted-foreground hover:bg-muted rounded-lg transition-colors",children:"Cancel"}),u.jsxs("button",{type:"submit",disabled:r.isPending||!y.content,className:"px-8 py-2.5 rounded-xl font-bold bg-primary text-primary-foreground shadow-lg shadow-primary/25 hover:shadow-xl hover:-translate-y-0.5 transition-all disabled:opacity-50 flex items-center gap-2",children:[r.isPending?u.jsx(mt,{className:"w-4 h-4 animate-spin"}):u.jsx(Vr,{className:"w-4 h-4"}),"Save"]})]})]})]})})]})})}function kke(){const[,t]=Vb("/parent/tests/:id"),e=Number(t?.id),[,n]=vo(),{data:r,isLoading:i}=qme(e),{data:s,isLoading:o}=Ka();if(i||o)return u.jsx("div",{className:"min-h-[400px] flex items-center justify-center",children:u.jsx(mt,{className:"w-8 h-8 animate-spin text-primary"})});if(!r)return u.jsxs("div",{className:"p-8 text-center",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Test not found"}),u.jsx(ce,{onClick:()=>n("/parent/tests"),variant:"ghost",children:"Back to Tests"})]});const a=s?.filter(d=>r.assignedStudentIds?.includes(d.id)),l=r.expiresAt&&new Date(r.expiresAt)<new Date,c=d=>{if(!d)return"";const h=document.createElement("DIV");return h.innerHTML=d,(h.textContent||h.innerText||"").replace(/\s+/g," ").trim()};return u.jsxs("div",{className:"space-y-8 pb-12",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>n("/parent/tests"),className:"rounded-full",children:u.jsx(Wb,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-display font-bold",children:r.title}),u.jsx("p",{className:"text-muted-foreground",children:r.description||"No description provided."})]})]}),l&&u.jsxs(Ft,{variant:"destructive",className:"flex items-center gap-1 w-fit",children:[u.jsx(jm,{className:"w-3 h-3"})," Expired"]})]}),u.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[u.jsxs(Ye,{className:"md:col-span-2",children:[u.jsx(jt,{children:u.jsxs(_t,{children:["Questions (",r.questions?.length||0,")"]})}),u.jsx(Je,{className:"space-y-4",children:r.questions?.map((d,h)=>{const m=c(d.content),g=m.length>100?m.substring(0,100)+"...":m;return u.jsxs("div",{className:"p-4 rounded-xl border border-border bg-muted/30 flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[u.jsxs(Ft,{variant:"outline",className:"font-mono text-[10px] shrink-0",children:["Q",h+1]}),u.jsx("p",{className:"text-sm text-muted-foreground truncate",children:g})]}),u.jsxs("div",{className:"flex gap-2 shrink-0",children:[u.jsx(Ft,{variant:"secondary",className:"text-[10px] uppercase",children:d.subject}),u.jsx(Ft,{variant:"outline",className:"text-[10px] uppercase",children:d.type})]})]},d.id)})})]}),u.jsx("div",{className:"space-y-6",children:u.jsxs(Ye,{children:[u.jsx(jt,{children:u.jsx(_t,{children:"Assignment & Settings"})}),u.jsxs(Je,{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col gap-2 py-2 border-b border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(SO,{className:"w-4 h-4"})," Assigned Students"]}),u.jsx("div",{className:"flex flex-wrap gap-1",children:a&&a.length>0?a.map(d=>u.jsx(Ft,{variant:"secondary",className:"text-[10px]",children:d.firstName},d.id)):u.jsx("span",{className:"text-sm font-medium",children:"None"})})]}),u.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(dx,{className:"w-4 h-4"})," Expiry"]}),u.jsx("span",{className:`text-sm font-medium ${l?"text-destructive":""}`,children:r.expiresAt?new Date(r.expiresAt).toLocaleString():"No Expiry"})]}),u.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(dx,{className:"w-4 h-4"})," Created"]}),u.jsx("span",{className:"text-sm font-medium",children:new Date(r.createdAt).toLocaleDateString()})]}),u.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(Pu,{className:"w-4 h-4"})," Duration"]}),u.jsx("span",{className:"text-sm font-medium",children:r.duration?`${r.duration} mins`:"Untimed"})]}),u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(Hq,{className:"w-4 h-4"})," Public Access"]}),u.jsx(Ft,{variant:r.isPublic?"default":"secondary",children:r.isPublic?"Enabled":"Disabled"})]}),r.isPublic&&u.jsxs("div",{className:"mt-4 p-4 bg-primary/5 rounded-xl border border-primary/10 space-y-3",children:[u.jsx("p",{className:"text-xs font-bold text-primary uppercase tracking-wider text-center",children:"Public Passcode"}),u.jsx("p",{className:"text-3xl font-mono font-bold text-center tracking-[0.5em]",children:r.passcode||"None"})]})]})]})})]})]})}const Oke={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:241|349)0\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|91(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79]))))\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:55|6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|8)\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|8(?:28[235-7]|3))|73179|807(?:1|9[1-3])|(?:1552|6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689])\\d|8(?:[14-6]\\d|2[0-79]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["16|[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["18[06]","18[06]0"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:[19]|2[2-46-9]|3[3-9])|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:(?:18|4[0679]|5[03])\\d|2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9]))\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[016-8]\\d|2[0-8]|5[0-5]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|[67]\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[67]"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[25-7]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[25-7]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:[0-57-9]\\d|66)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["\\d"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-3]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};var MN={exports:{}},IN,Z6;function $ke(){if(Z6)return IN;Z6=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return IN=t,IN}var RN,J6;function _ke(){if(J6)return RN;J6=1;var t=$ke();function e(){}function n(){}return n.resetWarningCache=e,RN=function(){function r(o,a,l,c,d,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},RN}var e9;function Mke(){return e9||(e9=1,MN.exports=_ke()()),MN.exports}var Ike=Mke();const fe=Zt(Ike);var DN={exports:{}};var t9;function Rke(){return t9||(t9=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(DN)),DN.exports}var Dke=Rke();const I1=Zt(Dke);function Lke(t,e,n){switch(n){case"Backspace":e>0&&(t=t.slice(0,e-1)+t.slice(e),e--);break;case"Delete":t=t.slice(0,e)+t.slice(e+1);break}return{value:t,caret:e}}function Fke(t,e,n){for(var r={},i="",s=0,o=0;o<t.length;){var a=n(t[o],i,r);a!==void 0&&(i+=a,e!==void 0&&(e===o?s=i.length-1:e>o&&(s=i.length))),o++}e===void 0&&(s=i.length);var l={value:i,caret:s};return l}function Bke(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Vke(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vke(t,e){if(t){if(typeof t=="string")return n9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n9(t,e)}}function n9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ck(t,e){for(var n=0,r=Bke(e.split("")),i;!(i=r()).done;){var s=i.value;s===t&&n++}return n}function zke(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"x",r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=t.length,s=Ck("(",t),o=Ck(")",t),a=s-o;a>0&&i<e.length;)t+=e[i].replace(n,r),e[i]===")"&&a--,i++;return t}function Uke(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=qke(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qke(t,e){if(t){if(typeof t=="string")return r9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r9(t,e)}}function r9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hke(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",n=arguments.length>2?arguments[2]:void 0;if(!t)return function(i){return{text:i}};var r=Ck(e,t);return function(i){if(!i)return{text:"",template:t};for(var s=0,o="",a=Uke(t.split("")),l;!(l=a()).done;){var c=l.value;if(c!==e){o+=c;continue}if(o+=i[s],s++,s===i.length&&i.length<r)break}return n&&(o=zke(o,t)),{text:o,template:t}}}function Wke(t,e,n){typeof n=="string"&&(n=Hke(n));var r=n(t)||{},i=r.text,s=r.template;if(i===void 0&&(i=t),s)if(e===void 0)e=i.length;else{for(var o=0,a=!1,l=-1;o<i.length&&o<s.length;){if(i[o]!==s[o]){if(e===0){a=!0,e=o;break}l=o,e--}o++}a||(e=l+1)}return{text:i,caret:e}}function Kke(t){return t.hasAttribute("readonly")}function Gke(t){if(t.selectionStart!==t.selectionEnd)return{start:t.selectionStart,end:t.selectionEnd}}var i9={Backspace:8,Delete:46};function Qke(t){switch(t.keyCode){case i9.Backspace:return"Backspace";case i9.Delete:return"Delete"}}function Yke(t){return t.selectionStart}function ute(t,e){e!==void 0&&(Xke()?setTimeout(function(){return t.setSelectionRange(e,e)},0):t.setSelectionRange(e,e))}function Xke(){if(typeof navigator<"u")return Zke.test(navigator.userAgent)}var Zke=/Android/i;function Jke(t,e,n,r,i){Nk(e,n,r,void 0,i)}function e3e(t,e,n,r,i){if(!Kke(e)){var s=Qke(t);switch(s){case"Delete":case"Backspace":t.preventDefault();var o=Gke(e);return o?(t3e(e,o),Nk(e,n,r,void 0,i)):Nk(e,n,r,s,i)}}}function t3e(t,e){var n=t.value;n=n.slice(0,e.start)+n.slice(e.end),t.value=n,ute(t,e.start)}function Nk(t,e,n,r,i){var s=Fke(t.value,Yke(t),e),o=s.value,a=s.caret;if(r){var l=Lke(o,a,r);o=l.value,a=l.caret}var c=Wke(o,a,n),d=c.text;a=c.caret,t.value=d,ute(t,a),i&&i(o)}var n3e=["ref","parse","format","value","defaultValue","controlled","onChange","onKeyDown"];function s9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s9(Object(n),!0).forEach(function(r){r3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r3e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i3e(t,e){if(t==null)return{};var n=s3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s3e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function o3e(t){var e=t.ref,n=t.parse,r=t.format,i=t.value,s=t.defaultValue,o=t.controlled,a=o===void 0?!0:o,l=t.onChange,c=t.onKeyDown,d=i3e(t,n3e),h=C.useRef(),m=C.useCallback(function(x){h.current=x,e&&(typeof e=="function"?e(x):e.current=x)},[e]),g=C.useCallback(function(x){return Jke(x,h.current,n,r,l)},[h,n,r,l]),y=C.useCallback(function(x){if(c&&c(x),!x.defaultPrevented)return e3e(x,h.current,n,r,l)},[h,n,r,l,c]),b=Rd(Rd({},d),{},{ref:m,onChange:g,onKeyDown:y});return a?Rd(Rd({},b),{},{value:r(o9(i)?"":i).text}):Rd(Rd({},b),{},{defaultValue:r(o9(s)?"":s).text})}function o9(t){return t==null}var a3e=["inputComponent","parse","format","value","defaultValue","onChange","controlled","onKeyDown","type"];function a9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l3e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a9(Object(n),!0).forEach(function(r){c3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c3e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u3e(t,e){if(t==null)return{};var n=d3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d3e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function R1(t,e){var n=t.inputComponent,r=n===void 0?"input":n,i=t.parse,s=t.format,o=t.value,a=t.defaultValue,l=t.onChange,c=t.controlled,d=t.onKeyDown,h=t.type,m=h===void 0?"text":h,g=u3e(t,a3e),y=o3e(l3e({ref:e,parse:i,format:s,value:o,defaultValue:a,onChange:l,controlled:c,onKeyDown:d,type:m},g));return H.createElement(r,y)}R1=H.forwardRef(R1);R1.propTypes={parse:fe.func.isRequired,format:fe.func.isRequired,inputComponent:fe.elementType,type:fe.string,value:fe.string,defaultValue:fe.string,onChange:fe.func,controlled:fe.bool,onKeyDown:fe.func,onCut:fe.func,onPaste:fe.func};function l9(t,e){t=t.split("-"),e=e.split("-");for(var n=t[0].split("."),r=e[0].split("."),i=0;i<3;i++){var s=Number(n[i]),o=Number(r[i]);if(s>o)return 1;if(o>s)return-1;if(!isNaN(s)&&isNaN(o))return 1;if(isNaN(s)&&!isNaN(o))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var f3e={}.constructor;function xu(t){return t!=null&&t.constructor===f3e}function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function zw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h3e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p3e(r.key),r)}}function Uw(t,e,n){return e&&h3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p3e(t){var e=m3e(t,"string");return zf(e)=="symbol"?e:e+""}function m3e(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var g3e="1.2.0",y3e="1.7.35",c9=" ext. ",v3e=/^\d+$/,nr=(function(){function t(e){zw(this,t),dte(e),this.metadata=e,hte.call(this,e)}return Uw(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var r=this.countryCallingCodes()[n];if(r&&r.length===1&&r[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,r){if(n&&v3e.test(n)&&(r=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new u9(this.getCountryMetadata(n),this)}else if(r){if(!this.hasCallingCode(r))throw new Error("Unknown calling code: ".concat(r));this.numberingPlan=new u9(this.getNumberingPlanMetadata(r),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var r=this.countryCallingCodes()[n];if(r)return r.length===1&&r[0].length===3?void 0:r}},{key:"getCountryCodeForCallingCode",value:function(n){var r=this.getCountryCodesForCallingCode(n);if(r)return r[0]}},{key:"getNumberingPlanMetadata",value:function(n){var r=this.getCountryCodeForCallingCode(n);if(r)return this.getCountryMetadata(r);if(this.nonGeographic()){var i=this.nonGeographic()[n];if(i)return i}else{var s=this.countryCallingCodes()[n];if(s&&s.length===1&&s[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])})(),u9=(function(){function t(e,n){zw(this,t),this.globalMetadataObject=n,this.metadata=e,hte.call(this,n.metadata)}return Uw(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,r=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return r.map(function(i){return new x3e(i,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&d9(this.types(),n))return new w3e(d9(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?c9:this.metadata[13]||c9}}])})(),x3e=(function(){function t(e,n){zw(this,t),this._format=e,this.metadata=n}return Uw(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!b3e.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])})(),b3e=/^\(?\$1\)?$/,w3e=(function(){function t(e,n){zw(this,t),this.type=e,this.metadata=n}return Uw(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])})();function d9(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function dte(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!xu(t)||!xu(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(xu(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+S3e(t)+": "+t,"."))}var S3e=function(e){return zf(e)};function Nc(t,e){if(e=new nr(e),e.hasCountry(t))return e.selectNumberingPlan(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function fte(t,e){return e.countries.hasOwnProperty(t)}function hte(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?l9(e,g3e)===-1?this.v2=!0:l9(e,y3e)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function qw(t,e,n){return C3e(t,e,void 0,n)}function C3e(t,e,n,r){e&&(r=new nr(r.metadata),r.selectNumberingPlan(e));var i=r.type(n),s=i&&i.possibleLengths()||r.possibleLengths();if(!s)return"IS_POSSIBLE";var o=t.length,a=s[0];return a===o?"IS_POSSIBLE":a>o?"TOO_SHORT":s[s.length-1]<o?"TOO_LONG":s.indexOf(o,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function N3e(t,e,n){if(e===void 0&&(e={}),n=new nr(n),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.selectNumberingPlan(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}}if(n.possibleLengths())return pte(t.phone||t.nationalNumber,t.country,n);if(t.countryCallingCode&&n.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function pte(t,e,n){return qw(t,e,n)==="IS_POSSIBLE"}function za(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function P3e(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=T3e(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T3e(t,e){if(t){if(typeof t=="string")return f9(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f9(t,e):void 0}}function f9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var A3e=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function U_(t,e,n){if(e=e||{},!(!t.country&&!t.countryCallingCode)){n=new nr(n),n.selectNumberingPlan(t.country,t.countryCallingCode);var r=e.v2?t.nationalNumber:t.phone;if(za(r,n.nationalNumberPattern())){if(LN(r,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||LN(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=P3e(A3e),s;!(s=i()).done;){var o=s.value;if(LN(r,o,n))return o}}}}function LN(t,e,n){return e=n.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:za(t,e.pattern())}function j3e(t,e,n){if(e=e||{},n=new nr(n),n.selectNumberingPlan(t.country,t.countryCallingCode),n.hasTypes())return U_(t,e,n.metadata)!==void 0;var r=e.v2?t.nationalNumber:t.phone;return za(r,n.nationalNumberPattern())}function E3e(t,e,n){var r=new nr(n),i=r.getCountryCodesForCallingCode(t);return i?i.filter(function(s){return k3e(e,s,n)}):[]}function k3e(t,e,n){var r=new nr(n);return r.selectNumberingPlan(e),r.numberingPlan.possibleLengths().indexOf(t.length)>=0}var q_=2,O3e=17,$3e=3,Ni="0-9---",_3e="--",M3e="/",I3e=".",R3e=" ",D3e="()\\[\\]",L3e="~",uo="".concat(_3e).concat(M3e).concat(I3e).concat(R3e).concat(D3e).concat(L3e),Hw="+",F3e=new RegExp("(["+Ni+"])");function mte(t,e,n,r){if(e){var i=new nr(r);i.selectNumberingPlan(e,n);var s=new RegExp(i.IDDPrefix());if(t.search(s)===0){t=t.slice(t.match(s)[0].length);var o=t.match(F3e);if(!(o&&o[1]!=null&&o[1].length>0&&o[1]==="0"))return t}}}function Pk(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(t);if(r){var i,s,o=r.length-1,a=o>0&&r[o];if(e.nationalPrefixTransformRule()&&a)i=t.replace(n,e.nationalPrefixTransformRule()),o>1&&(s=r[1]);else{var l=r[0];i=t.slice(l.length),a&&(s=r[1])}var c;if(a){var d=t.indexOf(r[1]),h=t.slice(0,d);h===e.numberingPlan.nationalPrefix()&&(c=e.numberingPlan.nationalPrefix())}else c=r[0];return{nationalNumber:i,nationalPrefix:c,carrierCode:s}}}return{nationalNumber:t}}function B3e(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=V3e(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V3e(t,e){if(t){if(typeof t=="string")return h9(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h9(t,e):void 0}}function h9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function gte(t,e){var n=e.countries,r=e.metadata;r=new nr(r);for(var i=B3e(n),s;!(s=i()).done;){var o=s.value;if(r.selectNumberingPlan(o),r.leadingDigits()){if(t&&t.search(r.leadingDigits())===0)return o}else if(U_({phone:t,country:o},void 0,r.metadata))return o}}function H_(t,e){var n=e.nationalNumber,r=e.metadata,i=r.getCountryCodesForCallingCode(t);if(i)return i.length===1?i[0]:gte(n,{countries:i,metadata:r.metadata})}function Tk(t,e,n){var r=Pk(t,n),i=r.carrierCode,s=r.nationalNumber;if(s!==t){if(!z3e(t,s,n))return{nationalNumber:t};if(n.numberingPlan.possibleLengths()&&(e||(e=H_(n.numberingPlan.callingCode(),{nationalNumber:s,metadata:n})),!U3e(s,e,n)))return{nationalNumber:t}}return{nationalNumber:s,carrierCode:i}}function z3e(t,e,n){return!(za(t,n.nationalNumberPattern())&&!za(e,n.nationalNumberPattern()))}function U3e(t,e,n){switch(qw(t,e,n)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function yte(t,e,n,r,i){var s=e||n?Nc(e||n,i):r;if(t.indexOf(s)===0){i=new nr(i),i.selectNumberingPlan(e||n,s);var o=t.slice(s.length),a=Tk(o,e,i),l=a.nationalNumber,c=Tk(t,e,i),d=c.nationalNumber;if(!za(d,i.nationalNumberPattern())&&za(l,i.nationalNumberPattern())||qw(d,e,i)==="TOO_LONG")return{countryCallingCode:s,number:o}}return{number:t}}function W_(t,e,n,r,i){if(!t)return{};var s;if(t[0]!=="+"){var o=mte(t,e||n,r,i);if(o&&o!==t)s=!0,t="+"+o;else{if(e||n||r){var a=yte(t,e,n,r,i),l=a.countryCallingCode,c=a.number;if(l)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:l,number:c}}return{number:t}}}if(t[1]==="0")return{};i=new nr(i);for(var d=2;d-1<=$3e&&d<=t.length;){var h=t.slice(1,d);if(i.hasCallingCode(h))return i.selectNumberingPlan(h),{countryCallingCodeSource:s?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:h,number:t.slice(d)};d++}return{}}function vte(t){return t.replace(new RegExp("[".concat(uo,"]+"),"g")," ").trim()}var xte=/(\$\d)/;function bte(t,e,n){var r=n.useInternationalFormat,i=n.withNationalPrefix;n.carrierCode,n.metadata;var s=t.replace(new RegExp(e.pattern()),r?e.internationalFormat():i&&e.nationalPrefixFormattingRule()?e.format().replace(xte,e.nationalPrefixFormattingRule()):e.format());return r?vte(s):s}var q3e=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function H3e(t,e,n){var r=new nr(n);if(r.selectNumberingPlan(t,e),r.defaultIDDPrefix())return r.defaultIDDPrefix();if(q3e.test(r.IDDPrefix()))return r.IDDPrefix()}var W3e=";ext=",Dd=function(e){return"([".concat(Ni,"]{1,").concat(e,"})")};function wte(t){var e="20",n="15",r="9",i="6",s="[ \\t,]*",o="[:\\.]?[ \\t,-]*",a="#?",l="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",c="(?:[x#~]|int|)",d="[- ]+",h="[ \\t]*",m="(?:,{2}|;)",g=W3e+Dd(e),y=s+l+o+Dd(e)+a,b=s+c+o+Dd(r)+a,x=d+Dd(i)+"#",S=h+m+o+Dd(n)+a,N=h+"(?:,)+"+o+Dd(r)+a;return g+"|"+y+"|"+b+"|"+x+"|"+S+"|"+N}var K3e="["+Ni+"]{"+q_+"}",G3e="["+Hw+"]{0,1}(?:["+uo+"]*["+Ni+"]){3,}["+uo+Ni+"]*",Q3e=new RegExp("^["+Hw+"]{0,1}(?:["+uo+"]*["+Ni+"]){1,2}$","i"),Y3e=G3e+"(?:"+wte()+")?",X3e=new RegExp("^"+K3e+"$|^"+Y3e+"$","i");function Z3e(t){return t.length>=q_&&X3e.test(t)}function J3e(t){return Q3e.test(t)}function eOe(t){var e=t.number,n=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(n?";ext="+n:"")}var p9={formatExtension:function(e,n,r){return"".concat(e).concat(r.ext()).concat(n)}};function tOe(t,e,n,r){if(n?n=iOe({},p9,n):n=p9,r=new nr(r),t.country&&t.country!=="001"){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.selectNumberingPlan(t.country)}else if(t.countryCallingCode)r.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var i=r.countryCallingCode(),s=n.v2?t.nationalNumber:t.phone,o;switch(e){case"NATIONAL":return s?(o=D1(s,t.carrierCode,"NATIONAL",r,n),FN(o,t.ext,r,n.formatExtension)):"";case"INTERNATIONAL":return s?(o=D1(s,null,"INTERNATIONAL",r,n),o="+".concat(i," ").concat(o),FN(o,t.ext,r,n.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(s);case"RFC3966":return eOe({number:"+".concat(i).concat(s),ext:t.ext});case"IDD":if(!n.fromCountry)return;var a=rOe(s,t.carrierCode,i,n.fromCountry,r);return a?FN(a,t.ext,r,n.formatExtension):void 0;default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function D1(t,e,n,r,i){var s=nOe(r.formats(),t);return s?bte(t,s,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(s.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:e,metadata:r}):t}function nOe(t,e){return sOe(t,function(n){if(n.leadingDigitsPatterns().length>0){var r=n.leadingDigitsPatterns()[n.leadingDigitsPatterns().length-1];if(e.search(r)!==0)return!1}return za(e,n.pattern())})}function FN(t,e,n,r){return e?r(t,e,n):t}function rOe(t,e,n,r,i){var s=Nc(r,i.metadata);if(s===n){var o=D1(t,e,"NATIONAL",i);return n==="1"?n+" "+o:o}var a=H3e(r,void 0,i.metadata);if(a)return"".concat(a," ").concat(n," ").concat(D1(t,null,"INTERNATIONAL",i))}function iOe(){for(var t=1,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(;t<n.length;){if(n[t])for(var i in n[t])n[0][i]=n[t][i];t++}return n[0]}function sOe(t,e){for(var n=0;n<t.length;){if(e(t[n]))return t[n];n++}}function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function m9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m9(Object(n),!0).forEach(function(r){oOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oOe(t,e,n){return(e=Ste(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ste(r.key),r)}}function cOe(t,e,n){return e&&lOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ste(t){var e=uOe(t,"string");return yg(e)=="symbol"?e:e+""}function uOe(t,e){if(yg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cte=(function(){function t(e,n,r){if(aOe(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(xu(n)&&xu(n.countries)){r=n;var i=e;if(!hOe.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var s=W_(i,void 0,void 0,void 0,r),o=s.countryCallingCode,a=s.number;if(n=a,e=o,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");dte(r);var l=fOe(e,r),c=l.country,d=l.countryCallingCode;this.country=c,this.countryCallingCode=d,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}return cOe(t,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:E3e(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return N3e(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return j3e(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new nr(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return U_(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,r){return tOe(this,n,r?g9(g9({},r),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])})(),dOe=function(e){return/^[A-Z]{2}$/.test(e)};function fOe(t,e){var n,r,i=new nr(e);return dOe(t)?(n=t,i.selectNumberingPlan(n),r=i.countryCallingCode()):r=t,{country:n,countryCallingCode:r}}var hOe=/^\+\d+$/;function Ak(t){"@babel/helpers - typeof";return Ak=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ak(t)}function pOe(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function mOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gOe(t,e,n){return e=xg(e),yOe(t,K_()?Reflect.construct(e,n||[],xg(t).constructor):e.apply(t,n))}function yOe(t,e){if(e&&(Ak(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vOe(t)}function vOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vg(t,e)}function jk(t){var e=typeof Map=="function"?new Map:void 0;return jk=function(r){if(r===null||!wOe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return bOe(r,arguments,xg(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),vg(i,r)},jk(t)}function bOe(t,e,n){if(K_())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&vg(i,n.prototype),i}function K_(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K_=function(){return!!t})()}function wOe(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function vg(t,e){return vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vg(t,e)}function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xg(t)}var xa=(function(t){function e(n){var r;return mOe(this,e),r=gOe(this,e,[n]),Object.setPrototypeOf(r,e.prototype),r.name=r.constructor.name,r}return xOe(e,t),pOe(e)})(jk(Error)),y9=new RegExp("(?:"+wte()+")$","i");function SOe(t){var e=t.search(y9);if(e<0)return{};for(var n=t.slice(0,e),r=t.match(y9),i=1;i<r.length;){if(r[i])return{number:n,ext:r[i]};i++}}function COe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=NOe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NOe(t,e){if(t){if(typeof t=="string")return v9(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v9(t,e):void 0}}function v9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var POe={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function Nte(t){return POe[t]}function L1(t){for(var e="",n=COe(t.split("")),r;!(r=n()).done;){var i=r.value,s=Nte(i);s&&(e+=s)}return e}function TOe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=AOe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AOe(t,e){if(t){if(typeof t=="string")return x9(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x9(t,e):void 0}}function x9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ek(t){for(var e="",n=TOe(t.split("")),r;!(r=n()).done;){var i=r.value;e+=Pte(i,e)||""}return e}function Pte(t,e,n){if(t==="+"){if(e){typeof n=="function"&&n("end");return}return"+"}return Nte(t)}var Tte="+",jOe="[\\-\\.\\(\\)]?",b9="(["+Ni+"]|"+jOe+")",EOe="^\\"+Tte+b9+"*["+Ni+"]"+b9+"*$",kOe=new RegExp(EOe,"g"),kk=Ni,OOe="["+kk+"]+((\\-)*["+kk+"])*",$Oe="a-zA-Z",_Oe="["+$Oe+"]+((\\-)*["+kk+"])*",MOe="^("+OOe+"\\.)*"+_Oe+"\\.?$",IOe=new RegExp(MOe,"g"),w9="tel:",Ok=";phone-context=",ROe=";isub=";function DOe(t){var e=t.indexOf(Ok);if(e<0)return null;var n=e+Ok.length;if(n>=t.length)return"";var r=t.indexOf(";",n);return r>=0?t.substring(n,r):t.substring(n)}function LOe(t){return t===null?!0:t.length===0?!1:kOe.test(t)||IOe.test(t)}function FOe(t,e){var n=e.extractFormattedPhoneNumber,r=DOe(t);if(!LOe(r))throw new xa("NOT_A_NUMBER");var i;if(r===null)i=n(t)||"";else{i="",r.charAt(0)===Tte&&(i+=r);var s=t.indexOf(w9),o;s>=0?o=s+w9.length:o=0;var a=t.indexOf(Ok);i+=t.substring(o,a)}var l=i.indexOf(ROe);if(l>0&&(i=i.substring(0,l)),i!=="")return i}var BOe=250,VOe=new RegExp("["+Hw+Ni+"]"),zOe=new RegExp("[^"+Ni+"#]+$");function UOe(t,e,n){if(e=e||{},n=new nr(n),e.defaultCountry&&!n.hasCountry(e.defaultCountry))throw e.v2?new xa("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var r=HOe(t,e.v2,e.extract),i=r.number,s=r.ext,o=r.error;if(!i){if(e.v2)throw o==="TOO_SHORT"?new xa("TOO_SHORT"):new xa("NOT_A_NUMBER");return{}}var a=KOe(i,e.defaultCountry,e.defaultCallingCode,n),l=a.country,c=a.nationalNumber,d=a.countryCallingCode,h=a.countryCallingCodeSource,m=a.carrierCode;if(!n.hasSelectedNumberingPlan()){if(e.v2)throw new xa("INVALID_COUNTRY");return{}}if(!c||c.length<q_){if(e.v2)throw new xa("TOO_SHORT");return{}}if(c.length>O3e){if(e.v2)throw new xa("TOO_LONG");return{}}if(e.v2){var g=new Cte(d,c,n.metadata);return l&&(g.country=l),m&&(g.carrierCode=m),s&&(g.ext=s),g.__countryCallingCodeSource=h,g}var y=(e.extended?n.hasSelectedNumberingPlan():l)?za(c,n.nationalNumberPattern()):!1;return e.extended?{country:l,countryCallingCode:d,carrierCode:m,valid:y,possible:y?!0:!!(e.extended===!0&&n.possibleLengths()&&pte(c,l,n)),phone:c,ext:s}:y?WOe(l,c,s):{}}function qOe(t,e,n){if(t){if(t.length>BOe){if(n)throw new xa("TOO_LONG");return}if(e===!1)return t;var r=t.search(VOe);if(!(r<0))return t.slice(r).replace(zOe,"")}}function HOe(t,e,n){var r=FOe(t,{extractFormattedPhoneNumber:function(o){return qOe(o,n,e)}});if(!r)return{};if(!Z3e(r))return J3e(r)?{error:"TOO_SHORT"}:{};var i=SOe(r);return i.ext?i:{number:r}}function WOe(t,e,n){var r={country:t,phone:e};return n&&(r.ext=n),r}function KOe(t,e,n,r){var i=W_(Ek(t),void 0,e,n,r.metadata),s=i.countryCallingCodeSource,o=i.countryCallingCode,a=i.number,l;if(o)r.selectNumberingPlan(o);else if(a&&(e||n))r.selectNumberingPlan(e,n),e&&(l=e),o=n||Nc(e,r.metadata);else return{};if(!a)return{countryCallingCodeSource:s,countryCallingCode:o};var c=Tk(Ek(a),l,r),d=c.nationalNumber,h=c.carrierCode,m=H_(o,{nationalNumber:d,metadata:r});return m&&(l=m,m==="001"||r.selectNumberingPlan(l)),{country:l,countryCallingCode:o,countryCallingCodeSource:s,nationalNumber:d,carrierCode:h}}function bg(t){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(t)}function S9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S9(Object(n),!0).forEach(function(r){GOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GOe(t,e,n){return(e=QOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QOe(t){var e=YOe(t,"string");return bg(e)=="symbol"?e:e+""}function YOe(t,e){if(bg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XOe(t,e,n){return UOe(t,C9(C9({},e),{},{v2:!0}),n)}function wg(t){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}function N9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZOe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N9(Object(n),!0).forEach(function(r){JOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JOe(t,e,n){return(e=e$e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e$e(t){var e=t$e(t,"string");return wg(e)=="symbol"?e:e+""}function t$e(t,e){if(wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n$e(t,e){return o$e(t)||s$e(t,e)||i$e(t,e)||r$e()}function r$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i$e(t,e){if(t){if(typeof t=="string")return P9(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P9(t,e):void 0}}function P9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function s$e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function o$e(t){if(Array.isArray(t))return t}function a$e(t){var e=Array.prototype.slice.call(t),n=n$e(e,4),r=n[0],i=n[1],s=n[2],o=n[3],a,l,c;if(typeof r=="string")a=r;else throw new TypeError("A text for parsing must be a string.");if(!i||typeof i=="string")o?(l=s,c=o):(l=void 0,c=s),i&&(l=ZOe({defaultCountry:i},l));else if(xu(i))s?(l=i,c=s):c=i;else throw new Error("Invalid second argument: ".concat(i));return{text:a,options:l,metadata:c}}function Sg(t){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}function T9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T9(Object(n),!0).forEach(function(r){l$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l$e(t,e,n){return(e=c$e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c$e(t){var e=u$e(t,"string");return Sg(e)=="symbol"?e:e+""}function u$e(t,e){if(Sg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d$e(t,e,n){e&&e.defaultCountry&&!fte(e.defaultCountry,n)&&(e=A9(A9({},e),{},{defaultCountry:void 0}));try{return XOe(t,e,n)}catch(r){if(!(r instanceof xa))throw r}}function f$e(){var t=a$e(arguments),e=t.text,n=t.options,r=t.metadata;return d$e(e,n,r)}function Cg(t){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function h$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p$e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g$e(r.key),r)}}function m$e(t,e,n){return e&&p$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function g$e(t){var e=y$e(t,"string");return Cg(e)=="symbol"?e:e+""}function y$e(t,e){if(Cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var v$e=(function(){function t(e){var n=e.onCountryChange,r=e.onCallingCodeChange;h$e(this,t),this.onCountryChange=n,this.onCallingCodeChange=r}return m$e(t,[{key:"reset",value:function(n){var r=n.country,i=n.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(r,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(n){for(var r=0,i=Object.keys(n);r<i.length;r++){var s=i[r];this[s]=n[s]}}},{key:"initCountryAndCallingCode",value:function(n,r){this.setCountry(n),this.setCallingCode(r)}},{key:"setCountry",value:function(n){this.country=n,this.onCountryChange(n)}},{key:"setCallingCode",value:function(n){this.callingCode=n,this.onCallingCodeChange(n,this.country)}},{key:"startInternationalNumber",value:function(n,r){this.international=!0,this.initCountryAndCallingCode(n,r)}},{key:"appendDigits",value:function(n){this.digits+=n}},{key:"appendNationalSignificantNumberDigits",value:function(n){this.nationalSignificantNumber+=n}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])})();function x$e(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=b$e(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b$e(t,e){if(t){if(typeof t=="string")return j9(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j9(t,e):void 0}}function j9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Qs="x",BN=new RegExp(Qs);function lx(t,e){if(e<1)return"";for(var n="";e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function E9(t,e){return t[e]===")"&&e++,w$e(t.slice(0,e))}function w$e(t){for(var e=[],n=0;n<t.length;)t[n]==="("?e.push(n):t[n]===")"&&e.pop(),n++;var r=0,i="";e.push(t.length);for(var s=0,o=e;s<o.length;s++){var a=o[s];i+=t.slice(r,a),r=a+1}return i}function S$e(t,e,n){for(var r=x$e(n.split("")),i;!(i=r()).done;){var s=i.value;if(t.slice(e+1).search(BN)<0)return;e=t.search(BN),t=t.replace(BN,s)}return[t,e]}function C$e(t,e,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,o=new RegExp("^(?:".concat(e.pattern(),")$"));if(o.test(t.nationalSignificantNumber))return P$e(t,e,{metadata:r,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:s})}function N$e(t,e,n){return qw(t,e,n)==="IS_POSSIBLE"}function P$e(t,e,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,i(e)){var o=k9(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:s,metadata:r});if(o)return o}return k9(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:s,metadata:r})}function k9(t,e,n){var r=n.metadata,i=n.useNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,o=bte(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:i,metadata:r});if(i||(t.nationalPrefix?o=t.nationalPrefix+s(e)+o:t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(o=t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+o)),T$e(o,t))return o}function T$e(t,e){return L1(t)===e.getNationalDigits()}function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function A$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j$e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k$e(r.key),r)}}function E$e(t,e,n){return e&&j$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k$e(t){var e=O$e(t,"string");return Ng(e)=="symbol"?e:e+""}function O$e(t,e){if(Ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $$e=(function(){function t(){A$e(this,t)}return E$e(t,[{key:"parse",value:function(n){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(n),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var r=this.context[0],i=r.branches,s=r.instructions;if(i)return{op:"|",args:i.concat([VN(s)])};if(s.length===0)throw new Error("Pattern is required");return s.length===1?s[0]:s}},{key:"startContext",value:function(n){this.context.push(n)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(n){if(!n)throw new Error("Pattern is required");var r=n.match(I$e);if(!r){if(M$e.test(n))throw new Error("Illegal characters found in a pattern: ".concat(n));this.getContext().instructions=this.getContext().instructions.concat(n.split(""));return}var i=r[1],s=n.slice(0,r.index),o=n.slice(r.index+i.length);switch(i){case"(?:":s&&this.parsePattern(s),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(s&&this.parsePattern(s),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var a=this.getContext(),l=a.branches;l.push(VN(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:l});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(s&&this.parsePattern(s),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(VN(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":s&&this.parsePattern(s),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:_$e(s)});break;default:throw new Error("Unknown operator: ".concat(i))}o&&this.parsePattern(o)}}])})();function _$e(t){for(var e=[],n=0;n<t.length;){if(t[n]==="-"){if(n===0||n===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var r=t[n-1].charCodeAt(0)+1,i=t[n+1].charCodeAt(0)-1,s=r;s<=i;)e.push(String.fromCharCode(s)),s++}else e.push(t[n]);n++}return e}var M$e=/[\(\)\[\]\?\:\|]/,I$e=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function VN(t){return t.length===1?t[0]:t}function O9(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=R$e(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R$e(t,e){if(t){if(typeof t=="string")return $9(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$9(t,e):void 0}}function $9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}function D$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L$e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B$e(r.key),r)}}function F$e(t,e,n){return e&&L$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B$e(t){var e=V$e(t,"string");return Pg(e)=="symbol"?e:e+""}function V$e(t,e){if(Pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var z$e=(function(){function t(e){D$e(this,t),this.matchTree=new $$e().parse(e)}return F$e(t,[{key:"match",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.allowOverflow;if(!n)throw new Error("String is required");var s=$k(n.split(""),this.matchTree,!0);if(s&&s.match&&delete s.matchedChars,!(s&&s.overflow&&!i))return s}}])})();function $k(t,e,n){if(typeof e=="string"){var r=t.join("");return e.indexOf(r)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:r.indexOf(e)===0?n&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var i=t.slice(),s=0;s<e.length;){var o=e[s],a=$k(i,o,n&&s===e.length-1);if(a){if(a.overflow)return a;if(a.match){if(i=i.slice(a.matchedChars.length),i.length===0)return s===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(a.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(a,null,2)))}}else return;s++}return n?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-i.length)}}switch(e.op){case"|":for(var l,c=O9(e.args),d;!(d=c()).done;){var h=d.value,m=$k(t,h,n);if(m){if(m.overflow)return m;if(m.match)return{match:!0,matchedChars:m.matchedChars};if(m.partialMatch)l=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(m,null,2)))}}return l?{partialMatch:!0}:void 0;case"[]":for(var g=O9(e.args),y;!(y=g()).done;){var b=y.value;if(t[0]===b)return t.length===1?{match:!0,matchedChars:t}:n?{overflow:!0}:{match:!0,matchedChars:[b]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function _9(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=U$e(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U$e(t,e){if(t){if(typeof t=="string")return M9(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M9(t,e):void 0}}function M9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function q$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H$e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K$e(r.key),r)}}function W$e(t,e,n){return e&&H$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K$e(t){var e=G$e(t,"string");return Tg(e)=="symbol"?e:e+""}function G$e(t,e){if(Tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _k="9",Q$e=15,Y$e=lx(_k,Q$e),X$e=/[- ]/,Z$e=function(){return/\[([^\[\]])*\]/g},J$e=function(){return/\d(?=[^,}][^,}])/g},e_e=new RegExp("["+uo+"]*\\$1["+uo+"]*(\\$\\d["+uo+"]*)*$"),I9=3,t_e=(function(){function t(e){e.state;var n=e.metadata;q$e(this,t),this.metadata=n,this.resetFormat()}return W$e(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(n,r){this.resetFormat(),n?(this.isNANP=n.callingCode()==="1",this.matchingFormats=n.formats(),r.nationalSignificantNumber&&this.narrowDownMatchingFormats(r)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(n,r){var i=this;if(N$e(r.nationalSignificantNumber,r.country,this.metadata))for(var s=_9(this.matchingFormats),o;!(o=s()).done;){var a=o.value,l=C$e(r,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(d){return i.shouldTryNationalPrefixFormattingRule(d,{international:r.international,nationalPrefix:r.nationalPrefix})},getSeparatorAfterNationalPrefix:function(d){return i.getSeparatorAfterNationalPrefix(d)}});if(l)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(l.replace(/\d/g,Qs),r),this.populatedNationalNumberTemplate=l,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Qs),l}return this.formatNationalNumberWithNextDigits(n,r)}},{key:"formatNationalNumberWithNextDigits",value:function(n,r){var i=this.chosenFormat,s=this.chooseFormat(r);if(s)return s===i?this.formatNextNationalNumberDigits(n):this.formatNextNationalNumberDigits(r.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(n){var r=this,i=n.nationalSignificantNumber,s=n.nationalPrefix,o=n.international,a=i,l=a.length-I9;l<0&&(l=0),this.matchingFormats=this.matchingFormats.filter(function(c){return r.formatSuits(c,o,s)&&r.formatMatches(c,a,l)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(n,r,i){return!(i&&!n.usesNationalPrefix()&&!n.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!r&&!i&&n.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(n,r,i){var s=n.leadingDigitsPatterns().length;if(s===0)return!0;i=Math.min(i,s-1);var o=n.leadingDigitsPatterns()[i];if(r.length<I9)try{return new z$e(o).match(r,{allowOverflow:!0})!==void 0}catch(a){return console.error(a),!0}return new RegExp("^(".concat(o,")")).test(r)}},{key:"getFormatFormat",value:function(n,r){return r?n.internationalFormat():n.format()}},{key:"chooseFormat",value:function(n){for(var r=this,i=function(){var c=a.value;return r.chosenFormat===c?0:e_e.test(r.getFormatFormat(c,n.international))?r.createTemplateForFormat(c,n)?(r.chosenFormat=c,0):(r.matchingFormats=r.matchingFormats.filter(function(d){return d!==c}),1):1},s,o=_9(this.matchingFormats.slice()),a;!(a=o()).done&&(s=i(),s!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(n,r){if(!(n.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(n,r);if(i)return this.setNationalNumberTemplate(i,r),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(n){return this.isNANP||n&&n.nationalPrefixFormattingRule()&&X$e.test(n.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(n,r){var i=n.IDDPrefix,s=n.missingPlus;return i?r&&r.spacing===!1?i:i+" ":s?"":"+"}},{key:"getTemplate",value:function(n){if(this.template){for(var r=-1,i=0,s=n.international?this.getInternationalPrefixBeforeCountryCallingCode(n,{spacing:!1}):"";i<s.length+n.getDigitsWithoutInternationalPrefix().length;)r=this.template.indexOf(Qs,r+1),i++;return E9(this.template,r+1)}}},{key:"setNationalNumberTemplate",value:function(n,r){this.nationalNumberTemplate=n,this.populatedNationalNumberTemplate=n,this.populatedNationalNumberTemplatePosition=-1,r.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(r).replace(/[\d\+]/g,Qs)+lx(Qs,r.callingCode.length)+" "+n:this.template=n}},{key:"getTemplateForFormat",value:function(n,r){var i=r.nationalSignificantNumber,s=r.international,o=r.nationalPrefix,a=r.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,l=n.pattern();l=l.replace(Z$e(),"\\d").replace(J$e(),"\\d");var c=Y$e.match(l)[0];if(!(i.length>c.length)){var d=new RegExp("^"+l+"$"),h=i.replace(/\d/g,_k);d.test(h)&&(c=h);var m=this.getFormatFormat(n,s),g;if(this.shouldTryNationalPrefixFormattingRule(n,{international:s,nationalPrefix:o})){var y=m.replace(xte,n.nationalPrefixFormattingRule());if(L1(n.nationalPrefixFormattingRule())===(o||"")+L1("$1")&&(m=y,g=!0,o))for(var b=o.length;b>0;)m=m.replace(/\d/,Qs),b--}var x=c.replace(new RegExp(l),m).replace(new RegExp(_k,"g"),Qs);return g||(a?x=lx(Qs,a.length)+" "+x:o&&(x=lx(Qs,o.length)+this.getSeparatorAfterNationalPrefix(n)+x)),s&&(x=vte(x)),x}}},{key:"formatNextNationalNumberDigits",value:function(n){var r=S$e(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,n);if(!r){this.resetFormat();return}return this.populatedNationalNumberTemplate=r[0],this.populatedNationalNumberTemplatePosition=r[1],E9(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(n,r){var i=r.international,s=r.nationalPrefix;if(n.nationalPrefixFormattingRule()){var o=n.usesNationalPrefix();if(o&&s||!o&&!i)return!0}}}])})();function Ag(t){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(t)}function Ate(t,e){return s_e(t)||i_e(t,e)||r_e(t,e)||n_e()}function n_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r_e(t,e){if(t){if(typeof t=="string")return R9(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R9(t,e):void 0}}function R9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function i_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function s_e(t){if(Array.isArray(t))return t}function o_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c_e(r.key),r)}}function l_e(t,e,n){return e&&a_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function c_e(t){var e=u_e(t,"string");return Ag(e)=="symbol"?e:e+""}function u_e(t,e){if(Ag(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var d_e="["+uo+Ni+"]+",f_e=new RegExp("^"+d_e+"$","i"),h_e="(?:["+Hw+"]["+uo+Ni+"]*|["+uo+Ni+"]+)",p_e=new RegExp("[^"+uo+Ni+"]+.*$"),m_e=/[^\d\[\]]/,g_e=(function(){function t(e){var n=e.defaultCountry,r=e.defaultCallingCode,i=e.metadata,s=e.onNationalSignificantNumberChange;o_e(this,t),this.defaultCountry=n,this.defaultCallingCode=r,this.metadata=i,this.onNationalSignificantNumberChange=s}return l_e(t,[{key:"input",value:function(n,r){var i=x_e(n),s=Ate(i,2),o=s[0],a=s[1],l=L1(o),c;return a&&(r.digits||(r.startInternationalNumber(void 0,void 0),l||(c=!0))),l&&this.inputDigits(l,r),{digits:l,justLeadingPlus:c}}},{key:"inputDigits",value:function(n,r){var i=r.digits,s=i.length<3&&i.length+n.length>=3;if(r.appendDigits(n),s&&this.extractIddPrefix(r),this.isWaitingForCountryCallingCode(r)){if(!this.extractCountryCallingCode(r))return}else r.appendNationalSignificantNumberDigits(n);r.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(r.getNationalDigits(),function(o){return r.update(o)})}},{key:"isWaitingForCountryCallingCode",value:function(n){var r=n.international,i=n.callingCode;return r&&!i}},{key:"extractCountryCallingCode",value:function(n){var r=W_("+"+n.getDigitsWithoutInternationalPrefix(),n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode,s=r.number;if(i)return n.setCallingCode(i),n.update({nationalSignificantNumber:s}),!0}},{key:"reset",value:function(n){if(n){this.hasSelectedNumberingPlan=!0;var r=n._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=r&&m_e.test(r)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(n,r){if(this.hasSelectedNumberingPlan){var i=Pk(n,this.metadata),s=i.nationalPrefix,o=i.nationalNumber,a=i.carrierCode;if(o!==n)return this.onExtractedNationalNumber(s,a,o,n,r),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(n,r,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(n,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var s=Pk(n,this.metadata),o=s.nationalPrefix,a=s.nationalNumber,l=s.carrierCode;if(a!==r)return this.onExtractedNationalNumber(o,l,a,n,i),!0}}},{key:"onExtractedNationalNumber",value:function(n,r,i,s,o){var a=!1,l,c=s.lastIndexOf(i);if(c<0||c!==s.length-i.length)a=!0;else{var d=s.slice(0,c);d&&d!==n&&(l=d)}o({nationalPrefix:n,carrierCode:r,nationalSignificantNumber:i,nationalSignificantNumberIsModified:a,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:l}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(n){if(this.extractAnotherNationalSignificantNumber(n.getNationalDigits(),n.nationalSignificantNumber,function(r){return n.update(r)}))return!0;if(this.extractIddPrefix(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0;if(this.fixMissingPlus(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0}},{key:"extractIddPrefix",value:function(n){var r=n.international,i=n.IDDPrefix,s=n.digits;if(n.nationalSignificantNumber,!(r||i)){var o=mte(s,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(o!==void 0&&o!==s)return n.update({IDDPrefix:s.slice(0,s.length-o.length)}),this.startInternationalNumber(n,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(n){if(!n.international){var r=yte(n.digits,n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode;if(i)return n.update({missingPlus:!0}),this.startInternationalNumber(n,{country:n.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(n,r){var i=r.country,s=r.callingCode;n.startInternationalNumber(i,s),n.nationalSignificantNumber&&(n.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(n){this.extractCountryCallingCode(n)&&this.extractNationalSignificantNumber(n.getNationalDigits(),function(r){return n.update(r)})}}])})();function y_e(t){var e=t.search(h_e);if(!(e<0)){t=t.slice(e);var n;return t[0]==="+"&&(n=!0,t=t.slice(1)),t=t.replace(p_e,""),n&&(t="+"+t),t}}function v_e(t){var e=y_e(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function x_e(t){var e=v_e(t),n=Ate(e,2),r=n[0],i=n[1];return f_e.test(r)||(r=""),[r,i]}function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function b_e(t,e){return N_e(t)||C_e(t,e)||S_e(t,e)||w_e()}function w_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S_e(t,e){if(t){if(typeof t=="string")return D9(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D9(t,e):void 0}}function D9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function C_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function N_e(t){if(Array.isArray(t))return t}function P_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j_e(r.key),r)}}function A_e(t,e,n){return e&&T_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function j_e(t){var e=E_e(t,"string");return jg(e)=="symbol"?e:e+""}function E_e(t,e){if(jg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mh=(function(){function t(e,n){P_e(this,t),this.metadata=new nr(n);var r=this.getCountryAndCallingCode(e),i=b_e(r,2),s=i[0],o=i[1];this.defaultCountry=s,this.defaultCallingCode=o,this.reset()}return A_e(t,[{key:"getCountryAndCallingCode",value:function(n){var r,i;return n&&(xu(n)?(r=n.defaultCountry,i=n.defaultCallingCode):r=n),r&&!this.metadata.hasCountry(r)&&(r=void 0),[r,i]}},{key:"input",value:function(n){var r=this.parser.input(n,this.state),i=r.digits,s=r.justLeadingPlus;if(s)this.formattedOutput="+";else if(i){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var o;if(this.metadata.hasSelectedNumberingPlan()&&(o=this.formatter.format(i,this.state)),o===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var a=this.state.getNationalDigits();a&&(o=this.formatter.format(a,this.state))}this.formattedOutput=o?this.getFullNumber(o):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var n=this;return this.state=new v$e({onCountryChange:function(i){n.country=i},onCallingCodeChange:function(i,s){n.metadata.selectNumberingPlan(s,i),n.formatter.reset(n.metadata.numberingPlan,n.state),n.parser.reset(n.metadata.numberingPlan)}}),this.formatter=new t_e({state:this.state,metadata:this.metadata}),this.parser=new g_e({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){n.determineTheCountryIfNeeded(),n.formatter.reset(n.metadata.numberingPlan,n.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var n=this.state.digits;if(n)return this._getCountry()}},{key:"_getCountry",value:function(){var n=this.state.country;return n}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(n){var r=this;if(this.isInternational()){var i=function(a){return r.formatter.getInternationalPrefixBeforeCountryCallingCode(r.state,{spacing:!!a})+a},s=this.state.callingCode;return i(s?n?"".concat(s," ").concat(n):s:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return n}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,s=n.nationalPrefix,o=r,a=i||s;return a&&(o=a+o),o}},{key:"getNonFormattedNumber",value:function(){var n=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(n?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var n=this.getNonFormattedNumber();if(n)return n.replace(/[\+\d]/g,Qs)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var n=this.state.callingCode,r=this.metadata.getCountryCodesForCallingCode(n);return r&&r.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(H_(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var n=this.state,r=n.digits,i=n.callingCode,s=n.country,o=n.nationalSignificantNumber;if(r){if(this.isInternational())return i?"+"+i+o:"+"+r;if(s||i){var a=s?this.metadata.countryCallingCode():i;return"+"+a+o}}}},{key:"getNumber",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.carrierCode,s=n.callingCode,o=this._getCountry();if(r&&!(!o&&!s)){if(o&&o===this.defaultCountry){var a=new nr(this.metadata.metadata);a.selectNumberingPlan(o);var l=a.numberingPlan.callingCode(),c=this.metadata.getCountryCodesForCallingCode(l);if(c.length>1){var d=gte(r,{countries:c,metadata:this.metadata.metadata});d&&(o=d)}}var h=new Cte(o||s,r,this.metadata.metadata);return i&&(h.carrierCode=i),h}}},{key:"isPossible",value:function(){var n=this.getNumber();return n?n.isPossible():!1}},{key:"isValid",value:function(){var n=this.getNumber();return n?n.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])})();function L9(t){return new nr(t).getCountries()}function k_e(t,e,n){return n||(n=e,e=void 0),new Mh(e,n).input(t)}function jte(t){var e=t.inputFormat,n=t.country,r=t.metadata;return e==="NATIONAL_PART_OF_INTERNATIONAL"?"+".concat(Nc(n,r)):""}function Mk(t,e){return e&&(t=t.slice(e.length),t[0]===" "&&(t=t.slice(1))),t}function O_e(t,e,n){if(!(n&&n.ignoreRest)){var r=function(s){n&&s==="end"&&(n.ignoreRest=!0)};return Pte(t,e,r)}}function Ete(t){var e=t.onKeyDown,n=t.inputFormat;return C.useCallback(function(r){if(r.keyCode===__e&&n==="INTERNATIONAL"&&r.target instanceof HTMLInputElement&&$_e(r.target)===M_e.length){r.preventDefault();return}e&&e(r)},[e,n])}function $_e(t){return t.selectionStart}var __e=8,M_e="+",I_e=["onKeyDown","country","inputFormat","metadata","international","withCountryCallingCode"];function Ik(){return Ik=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ik.apply(this,arguments)}function R_e(t,e){if(t==null)return{};var n=D_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function L_e(t){function e(n,r){var i=n.onKeyDown,s=n.country,o=n.inputFormat,a=n.metadata,l=a===void 0?t:a;n.international,n.withCountryCallingCode;var c=R_e(n,I_e),d=C.useCallback(function(m){var g=new Mh(s,l),y=jte({inputFormat:o,country:s,metadata:l}),b=g.input(y+m),x=g.getTemplate();return y&&(b=Mk(b,y),x&&(x=Mk(x,y))),{text:b,template:x}},[s,l]),h=Ete({onKeyDown:i,inputFormat:o});return H.createElement(R1,Ik({},c,{ref:r,parse:O_e,format:d,onKeyDown:h}))}return e=H.forwardRef(e),e.propTypes={value:fe.string.isRequired,onChange:fe.func.isRequired,onKeyDown:fe.func,country:fe.string,inputFormat:fe.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:fe.object},e}const F_e=L_e();var B_e=["value","onChange","onKeyDown","country","inputFormat","metadata","inputComponent","international","withCountryCallingCode"];function Rk(){return Rk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rk.apply(this,arguments)}function V_e(t,e){if(t==null)return{};var n=z_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function U_e(t){function e(n,r){var i=n.value,s=n.onChange,o=n.onKeyDown,a=n.country,l=n.inputFormat,c=n.metadata,d=c===void 0?t:c,h=n.inputComponent,m=h===void 0?"input":h;n.international,n.withCountryCallingCode;var g=V_e(n,B_e),y=jte({inputFormat:l,country:a,metadata:d}),b=C.useCallback(function(S){var N=Ek(S.target.value);if(N===i){var T=F9(y,N,a,d);T.indexOf(S.target.value)===0&&(N=N.slice(0,-1))}s(N)},[y,i,s,a,d]),x=Ete({onKeyDown:o,inputFormat:l});return H.createElement(m,Rk({},g,{ref:r,value:F9(y,i,a,d),onChange:b,onKeyDown:x}))}return e=H.forwardRef(e),e.propTypes={value:fe.string.isRequired,onChange:fe.func.isRequired,onKeyDown:fe.func,country:fe.string,inputFormat:fe.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:fe.object,inputComponent:fe.elementType},e}const q_e=U_e();function F9(t,e,n,r){return Mk(k_e(t+e,n,r),t)}function H_e(t){return B9(t[0])+B9(t[1])}function B9(t){return String.fromCodePoint(127397+t.toUpperCase().charCodeAt(0))}var W_e=["value","onChange","options","disabled","readOnly"],K_e=["value","options","className","iconComponent","getIconAspectRatio","arrowComponent","unicodeFlags"];function G_e(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Q_e(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q_e(t,e){if(t){if(typeof t=="string")return V9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V9(t,e)}}function V9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F1.apply(this,arguments)}function kte(t,e){if(t==null)return{};var n=Y_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Y_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ote(t){var e=t.value,n=t.onChange,r=t.options,i=t.disabled,s=t.readOnly,o=kte(t,W_e),a=C.useCallback(function(l){var c=l.target.value;n(c==="ZZ"?void 0:c)},[n]);return C.useMemo(function(){return _te(r,e)},[r,e]),H.createElement("select",F1({},o,{disabled:i||s,readOnly:s,value:e||"ZZ",onChange:a}),r.map(function(l){var c=l.value,d=l.label,h=l.divider;return H.createElement("option",{key:h?"|":c||"ZZ",value:h?"|":c||"ZZ",disabled:!!h,style:h?X_e:void 0},d)}))}Ote.propTypes={value:fe.string,onChange:fe.func.isRequired,options:fe.arrayOf(fe.shape({value:fe.string,label:fe.string,divider:fe.bool})).isRequired,disabled:fe.bool,readOnly:fe.bool};var X_e={fontSize:"1px",backgroundColor:"currentColor",color:"inherit"};function $te(t){var e=t.value,n=t.options,r=t.className,i=t.iconComponent;t.getIconAspectRatio;var s=t.arrowComponent,o=s===void 0?Z_e:s,a=t.unicodeFlags,l=kte(t,K_e),c=C.useMemo(function(){return _te(n,e)},[n,e]);return H.createElement("div",{className:"PhoneInputCountry"},H.createElement(Ote,F1({},l,{value:e,options:n,className:I1("PhoneInputCountrySelect",r)})),c&&(a&&e?H.createElement("div",{className:"PhoneInputCountryIconUnicode"},H_e(e)):H.createElement(i,{"aria-hidden":!0,country:e,label:c.label,aspectRatio:a?1:void 0})),H.createElement(o,null))}$te.propTypes={iconComponent:fe.elementType,arrowComponent:fe.elementType,unicodeFlags:fe.bool};function Z_e(){return H.createElement("div",{className:"PhoneInputCountrySelectArrow"})}function _te(t,e){for(var n=G_e(t),r;!(r=n()).done;){var i=r.value;if(!i.divider&&J_e(i.value,e))return i}}function J_e(t,e){return t==null?e==null:t===e}var eMe=["country","countryName","flags","flagUrl"];function Dk(){return Dk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dk.apply(this,arguments)}function tMe(t,e){if(t==null)return{};var n=nMe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nMe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function G_(t){var e=t.country,n=t.countryName,r=t.flags,i=t.flagUrl,s=tMe(t,eMe);return r&&r[e]?r[e]({title:n}):H.createElement("img",Dk({},s,{alt:n,role:n?void 0:"presentation",src:i.replace("{XX}",e).replace("{xx}",e.toLowerCase())}))}G_.propTypes={country:fe.string.isRequired,countryName:fe.string.isRequired,flags:fe.objectOf(fe.elementType),flagUrl:fe.string.isRequired};var rMe=["aspectRatio"],iMe=["title"],sMe=["title"];function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(this,arguments)}function Q_(t,e){if(t==null)return{};var n=oMe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oMe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ww(t){var e=t.aspectRatio,n=Q_(t,rMe);return e===1?H.createElement(Ite,n):H.createElement(Mte,n)}Ww.propTypes={title:fe.string.isRequired,aspectRatio:fe.number};function Mte(t){var e=t.title,n=Q_(t,iMe);return H.createElement("svg",B1({},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50"}),H.createElement("title",null,e),H.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"},H.createElement("path",{strokeLinecap:"round",d:"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3"}),H.createElement("path",{d:"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3"}),H.createElement("line",{x1:"26",y1:"25",x2:"74",y2:"25"}),H.createElement("line",{x1:"50",y1:"1",x2:"50",y2:"49"}),H.createElement("path",{strokeLinecap:"round",d:"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8"}),H.createElement("path",{strokeLinecap:"round",d:"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2"})),H.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"none",fill:"currentColor",d:"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z"}))}Mte.propTypes={title:fe.string.isRequired};function Ite(t){var e=t.title,n=Q_(t,sMe);return H.createElement("svg",B1({},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"}),H.createElement("title",null,e),H.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round"},H.createElement("path",{d:"M8.45,13A21.44,21.44,0,1,1,37.08,41.56"}),H.createElement("path",{d:"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21"}),H.createElement("path",{d:"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86"}),H.createElement("path",{d:"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54"}),H.createElement("line",{x1:"27.8",y1:"0.85",x2:"27.8",y2:"34.61"}),H.createElement("line",{x1:"15.2",y1:"22.23",x2:"49.15",y2:"22.23"})),H.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"transparent",fill:"currentColor",d:"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z"}))}Ite.propTypes={title:fe.string.isRequired};function aMe(t){if(t.length<2||t[0]!=="+")return!1;for(var e=1;e<t.length;){var n=t.charCodeAt(e);if(!(n>=48&&n<=57))return!1;e++}return!0}function Rte(t){aMe(t)||console.error("[react-phone-number-input] Expected the initial `value` to be a E.164 phone number. Got",t)}function lMe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=cMe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cMe(t,e){if(t){if(typeof t=="string")return z9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z9(t,e)}}function z9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uMe(t,e){if(!e)return t;for(var n=[],r=[],i=n,s=function(){var c=a.value;if(c==="|")i.push({divider:!0});else if(c==="..."||c==="")i=r;else{var d;c===""?d=void 0:d=c;var h=t.indexOf(t.filter(function(g){return g.value===d})[0]),m=t[h];t.splice(h,1),i.push(m)}},o=lMe(e),a;!(a=o()).done;)s();return n.concat(t).concat(r)}function dMe(t,e){if(t&&(t=t.filter(function(n){switch(n){case"":case"|":case"...":case"":return!0;default:return Kw(n,e)}}),t.length>0))return t}function Kw(t,e){return fte(t,e)?!0:(console.error("Country not found: ".concat(t)),!1)}function Dte(t,e){return t&&(t=t.filter(function(n){return Kw(n,e)}),t.length===0&&(t=void 0)),t}var fMe=["country","label","aspectRatio"];function Lk(){return Lk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lk.apply(this,arguments)}function hMe(t,e){if(t==null)return{};var n=pMe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pMe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Lte(t){var e=t.flags,n=t.flagUrl,r=t.flagComponent,i=t.internationalIcon;function s(o){var a=o.country,l=o.label,c=o.aspectRatio,d=hMe(o,fMe),h=i===Ww?c:void 0;return H.createElement("div",Lk({},d,{className:I1("PhoneInputCountryIcon",{"PhoneInputCountryIcon--square":h===1,"PhoneInputCountryIcon--border":a})}),a?H.createElement(r,{country:a,countryName:l,flags:e,flagUrl:n,className:"PhoneInputCountryIconImg"}):H.createElement(i,{title:l,aspectRatio:h,className:"PhoneInputCountryIconImg"}))}return s.propTypes={country:fe.string,label:fe.string.isRequired,aspectRatio:fe.number},s}Lte({flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",flagComponent:G_,internationalIcon:Ww});function mMe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=gMe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gMe(t,e){if(t){if(typeof t=="string")return U9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U9(t,e)}}function U9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yMe(t,e){for(var n=mMe(t),r;!(r=n()).done;){var i=r.value;i&&vMe(i,e)}}function vMe(t,e){typeof t=="function"?t(e):t.current=e}var Fte=fe.shape({country_calling_codes:fe.object.isRequired,countries:fe.object.isRequired}),Bte=fe.objectOf(fe.string);function ka(t,e){var n="+"+Nc(t,e);return n}function xMe(t){var e=t.value,n=t.phoneNumber,r=t.defaultCountry,i=t.getAnyCountry,s=t.countries,o=t.required,a=t.metadata,l;return n&&n.country?l=n.country:r&&(!e||yf(e,r,a))&&(l=r),s&&s.indexOf(l)<0&&(l=void 0),!l&&o&&s&&s.length>0&&(l=i()),l}function bMe(t){var e=t.countries,n=t.countryNames,r=t.addInternationalOption,i=t.compareStringsLocales,s=t.compareStrings;s||(s=AMe);var o=e.map(function(a){return{value:a,label:n[a]||a}});return o.sort(function(a,l){return s(a.label,l.label,i)}),r&&o.unshift({label:n.ZZ}),o}function Vte(t,e){return f$e(t||"",e)}function wMe(t){return t.formatNational().replace(/\D/g,"")}function SMe(t,e){var n=e.prevCountry,r=e.newCountry,i=e.metadata,s=e.useNationalFormat;if(n===r)return t;if(!t)return s?"":r?ka(r,i):"";if(r){if(t[0]==="+"){if(s)return t.indexOf("+"+Nc(r,i))===0?jMe(t,r,i):"";if(n){var o=ka(r,i);return t.indexOf(o)===0?t:o}else{var a=ka(r,i);return t.indexOf(a)===0?t:a}}}else if(t[0]!=="+")return nf(t,n,i)||"";return t}function nf(t,e,n){if(t){if(t[0]==="+"){if(t==="+")return;var r=new Mh(e,n);return r.input(t),r.getNumberValue()}if(e){var i=Ute(t,e,n);return"+".concat(Nc(e,n)).concat(i||"")}}}function CMe(t,e,n){var r=Ute(t,e,n);if(r){var i=r.length-NMe(e,n);if(i>0)return t.slice(0,t.length-i)}return t}function NMe(t,e){return e=new nr(e),e.selectNumberingPlan(t),e.numberingPlan.possibleLengths()[e.numberingPlan.possibleLengths().length-1]}function zte(t,e){var n=e.country,r=e.countries,i=e.defaultCountry,s=e.latestCountrySelectedByUser,o=e.required,a=e.metadata;if(t==="+")return n;var l=TMe(t,a);if(l)return!r||r.indexOf(l)>=0?l:void 0;if(n){if(yf(t,n,a)){if(s&&yf(t,s,a))return s;if(i&&yf(t,i,a))return i;if(!o)return}else if(!o)return}return n}function PMe(t,e){var n=e.prevPhoneDigits,r=e.country,i=e.defaultCountry,s=e.latestCountrySelectedByUser,o=e.countryRequired,a=e.getAnyCountry,l=e.countries,c=e.international,d=e.limitMaxLength,h=e.countryCallingCodeEditable,m=e.metadata;if(c&&h===!1&&r){var g=ka(r,m);if(t.indexOf(g)!==0){var y,b=t&&t[0]!=="+";return b?(t=g+t,y=nf(t,r,m)):t=g,{phoneDigits:t,value:y,country:r}}}c===!1&&r&&t&&t[0]==="+"&&(t=q9(t,r,m)),t&&r&&d&&(t=CMe(t,r,m)),t&&t[0]!=="+"&&(!r||c)&&(t="+"+t),!t&&n&&n[0]==="+"&&(c?r=void 0:r=i),t==="+"&&n&&n[0]==="+"&&n.length>1&&(r=void 0);var x;return t&&(t[0]==="+"&&(t==="+"||r&&ka(r,m).indexOf(t)===0)?x=void 0:x=nf(t,r,m)),x&&(r=zte(x,{country:r,countries:l,defaultCountry:i,latestCountrySelectedByUser:s,required:!1,metadata:m}),c===!1&&r&&t&&t[0]==="+"&&(t=q9(t,r,m),x=nf(t,r,m))),!r&&o&&(r=i||a()),{phoneDigits:t,country:r,value:x}}function q9(t,e,n){if(t.indexOf(ka(e,n))===0){var r=new Mh(e,n);r.input(t);var i=r.getNumber();return i?i.formatNational().replace(/\D/g,""):""}else return t.replace(/\D/g,"")}function TMe(t,e){var n=new Mh(null,e);return n.input(t),n.getCountry()}function AMe(t,e,n){return String.prototype.localeCompare?t.localeCompare(e,n):t<e?-1:t>e?1:0}function jMe(t,e,n){if(e){var r="+"+Nc(e,n);if(t.length<r.length){if(r.indexOf(t)===0)return""}else if(t.indexOf(r)===0)return t.slice(r.length)}for(var i=0,s=Object.keys(n.country_calling_codes);i<s.length;i++){var o=s[i];if(t.indexOf(o)===1)return t.slice(1+o.length)}return""}function Ute(t,e,n){var r=new Mh(e,n);r.input(t);var i=r.getNumber();return i&&i.nationalNumber}function yf(t,e,n){for(var r=ka(e,n),i=0;i<t.length&&i<r.length;){if(t[i]!==r[i])return!1;i++}return!0}function qte(t){var e=t.value,n=t.phoneNumber,r=t.defaultCountry,i=t.international,s=t.useNationalFormat,o=t.metadata;return(i===!1||s)&&n&&n.country?wMe(n):!e&&i&&r?ka(r,o):e}function Eg(t){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(t)}function H9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H9(Object(n),!0).forEach(function(r){EMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EMe(t,e,n){return e=kMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kMe(t){var e=OMe(t,"string");return Eg(e)=="symbol"?e:e+""}function OMe(t,e){if(Eg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Me(t,e,n){var r=t.metadata,i=t.countries,s=t.defaultCountry,o=t.value,a=t.reset,l=t.international,c=t.displayInitialValueAsLocalNumber,d=t.initialValueFormat,h=e.defaultCountry,m=e.value,g=e.reset;n.country;var y=n.value,b=n.hasUserSelectedACountry,x=n.latestCountrySelectedByUser,S=function(I){return qte(I0(I0({},I),{},{international:l,useNationalFormat:c||d==="national",metadata:r}))};if(a!==g)return{phoneDigits:S({value:void 0,defaultCountry:s}),value:void 0,country:s,latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};if(s!==h){var N=!s||Kw(s,r),T=!y||l&&y===S({value:void 0,defaultCountry:h}),j=!o&&T;if(!b&&N&&j)return{country:s,phoneDigits:S({value:void 0,defaultCountry:s}),value:void 0}}if(!W9(o,m)&&!W9(o,y)){var P,E;if(o){o&&Rte(o),P=Vte(o,r);var O=Dte(i,r);P&&P.country?(!O||O.indexOf(P.country)>=0)&&(E=P.country):(E=zte(o,{country:void 0,countries:O,metadata:r}),E||s&&o.indexOf(ka(s,r))===0&&(E=s))}var _;if(o){if(x){var $=E?x===E:yf(o,x,r);$?E||(E=x):_={latestCountrySelectedByUser:void 0}}}else _={latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};return I0(I0({},_),{},{phoneDigits:S({phoneNumber:P,value:o,defaultCountry:s}),value:o,country:o?E:s})}}function W9(t,e){return t===null&&(t=void 0),e===null&&(e=void 0),t===e}var _Me=["name","disabled","readOnly","autoComplete","style","className","inputRef","inputComponent","numberInputProps","smartCaret","countrySelectComponent","countrySelectProps","containerComponent","containerComponentProps","defaultCountry","countries","countryOptionsOrder","labels","flags","flagComponent","flagUrl","addInternationalOption","internationalIcon","displayInitialValueAsLocalNumber","initialValueFormat","onCountryChange","limitMaxLength","countryCallingCodeEditable","focusInputOnCountrySelection","reset","metadata","international","locales"];function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function K9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K9(Object(n),!0).forEach(function(r){Ws(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vf.apply(this,arguments)}function MMe(t,e){if(t==null)return{};var n=IMe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IMe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function RMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kte(r.key),r)}}function DMe(t,e,n){return e&&G9(t.prototype,e),n&&G9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LMe(t,e,n){return e=V1(e),FMe(t,Wte()?Reflect.construct(e,n||[],V1(t).constructor):e.apply(t,n))}function FMe(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BMe(t)}function BMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wte=function(){return!!t})()}function V1(t){return V1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V1(t)}function VMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fk(t,e)}function Fk(t,e){return Fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fk(t,e)}function Ws(t,e,n){return e=Kte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kte(t){var e=zMe(t,"string");return Uf(e)=="symbol"?e:e+""}function zMe(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UMe=(function(t){function e(n){var r;RMe(this,e),r=LMe(this,e,[n]),Ws(r,"setInputRef",function(x){yMe([r.props.inputRef,r.inputRef],x)}),Ws(r,"isCountrySupportedWithError",function(x){var S=r.props.metadata;return Kw(x,S)}),Ws(r,"onCountryChange",function(x){var S=r.props,N=S.international,T=S.metadata,j=S.onChange,P=S.focusInputOnCountrySelection,E=r.state,O=E.phoneDigits,_=E.country,$=SMe(O,{prevCountry:_,newCountry:x,metadata:T,useNationalFormat:!N}),B=nf($,x,T);P&&r.inputRef.current.focus(),r.setState({country:x,latestCountrySelectedByUser:x,hasUserSelectedACountry:!0,phoneDigits:$,value:B},function(){j(B)})}),Ws(r,"onChange",function(x){var S=r.props,N=S.defaultCountry,T=S.onChange,j=S.addInternationalOption,P=S.international,E=S.limitMaxLength,O=S.countryCallingCodeEditable,_=S.metadata,$=r.state,B=$.countries,I=$.phoneDigits,V=$.country,U=$.latestCountrySelectedByUser,L=PMe(x,{prevPhoneDigits:I,country:V,countryRequired:!j,defaultCountry:N,latestCountrySelectedByUser:U,getAnyCountry:function(){return r.getFirstSupportedCountry({countries:B})},countries:B,international:P,limitMaxLength:E,countryCallingCodeEditable:O,metadata:_}),z=L.phoneDigits,F=L.country,q=L.value,M={phoneDigits:z,value:q,country:F};U&&q&&!yf(q,U,_)&&(M.latestCountrySelectedByUser=void 0),O===!1&&!q&&z===r.state.phoneDigits&&(M.forceRerender={}),r.setState(M,function(){return T(q)})}),Ws(r,"_onFocus",function(){return r.setState({isFocused:!0})}),Ws(r,"_onBlur",function(){return r.setState({isFocused:!1})}),Ws(r,"onFocus",function(x){r._onFocus();var S=r.props.onFocus;S&&S(x)}),Ws(r,"onBlur",function(x){var S=r.props.onBlur;r._onBlur(),S&&S(x)}),Ws(r,"onCountryFocus",function(x){r._onFocus();var S=r.props.countrySelectProps;if(S){var N=S.onFocus;N&&N(x)}}),Ws(r,"onCountryBlur",function(x){r._onBlur();var S=r.props.countrySelectProps;if(S){var N=S.onBlur;N&&N(x)}}),r.inputRef=H.createRef();var i=r.props,s=i.value;i.labels;var o=i.international,a=i.addInternationalOption,l=i.displayInitialValueAsLocalNumber,c=i.initialValueFormat,d=i.metadata,h=r.props,m=h.defaultCountry,g=h.countries;m&&(r.isCountrySupportedWithError(m)||(m=void 0)),s&&Rte(s),g=Dte(g,d);var y=Vte(s,d);r.CountryIcon=Lte(r.props);var b=xMe({value:s,phoneNumber:y,defaultCountry:m,required:!a,countries:g||L9(d),getAnyCountry:function(){return r.getFirstSupportedCountry({countries:g})},metadata:d});return r.state={props:r.props,country:b,countries:g,phoneDigits:qte({value:s,phoneNumber:y,defaultCountry:m,international:o,useNationalFormat:l||c==="national",metadata:d}),value:s},r}return VMe(e,t),DMe(e,[{key:"componentDidMount",value:function(){var r=this.props.onCountryChange,i=this.props.defaultCountry,s=this.state.country;r&&(i&&(this.isCountrySupportedWithError(i)||(i=void 0)),s!==i&&r(s))}},{key:"componentDidUpdate",value:function(r,i){var s=this.props.onCountryChange,o=this.state.country;s&&o!==i.country&&s(o)}},{key:"getCountrySelectOptions",value:function(r){var i=r.countries,s=this.props,o=s.international,a=s.countryCallingCodeEditable,l=s.countryOptionsOrder,c=s.addInternationalOption,d=s.labels,h=s.locales,m=s.metadata;return this.useMemoCountrySelectOptions(function(){return uMe(bMe({countries:i||L9(m),countryNames:d,addInternationalOption:o&&a===!1?!1:c,compareStringsLocales:h}),dMe(l,m))},[i,l,c,d,m])}},{key:"useMemoCountrySelectOptions",value:function(r,i){return(!this.countrySelectOptionsMemoDependencies||!HMe(i,this.countrySelectOptionsMemoDependencies))&&(this.countrySelectOptionsMemo=r(),this.countrySelectOptionsMemoDependencies=i),this.countrySelectOptionsMemo}},{key:"getFirstSupportedCountry",value:function(r){var i=r.countries,s=this.getCountrySelectOptions({countries:i});return s[0].value}},{key:"render",value:function(){var r=this.props,i=r.name,s=r.disabled,o=r.readOnly,a=r.autoComplete,l=r.style,c=r.className;r.inputRef;var d=r.inputComponent,h=r.numberInputProps,m=r.smartCaret,g=r.countrySelectComponent,y=r.countrySelectProps,b=r.containerComponent,x=r.containerComponentProps;r.defaultCountry,r.countries,r.countryOptionsOrder;var S=r.labels;r.flags,r.flagComponent,r.flagUrl,r.addInternationalOption,r.internationalIcon,r.displayInitialValueAsLocalNumber,r.initialValueFormat,r.onCountryChange,r.limitMaxLength,r.countryCallingCodeEditable,r.focusInputOnCountrySelection,r.reset;var N=r.metadata,T=r.international;r.locales;var j=MMe(r,_Me),P=this.state,E=P.country,O=P.countries,_=P.phoneDigits,$=P.isFocused,B=m?F_e:q_e,I=this.getCountrySelectOptions({countries:O});return H.createElement(b,vf({style:l,className:I1(c,"PhoneInput",{"PhoneInput--focus":$,"PhoneInput--disabled":s,"PhoneInput--readOnly":o})},x),H.createElement(g,vf({name:i?"".concat(i,"Country"):void 0,"aria-label":S.country},y,{value:E,options:I,onChange:this.onCountryChange,onFocus:this.onCountryFocus,onBlur:this.onCountryBlur,disabled:s||y&&y.disabled,readOnly:o||y&&y.readOnly,iconComponent:this.CountryIcon})),H.createElement(B,vf({ref:this.setInputRef,type:"tel",autoComplete:a},h,j,{inputFormat:T===!0?"INTERNATIONAL":T===!1?"NATIONAL":"INTERNATIONAL_OR_NATIONAL",international:T?!0:void 0,withCountryCallingCode:T?!0:void 0,name:i,metadata:N,country:E,value:_||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,disabled:s,readOnly:o,inputComponent:d,className:I1("PhoneInputInput",h&&h.className,j.className)})))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return Hte({props:r},$Me(r,i.props,i))}}])})(H.PureComponent),Gte=H.forwardRef(function(t,e){return H.createElement(UMe,vf({},qMe(t),{inputRef:e}))});Gte.propTypes={value:fe.string,onChange:fe.func.isRequired,onFocus:fe.func,onBlur:fe.func,disabled:fe.bool,readOnly:fe.bool,autoComplete:fe.string,initialValueFormat:fe.oneOf(["national"]),displayInitialValueAsLocalNumber:fe.bool,defaultCountry:fe.string,countries:fe.arrayOf(fe.string),labels:Bte,locales:fe.oneOfType([fe.string,fe.arrayOf(fe.string)]),flagUrl:fe.string,flags:fe.objectOf(fe.elementType),flagComponent:fe.elementType,addInternationalOption:fe.bool,internationalIcon:fe.elementType,countryOptionsOrder:fe.arrayOf(fe.string),style:fe.object,className:fe.string,countrySelectComponent:fe.elementType,countrySelectProps:fe.object,inputComponent:fe.elementType,numberInputProps:fe.object,containerComponent:fe.elementType,containerComponentProps:fe.object,smartCaret:fe.bool,international:fe.bool,limitMaxLength:fe.bool,countryCallingCodeEditable:fe.bool,metadata:Fte,onCountryChange:fe.func,focusInputOnCountrySelection:fe.bool};var Q9={autoComplete:"tel",countrySelectComponent:$te,flagComponent:G_,flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",internationalIcon:Ww,inputComponent:"input",containerComponent:"div",reset:fe.any,smartCaret:!0,addInternationalOption:!0,countryCallingCodeEditable:!0,focusInputOnCountrySelection:!0};function qMe(t){t=Hte({},t);for(var e in Q9)t[e]===void 0&&(t[e]=Q9[e]);return t}function HMe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;){if(t[n]!==e[n])return!1;n++}return!0}const WMe={ext:"ext.",country:"Phone number country",phone:"Phone",AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthlemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cote d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Curaao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin (French Part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XA:"Abkhazia",XK:"Kosovo",XO:"South Ossetia",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",ZZ:"International"};var KMe=["metadata","labels"];function Bk(){return Bk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bk.apply(this,arguments)}function GMe(t,e){if(t==null)return{};var n=QMe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QMe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Qte(t){var e=H.forwardRef(function(n,r){var i=n.metadata,s=i===void 0?t:i,o=n.labels,a=o===void 0?WMe:o,l=GMe(n,KMe);return H.createElement(Gte,Bk({},l,{ref:r,metadata:s,labels:a}))});return e.propTypes={metadata:Fte,labels:Bte},e}Qte();const YMe=Qte(Oke),XMe=["https://api.dicebear.com/7.x/avataaars/svg?seed=Felix","https://api.dicebear.com/7.x/avataaars/svg?seed=Aria","https://api.dicebear.com/7.x/avataaars/svg?seed=Leo","https://api.dicebear.com/7.x/avataaars/svg?seed=Milo","https://api.dicebear.com/7.x/avataaars/svg?seed=Luna","https://api.dicebear.com/7.x/avataaars/svg?seed=Oliver","https://api.dicebear.com/7.x/avataaars/svg?seed=Sophie","https://api.dicebear.com/7.x/avataaars/svg?seed=Jack","https://api.dicebear.com/7.x/avataaars/svg?seed=Emma","https://api.dicebear.com/7.x/avataaars/svg?seed=Lucas","https://api.dicebear.com/7.x/avataaars/svg?seed=Mia"],ZMe=["Asia/Singapore","Australia/Sydney","Australia/Melbourne","Europe/London","America/New_York","Asia/Hong_Kong"],JMe=gn({firstName:gt().min(1,"Name is required"),phone:gt().optional(),zone:gt().optional(),preferredLanguage:gt().default("English"),avatarUrl:gt().optional(),gender:gt().default("Not To Tell"),interestedInTests:Dr(gt()).min(1,"Please select at least one interest"),interestedInTestAreas:Dr(gt()).default([])});function e4e(){const{user:t}=wh(),{data:e}=Sh(),n=Ime(),{toast:r}=Gn(),{data:i=[],isLoading:s}=pt({queryKey:["/api/test-types"]}),{data:o=[],isLoading:a}=pt({queryKey:["/api/test-areas"]}),l=q$({resolver:H$(JMe),defaultValues:{firstName:t?.firstName||"",phone:e?.phone||"",zone:e?.zone||"",preferredLanguage:e?.preferredLanguage||"English",avatarUrl:e?.avatarUrl||"",gender:e?.gender||"Not To Tell",interestedInTests:e?.interestedInTests||[],interestedInTestAreas:e?.interestedInTestAreas||[]}}),c=l.watch("interestedInTests"),d=i.filter(g=>g.isActive).map(g=>g.name),h=o.filter(g=>g.isActive&&c.includes(i.find(y=>y.id===g.testTypeId)?.name||"")).map(g=>g.name),m=async g=>{try{await n.mutateAsync(g),r({title:"Success",description:"Profile updated successfully."})}catch(y){r({title:"Error",description:y.message,variant:"destructive"})}};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-display font-bold",children:"Settings"}),u.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your account and preferences."})]}),u.jsxs(Ye,{children:[u.jsxs(jt,{children:[u.jsx(_t,{children:"Credits & Referrals"}),u.jsxs(ss,{children:["Invite other parents to join and earn credits! You have ",u.jsx("strong",{children:e?.credits||0})," credits."]})]}),u.jsxs(Je,{children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsx(ut,{placeholder:"Friend's email address",type:"email",id:"invite-email"}),u.jsx(ce,{onClick:async()=>{const g=document.getElementById("invite-email").value;if(g)try{(await fetch("/api/invitations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:g})})).ok&&(r({title:"Invitation Sent",description:"Your friend will receive an invitation link."}),document.getElementById("invite-email").value="")}catch{r({title:"Error",description:"Failed to send invitation",variant:"destructive"})}},children:"Invite"})]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-4 italic",children:"* You get 10 credits when they join, and they get 5 credits!"})]})]}),u.jsxs(Ye,{children:[u.jsx(jt,{children:u.jsx(_t,{children:"Public Profile"})}),u.jsxs(Je,{children:[u.jsxs("div",{className:"mb-8",children:[u.jsx(Me,{className:"mb-4 block",children:"Choose your Avatar"}),u.jsx("div",{className:"flex flex-wrap gap-4",children:XMe.map(g=>u.jsx("button",{type:"button",onClick:()=>l.setValue("avatarUrl",g),className:`p-1 rounded-full border-2 transition-all ${l.watch("avatarUrl")===g?"border-primary scale-110":"border-transparent"}`,children:u.jsxs(Qm,{className:"w-16 h-16",children:[u.jsx(Ym,{src:g}),u.jsx(Xm,{children:"?"})]})},g))})]}),u.jsx(W$,{...l,children:u.jsxs("form",{onSubmit:l.handleSubmit(m),className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(gi,{control:l.control,name:"firstName",render:({field:g})=>u.jsxs(ei,{children:[u.jsx(ti,{children:"Display Name"}),u.jsx(ni,{children:u.jsx(ut,{...g})}),u.jsx(ri,{})]})}),u.jsx(gi,{control:l.control,name:"phone",render:({field:g})=>u.jsxs(ei,{children:[u.jsx(ti,{children:"Phone Number"}),u.jsx(ni,{children:u.jsx("div",{className:"phone-input-container",children:u.jsx(YMe,{defaultCountry:"AU",placeholder:"Enter phone number",value:g.value,onChange:g.onChange,className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"})})}),u.jsx(ri,{})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(gi,{control:l.control,name:"gender",render:({field:g})=>u.jsxs(ei,{children:[u.jsx(ti,{children:"Gender"}),u.jsxs(nn,{onValueChange:g.onChange,value:g.value,children:[u.jsx(ni,{children:u.jsx(Jt,{children:u.jsx(rn,{placeholder:"Select gender"})})}),u.jsxs(en,{children:[u.jsx(He,{value:"Not To Tell",children:"Not To Tell"}),u.jsx(He,{value:"Male",children:"Male"}),u.jsx(He,{value:"Female",children:"Female"}),u.jsx(He,{value:"Other",children:"Other"})]})]}),u.jsx(ri,{})]})}),u.jsx(gi,{control:l.control,name:"zone",render:({field:g})=>u.jsxs(ei,{children:[u.jsx(ti,{children:"Zone / Region"}),u.jsxs(nn,{onValueChange:g.onChange,value:g.value,children:[u.jsx(ni,{children:u.jsx(Jt,{children:u.jsx(rn,{placeholder:"Select region"})})}),u.jsx(en,{children:ZMe.map(y=>u.jsx(He,{value:y,children:y},y))})]}),u.jsx(ri,{})]})})]}),u.jsx(gi,{control:l.control,name:"preferredLanguage",render:({field:g})=>u.jsxs(ei,{children:[u.jsx(ti,{children:"Preferred Language"}),u.jsxs(nn,{onValueChange:g.onChange,value:g.value,children:[u.jsx(ni,{children:u.jsx(Jt,{children:u.jsx(rn,{placeholder:"Select language"})})}),u.jsxs(en,{children:[u.jsx(He,{value:"English",children:"English"}),u.jsx(He,{value:"Chinese",children:"Chinese"}),u.jsx(He,{value:"Spanish",children:"Spanish"})]})]}),u.jsx(ri,{})]})}),u.jsx(gi,{control:l.control,name:"interestedInTests",render:({field:g})=>u.jsxs(ei,{className:"flex flex-col",children:[u.jsx(ti,{children:"Interested In Tests (Mandatory)"}),u.jsxs(ig,{children:[u.jsx(sg,{asChild:!0,children:u.jsx(ni,{children:u.jsxs(ce,{variant:"outline",role:"combobox",className:se("w-full justify-between h-auto min-h-9 px-3 py-2",!g.value?.length&&"text-muted-foreground"),disabled:s,children:[u.jsx("div",{className:"flex flex-wrap gap-1",children:g.value?.length>0?g.value.map(y=>u.jsxs(Ft,{variant:"secondary",className:"mr-1 mb-1",onClick:b=>{b.stopPropagation(),g.onChange(g.value.filter(x=>x!==y))},children:[y,u.jsx(Ra,{className:"ml-1 h-3 w-3 hover:text-destructive"})]},y)):u.jsx("span",{children:"Select interests..."})}),s?u.jsx(mt,{className:"h-4 w-4 animate-spin opacity-50"}):u.jsx(Ma,{className:"h-4 w-4 opacity-50 shrink-0"})]})})}),u.jsx(Mf,{className:"w-[400px] p-0",align:"start",children:u.jsxs("div",{className:"p-2 space-y-1",children:[d.length===0&&!s&&u.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No test types available."}),d.map(y=>u.jsxs("div",{className:se("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",g.value?.includes(y)&&"bg-accent/50"),onClick:()=>{const b=g.value||[],x=b.includes(y)?b.filter(S=>S!==y):[...b,y];g.onChange(x)},children:[u.jsx("div",{className:se("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",g.value?.includes(y)?"bg-primary text-primary-foreground":"opacity-50"),children:g.value?.includes(y)&&u.jsx(ho,{className:"h-3 w-3"})}),y]},y))]})})]}),u.jsx(ri,{})]})}),u.jsx(gi,{control:l.control,name:"interestedInTestAreas",render:({field:g})=>u.jsxs(ei,{className:"flex flex-col",children:[u.jsx(ti,{children:"Interested In Test Areas (Optional)"}),u.jsxs(ig,{children:[u.jsx(sg,{asChild:!0,children:u.jsx(ni,{children:u.jsxs(ce,{variant:"outline",role:"combobox",className:se("w-full justify-between h-auto min-h-9 px-3 py-2",!g.value?.length&&"text-muted-foreground"),disabled:a||!c.length,children:[u.jsx("div",{className:"flex flex-wrap gap-1",children:g.value?.length>0?g.value.map(y=>u.jsxs(Ft,{variant:"secondary",className:"mr-1 mb-1",onClick:b=>{b.stopPropagation(),g.onChange(g.value.filter(x=>x!==y))},children:[y,u.jsx(Ra,{className:"ml-1 h-3 w-3 hover:text-destructive"})]},y)):u.jsx("span",{children:c.length?"Select test areas...":"Select test types first"})}),a?u.jsx(mt,{className:"h-4 w-4 animate-spin opacity-50"}):u.jsx(Ma,{className:"h-4 w-4 opacity-50 shrink-0"})]})})}),u.jsx(Mf,{className:"w-[400px] p-0",align:"start",children:u.jsxs("div",{className:"p-2 space-y-1 max-h-[300px] overflow-y-auto",children:[h.length===0&&!a&&u.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:c.length?"No areas available for selected tests.":"Please select at least one test type above."}),h.map(y=>u.jsxs("div",{className:se("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",g.value?.includes(y)&&"bg-accent/50"),onClick:()=>{const b=g.value||[],x=b.includes(y)?b.filter(S=>S!==y):[...b,y];g.onChange(x)},children:[u.jsx("div",{className:se("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",g.value?.includes(y)?"bg-primary text-primary-foreground":"opacity-50"),children:g.value?.includes(y)&&u.jsx(ho,{className:"h-3 w-3"})}),y]},y))]})})]}),u.jsx(ri,{})]})}),u.jsx(ce,{type:"submit",className:"w-full",disabled:n.isPending,children:n.isPending?"Saving...":"Save Changes"})]})})]})]})]})}var Y_="Progress",X_=100,[t4e]=Hr(Y_),[n4e,r4e]=t4e(Y_),Yte=C.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=i4e,...o}=t;(i||i===0)&&!Y9(i)&&console.error(s4e(`${i}`,"Progress"));const a=Y9(i)?i:X_;r!==null&&!X9(r,a)&&console.error(o4e(`${r}`,"Progress"));const l=X9(r,a)?r:null,c=z1(l)?s(l,a):void 0;return u.jsx(n4e,{scope:n,value:l,max:a,children:u.jsx(Xe.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":z1(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Jte(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});Yte.displayName=Y_;var Xte="ProgressIndicator",Zte=C.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=r4e(Xte,n);return u.jsx(Xe.div,{"data-state":Jte(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});Zte.displayName=Xte;function i4e(t,e){return`${Math.round(t/e*100)}%`}function Jte(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function z1(t){return typeof t=="number"}function Y9(t){return z1(t)&&!isNaN(t)&&t>0}function X9(t,e){return z1(t)&&!isNaN(t)&&t<=e&&t>=0}function s4e(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${X_}\`.`}function o4e(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${X_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ene=Yte,a4e=Zte;const Gw=C.forwardRef(({className:t,value:e,...n},r)=>u.jsx(ene,{ref:r,className:se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:u.jsx(a4e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Gw.displayName=ene.displayName;const l4e=gn({studentName:gt().min(2,"Please enter your name"),passcode:gt().optional()});function c4e(){const[t]=vo(),{toast:e}=Gn(),[n,r]=C.useState(null),[i,s]=C.useState(!1),[o,a]=C.useState(!1);C.useEffect(()=>{const L=z=>{o&&!i&&(z.preventDefault(),z.returnValue="")};return window.addEventListener("beforeunload",L),()=>window.removeEventListener("beforeunload",L)},[o,i]);const[l,c]=C.useState(0),[d,h]=C.useState(new Set),[m,g]=C.useState(1800),[y,b]=C.useState({}),[x,S]=C.useState({}),[N,T]=C.useState(null);C.useEffect(()=>{if(n&&o&&m>0){n.duration&&m===1800&&g(n.duration*60);const L=setInterval(()=>{if(g(z=>z-1),N!==null){const z=n.questions[l].id;S(F=>({...F,[z]:(F[z]||0)+1}))}},1e3);return()=>clearInterval(L)}},[n,o,m,l,N]),C.useEffect(()=>{o&&n&&T(Date.now())},[l,o,n]);const j=L=>{const z=Math.floor(L/60),F=L%60;return`${z.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}`},P=L=>{h(z=>{const F=new Set(z);return F.has(L)?F.delete(L):F.add(L),F})},E=()=>{a(!0),T(Date.now())},O=C.useMemo(()=>{const L=t.match(/\/public\/test\/([^/]+)/);return L?L[1]:null},[t]),{data:_,isLoading:$,error:B}=pt({queryKey:["/api/public/tests",O],queryFn:async()=>{if(!O)throw new Error("Invalid test link");const L=await fetch(`/api/public/tests/${O}`);if(!L.ok){const z=await L.json().catch(()=>({}));throw new Error(z.message||"Test not found")}return L.json()},retry:!1,enabled:!!O}),I=dt({mutationFn:async L=>{if(!O)throw new Error("Invalid test link");const z=await fetch(`/api/public/tests/${O}/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(!z.ok){const F=await z.json();throw new Error(F.message||"Verification failed")}return z.json()},onSuccess:L=>{r(L)},onError:L=>{e({title:"Error",description:L.message,variant:"destructive"})}}),V=q$({resolver:H$(l4e),defaultValues:{studentName:"",passcode:""}}),U=dt({mutationFn:async()=>{if(!O)throw new Error("Invalid test link");let L=0;n.questions.forEach(q=>{const M=y[q.id];if(q.type==="mcq")if(/^[A-D]$/i.test(q.answer)){const Q=q.answer.toUpperCase().charCodeAt(0)-65,W=q.options[Q];M===W&&L++}else M===q.answer&&L++;else M?.trim().toLowerCase()===q.answer?.trim().toLowerCase()&&L++});const z=Math.round(L/n.questions.length*100),F=await fetch(`/api/public/tests/${O}/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentName:V.getValues("studentName"),answers:y,score:z,questionDurations:x})});if(!F.ok){const q=await F.json();throw new Error(q.message||"Submission failed")}return F.json()},onSuccess:()=>{s(!0),e({title:"Test Submitted",description:"Your results have been saved."}),setTimeout(()=>{window.location.href="/"},2e3)},onError:L=>{e({title:"Submission Error",description:L.message,variant:"destructive"})}});if($)return u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50 dark:bg-slate-950",children:u.jsx(mt,{className:"w-8 h-8 animate-spin text-primary"})});if(B||!_)return u.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-50 dark:bg-slate-950 p-4",children:[u.jsx("div",{className:"text-xl font-bold text-destructive mb-4",children:B instanceof Error?B.message:"Test not found"}),u.jsx(ce,{onClick:()=>window.location.href="/",children:"Return to Home"})]});if(n){if(!o)return u.jsx("div",{className:"min-h-screen bg-[#F8FAFC] flex items-center justify-center p-4",children:u.jsxs(Ye,{className:"w-full max-w-2xl border-none shadow-2xl rounded-[40px] overflow-hidden",children:[u.jsxs(jt,{className:"pt-12 pb-6 px-10 text-center space-y-4",children:[u.jsx("div",{className:"w-20 h-20 bg-primary/10 rounded-[30px] flex items-center justify-center mx-auto mb-2",children:u.jsx("div",{className:"text-3xl font-black text-primary",children:"A+"})}),u.jsx(_t,{className:"text-4xl font-black tracking-tight text-slate-900",children:n.title||n.name}),u.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Duration"}),u.jsxs("p",{className:"text-xl font-bold text-slate-700",children:[n.duration||30," Minutes"]})]}),u.jsx("div",{className:"w-px h-8 bg-slate-200"}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Questions"}),u.jsx("p",{className:"text-xl font-bold text-slate-700",children:n.questions?.length||0})]})]})]}),u.jsxs(Je,{className:"px-10 pb-12 text-center space-y-8",children:[u.jsxs("div",{className:"bg-slate-50 rounded-3xl p-8 text-left border border-slate-100",children:[u.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-slate-400 mb-4",children:"Instructions"}),u.jsxs("ul",{className:"space-y-3 text-slate-600 font-medium",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center text-[10px] font-bold text-primary shrink-0 mt-0.5",children:"1"}),u.jsx("span",{children:"Once you click start, the timer will begin."})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center text-[10px] font-bold text-primary shrink-0 mt-0.5",children:"2"}),u.jsx("span",{children:"You can flag questions for review later."})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center text-[10px] font-bold text-primary shrink-0 mt-0.5",children:"3"}),u.jsx("span",{children:"All answers are saved automatically."})]})]})]}),u.jsx(ce,{onClick:E,className:"w-full h-20 rounded-[30px] text-2xl font-black shadow-2xl shadow-primary/30 hover:scale-[1.02] transition-all active:scale-[0.98]",children:"Start Test Now"})]})]})});const L=n.questions?.[l],z=n.questions?.length||0,F=z>0?(l+1)/z*100:0;return u.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex flex-col",children:[u.jsx("header",{className:"bg-white dark:bg-slate-900 border-b p-4 sticky top-0 z-10 shadow-sm",children:u.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex-1 max-w-xs",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-xs font-bold text-primary",children:"Progress"}),u.jsxs("span",{className:"text-xs font-bold text-primary",children:[Math.round(F),"%"]})]}),u.jsx(Gw,{value:F,className:"h-2 bg-primary/10"}),u.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1 font-medium",children:["Question ",l+1," of ",z]})]}),u.jsx("div",{className:"flex items-center gap-4 self-center md:self-auto",children:u.jsxs("div",{className:"bg-muted px-4 py-2 rounded-full font-mono font-bold text-sm flex items-center gap-2 min-w-[100px] justify-center",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${m<300?"bg-destructive animate-pulse":"bg-green-500"}`}),j(m)]})})]})}),u.jsx("main",{className:"flex-1 flex flex-col max-w-4xl mx-auto w-full p-4 md:p-6 lg:p-8 overflow-y-auto",children:L&&u.jsx("div",{className:"flex-1 flex flex-col gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:u.jsxs(Ye,{className:"overflow-hidden border-none shadow-xl rounded-3xl",children:[u.jsx(jt,{className:"bg-muted/30 border-b px-8 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:L.subject}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:"A+"})]})}),u.jsxs(Je,{className:"p-8",children:[u.jsx("div",{className:"prose prose-lg max-w-none dark:prose-invert font-body leading-relaxed mb-8 break-words overflow-hidden",dangerouslySetInnerHTML:{__html:L.content}}),u.jsxs("div",{className:"mt-8 pt-8 border-t border-border/50",children:[u.jsxs("h2",{className:"text-xl font-bold mb-6 leading-tight flex items-center justify-between",children:[u.jsx("span",{children:L.type==="mcq"?"Choose the correct answer:":"Your answer:"}),u.jsx(Zj,{className:`w-5 h-5 cursor-pointer transition-colors ${d.has(L.id)?"text-destructive fill-destructive":"text-muted-foreground/30 hover:text-destructive"}`,onClick:()=>P(L.id)})]}),L.type==="mcq"&&L.options&&u.jsx("div",{className:"grid gap-4",children:L.options.map((q,M)=>{const D=y[L.id]===q;return u.jsxs("button",{onClick:()=>b(Q=>({...Q,[L.id]:q})),className:`group relative flex items-center gap-4 p-5 rounded-2xl border-2 transition-all text-left shadow-sm active:scale-[0.98] ${D?"border-primary bg-primary/5 ring-1 ring-primary":"border-border/50 hover:border-primary/50 hover:bg-white dark:hover:bg-slate-800"}`,children:[u.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-xl transition-colors text-sm font-black ${D?"bg-primary text-white":"bg-muted group-hover:bg-primary/10 text-muted-foreground group-hover:text-primary"}`,children:String.fromCharCode(65+M)}),u.jsx("span",{className:`text-base font-medium transition-colors ${D?"text-primary":"text-slate-700 dark:text-slate-300 group-hover:text-primary"}`,children:q})]},M)})}),L.type==="open"&&u.jsx(Ci,{placeholder:"Type your answer here...",value:y[L.id]||"",onChange:q=>b(M=>({...M,[L.id]:q.target.value})),className:"min-h-[150px] rounded-2xl border-2 focus-visible:ring-primary/20 bg-white dark:bg-slate-800 p-4 text-lg"})]})]})]})})}),u.jsx("footer",{className:"bg-white dark:bg-slate-900 border-t p-6 sticky bottom-0",children:u.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row items-stretch md:items-center justify-between gap-3 md:gap-4",children:[u.jsxs(ce,{variant:"outline",size:"lg",className:"rounded-2xl px-8 font-bold gap-2 border-2 hover:bg-muted w-full md:w-auto",onClick:()=>c(q=>Math.max(0,q-1)),disabled:l===0,children:[u.jsx(Cf,{className:"w-5 h-5"})," Previous"]}),u.jsxs(ce,{variant:"secondary",size:"lg",className:`rounded-2xl px-8 font-bold gap-2 border-none shadow-lg transition-all w-full md:w-auto ${d.has(L.id)?"bg-destructive text-destructive-foreground shadow-destructive/20":"bg-amber-400 hover:bg-amber-500 text-amber-950 shadow-amber-400/20"}`,onClick:()=>P(L.id),children:[u.jsx(Zj,{className:`w-5 h-5 ${d.has(L.id)?"fill-current":""}`}),d.has(L.id)?"Unflag":"Flag for Review"]}),l<z-1?u.jsxs(ce,{size:"lg",className:"rounded-2xl px-8 font-bold gap-2 bg-blue-600 hover:bg-blue-700 shadow-xl shadow-blue-600/25 w-full md:w-auto",onClick:()=>c(q=>q+1),children:["Next Question ",u.jsx(Go,{className:"w-5 h-5"})]}):u.jsx(ce,{size:"lg",className:"rounded-2xl px-8 font-bold gap-2 bg-green-600 hover:bg-green-700 shadow-xl shadow-green-600/25 w-full md:w-auto",disabled:U.isPending,onClick:()=>U.mutate(),children:U.isPending?u.jsxs(u.Fragment,{children:[u.jsx(mt,{className:"w-5 h-5 animate-spin"}),"Submitting..."]}):u.jsx(u.Fragment,{children:"Finish Test"})})]})})]})}return u.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex flex-col items-center justify-center p-4",children:u.jsx("div",{className:"w-full max-w-md animate-in fade-in zoom-in duration-500",children:u.jsxs(Ye,{className:"shadow-2xl border-none rounded-[40px] overflow-hidden",children:[u.jsxs(jt,{className:"text-center space-y-4 p-12 pb-6",children:[u.jsx("div",{className:"mx-auto w-20 h-20 bg-primary/10 rounded-[30px] flex items-center justify-center rotate-3",children:u.jsx(pce,{className:"w-10 h-10 text-primary -rotate-3"})}),u.jsxs("div",{children:[u.jsx(_t,{className:"text-3xl font-black tracking-tight",children:_.title}),u.jsx(ss,{className:"text-base mt-2",children:_.description||"Enter your details to begin the test."})]})]}),u.jsx(Je,{className:"p-12 pt-6",children:u.jsx(W$,{...V,children:u.jsxs("form",{onSubmit:V.handleSubmit(L=>I.mutate(L)),className:"space-y-6",children:[u.jsx(gi,{control:V.control,name:"studentName",render:({field:L})=>u.jsxs(ei,{children:[u.jsx(ti,{className:"text-xs font-black uppercase tracking-widest text-muted-foreground ml-2",children:"Your Name"}),u.jsx(ni,{children:u.jsx(ut,{placeholder:"e.g. John Doe",...L,className:"h-14 rounded-2xl bg-muted/50 border-none px-6 text-lg focus-visible:ring-primary/20"})}),u.jsx(ri,{className:"ml-2"})]})}),_.hasPasscode&&u.jsx(gi,{control:V.control,name:"passcode",render:({field:L})=>u.jsxs(ei,{children:[u.jsx(ti,{className:"text-xs font-black uppercase tracking-widest text-muted-foreground ml-2",children:"Passcode"}),u.jsx(ni,{children:u.jsx(ut,{placeholder:"6-digit code",...L,className:"h-14 rounded-2xl bg-muted/50 border-none px-6 text-lg font-mono tracking-[0.5em] text-center focus-visible:ring-primary/20"})}),u.jsx(ri,{className:"ml-2"})]})}),u.jsx(ce,{type:"submit",className:"w-full h-16 rounded-[25px] text-xl font-black bg-primary hover:bg-primary/90 shadow-2xl shadow-primary/30 transition-all hover:scale-[1.02] active:scale-95",disabled:I.isPending,children:I.isPending?u.jsxs(u.Fragment,{children:[u.jsx(mt,{className:"mr-3 h-6 w-6 animate-spin"}),"Verifying..."]}):"Start Test"})]})})})]})})})}function u4e(){const{data:t,isLoading:e}=pt({queryKey:["/api/admin/stats"]});if(e)return u.jsx("div",{className:"flex justify-center p-12",children:u.jsx(mt,{className:"w-8 h-8 animate-spin text-primary"})});const n=[{title:"Total Users",value:t?.totalUsers||0,icon:Io,color:"text-blue-500",bgColor:"bg-blue-500/10"},{title:"Parents",value:t?.parentCount||0,icon:Io,color:"text-green-500",bgColor:"bg-green-500/10"},{title:"Students",value:t?.studentCount||0,icon:Io,color:"text-purple-500",bgColor:"bg-purple-500/10"},{title:"Questions",value:t?.totalQuestions||0,icon:nc,color:"text-amber-500",bgColor:"bg-amber-500/10"},{title:"Tests Created",value:t?.totalTests||0,icon:Tu,color:"text-cyan-500",bgColor:"bg-cyan-500/10"},{title:"Test Attempts",value:t?.totalAttempts||0,icon:Vr,color:"text-emerald-500",bgColor:"bg-emerald-500/10"}];return u.jsxs("div",{className:"space-y-8 p-6 max-w-6xl mx-auto",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-display font-bold",children:"Admin Overview"}),u.jsx("p",{className:"text-muted-foreground mt-1",children:"Platform statistics and system health."})]}),u.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map(r=>u.jsxs(Ye,{"data-testid":`card-stat-${r.title.toLowerCase().replace(/\s/g,"-")}`,children:[u.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[u.jsx(_t,{className:"text-sm font-medium text-muted-foreground",children:r.title}),u.jsx("div",{className:`p-2 rounded-lg ${r.bgColor}`,children:u.jsx(r.icon,{className:`h-4 w-4 ${r.color}`})})]}),u.jsx(Je,{children:u.jsx("div",{className:"text-3xl font-bold",children:r.value.toLocaleString()})})]},r.title))}),u.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[u.jsxs(Ye,{children:[u.jsx(jt,{children:u.jsxs(_t,{className:"flex items-center gap-2",children:[u.jsx(Qb,{className:"w-5 h-5 text-primary"}),"Quick Insights"]})}),u.jsxs(Je,{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-muted/50",children:[u.jsx("span",{className:"text-muted-foreground",children:"Average Questions per Parent"}),u.jsx("span",{className:"font-bold",children:t?.parentCount?Math.round(t.totalQuestions/t.parentCount):0})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-muted/50",children:[u.jsx("span",{className:"text-muted-foreground",children:"Average Tests per Parent"}),u.jsx("span",{className:"font-bold",children:t?.parentCount?Math.round(t.totalTests/t.parentCount):0})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-muted/50",children:[u.jsx("span",{className:"text-muted-foreground",children:"Attempts per Test"}),u.jsx("span",{className:"font-bold",children:t?.totalTests?(t.totalAttempts/t.totalTests).toFixed(1):0})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-muted/50",children:[u.jsx("span",{className:"text-muted-foreground",children:"Students per Parent"}),u.jsx("span",{className:"font-bold",children:t?.parentCount?(t.studentCount/t.parentCount).toFixed(1):0})]})]})]}),u.jsxs(Ye,{children:[u.jsx(jt,{children:u.jsxs(_t,{className:"flex items-center gap-2",children:[u.jsx(fx,{className:"w-5 h-5 text-primary"}),"Platform Health"]})}),u.jsxs(Je,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"User Engagement"}),u.jsx("span",{className:"font-medium text-green-500",children:"Active"})]}),u.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:"75%"}})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Question Quality"}),u.jsx("span",{className:"font-medium text-blue-500",children:"Good"})]}),u.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"85%"}})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Test Completion Rate"}),u.jsx("span",{className:"font-medium text-amber-500",children:"Moderate"})]}),u.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-amber-500 rounded-full",style:{width:"60%"}})})]})]})]})]})]})}function bo(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Vu(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const tne=6048e5,d4e=864e5;let f4e={};function Qw(){return f4e}function kg(t,e){const n=Qw(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=bo(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function U1(t){return kg(t,{weekStartsOn:1})}function nne(t){const e=bo(t),n=e.getFullYear(),r=Vu(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=U1(r),s=Vu(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=U1(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Z9(t){const e=bo(t);return e.setHours(0,0,0,0),e}function J9(t){const e=bo(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function h4e(t,e){const n=Z9(t),r=Z9(e),i=+n-J9(n),s=+r-J9(r);return Math.round((i-s)/d4e)}function p4e(t){const e=nne(t),n=Vu(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),U1(n)}function m4e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function g4e(t){if(!m4e(t)&&typeof t!="number")return!1;const e=bo(t);return!isNaN(Number(e))}function y4e(t){const e=bo(t),n=Vu(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const v4e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},x4e=(t,e,n)=>{let r;const i=v4e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function zN(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const b4e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},w4e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},S4e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C4e={date:zN({formats:b4e,defaultWidth:"full"}),time:zN({formats:w4e,defaultWidth:"full"}),dateTime:zN({formats:S4e,defaultWidth:"full"})},N4e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},P4e=(t,e,n,r)=>N4e[t];function Rp(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const T4e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},A4e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},j4e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},E4e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},k4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},O4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$4e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_4e={ordinalNumber:$4e,era:Rp({values:T4e,defaultWidth:"wide"}),quarter:Rp({values:A4e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Rp({values:j4e,defaultWidth:"wide"}),day:Rp({values:E4e,defaultWidth:"wide"}),dayPeriod:Rp({values:k4e,defaultWidth:"wide",formattingValues:O4e,defaultFormattingWidth:"wide"})};function Dp(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?I4e(a,h=>h.test(o)):M4e(a,h=>h.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function M4e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function I4e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function R4e(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const D4e=/^(\d+)(th|st|nd|rd)?/i,L4e=/\d+/i,F4e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},B4e={any:[/^b/i,/^(a|c)/i]},V4e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},z4e={any:[/1/i,/2/i,/3/i,/4/i]},U4e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},q4e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},H4e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},W4e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},K4e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},G4e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Q4e={ordinalNumber:R4e({matchPattern:D4e,parsePattern:L4e,valueCallback:t=>parseInt(t,10)}),era:Dp({matchPatterns:F4e,defaultMatchWidth:"wide",parsePatterns:B4e,defaultParseWidth:"any"}),quarter:Dp({matchPatterns:V4e,defaultMatchWidth:"wide",parsePatterns:z4e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Dp({matchPatterns:U4e,defaultMatchWidth:"wide",parsePatterns:q4e,defaultParseWidth:"any"}),day:Dp({matchPatterns:H4e,defaultMatchWidth:"wide",parsePatterns:W4e,defaultParseWidth:"any"}),dayPeriod:Dp({matchPatterns:K4e,defaultMatchWidth:"any",parsePatterns:G4e,defaultParseWidth:"any"})},Y4e={code:"en-US",formatDistance:x4e,formatLong:C4e,formatRelative:P4e,localize:_4e,match:Q4e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function X4e(t){const e=bo(t);return h4e(e,y4e(e))+1}function Z4e(t){const e=bo(t),n=+U1(e)-+p4e(e);return Math.round(n/tne)+1}function rne(t,e){const n=bo(t),r=n.getFullYear(),i=Qw(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Vu(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=kg(o,e),l=Vu(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=kg(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function J4e(t,e){const n=Qw(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=rne(t,e),s=Vu(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),kg(s,e)}function eIe(t,e){const n=bo(t),r=+kg(n,e)-+J4e(n,e);return Math.round(r/tne)+1}function Xt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const jl={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Xt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Xt(n+1,2)},d(t,e){return Xt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Xt(t.getHours()%12||12,e.length)},H(t,e){return Xt(t.getHours(),e.length)},m(t,e){return Xt(t.getMinutes(),e.length)},s(t,e){return Xt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Xt(i,e.length)}},Ld={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eL={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return jl.y(t,e)},Y:function(t,e,n,r){const i=rne(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Xt(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Xt(s,e.length)},R:function(t,e){const n=nne(t);return Xt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Xt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Xt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Xt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return jl.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Xt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=eIe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Xt(i,e.length)},I:function(t,e,n){const r=Z4e(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Xt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):jl.d(t,e)},D:function(t,e,n){const r=X4e(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Xt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Xt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Xt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Xt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ld.noon:r===0?i=Ld.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ld.evening:r>=12?i=Ld.afternoon:r>=4?i=Ld.morning:i=Ld.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return jl.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):jl.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Xt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Xt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):jl.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):jl.s(t,e)},S:function(t,e){return jl.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return nL(r);case"XXXX":case"XX":return Qc(r);default:return Qc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return nL(r);case"xxxx":case"xx":return Qc(r);default:return Qc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+tL(r,":");default:return"GMT"+Qc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+tL(r,":");default:return"GMT"+Qc(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Xt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Xt(r,e.length)}};function tL(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Xt(s,2)}function nL(t,e){return t%60===0?(t>0?"-":"+")+Xt(Math.abs(t)/60,2):Qc(t,e)}function Qc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Xt(Math.trunc(r/60),2),s=Xt(r%60,2);return n+i+e+s}const rL=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},ine=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},tIe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return rL(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",rL(r,e)).replace("{{time}}",ine(i,e))},nIe={p:ine,P:tIe},rIe=/^D+$/,iIe=/^Y+$/,sIe=["D","DD","YY","YYYY"];function oIe(t){return rIe.test(t)}function aIe(t){return iIe.test(t)}function lIe(t,e,n){const r=cIe(t,e,n);if(console.warn(r),sIe.includes(t))throw new RangeError(r)}function cIe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const uIe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dIe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fIe=/^'([^]*?)'?$/,hIe=/''/g,pIe=/[a-zA-Z]/;function mIe(t,e,n){const r=Qw(),i=r.locale??Y4e,s=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=bo(t);if(!g4e(a))throw new RangeError("Invalid time value");let l=e.match(dIe).map(d=>{const h=d[0];if(h==="p"||h==="P"){const m=nIe[h];return m(d,i.formatLong)}return d}).join("").match(uIe).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const h=d[0];if(h==="'")return{isToken:!1,value:gIe(d)};if(eL[h])return{isToken:!0,value:d};if(h.match(pIe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(d=>{if(!d.isToken)return d.value;const h=d.value;(aIe(h)||oIe(h))&&lIe(h,e,String(t));const m=eL[h[0]];return m(a,h,i.localize,c)}).join("")}function gIe(t){const e=t.match(fIe);return e?e[1].replace(hIe,"'"):t}const iL=[{value:"discovery",label:"Discovery",icon:rc},{value:"mastery",label:"Mastery",icon:CO},{value:"excellence",label:"Excellence",icon:vO}],sL={discovery:rc,mastery:CO,excellence:vO};function yIe(){const{toast:t}=Gn(),e=Kn(),[n,r]=C.useState(!1),[i,s]=C.useState(""),[o,a]=C.useState("discovery"),[l,c]=C.useState(""),[d,h]=C.useState("all"),[m,g]=C.useState("all"),[y,b]=C.useState(1),[x]=C.useState(10),{data:S,isLoading:N}=pt({queryKey:["/api/admin/users"]}),{data:T}=pt({queryKey:["/api/plans"]}),{data:j}=pt({queryKey:["/api/admin/invitations"]}),P=dt({mutationFn:async({userId:M,isAdmin:D})=>$t("PATCH",`/api/admin/users/${M}/admin`,{isAdmin:D}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/admin/users"]}),t({title:"Success",description:"User admin status updated."})},onError:()=>{t({variant:"destructive",title:"Error",description:"Failed to update user."})}}),E=dt({mutationFn:async({userId:M,isActive:D})=>$t("PATCH",`/api/admin/users/${M}/active`,{isActive:D}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/admin/users"]}),t({title:"Success",description:"User status updated."})},onError:()=>{t({variant:"destructive",title:"Error",description:"Failed to update user."})}}),O=dt({mutationFn:async({userId:M,planId:D})=>$t("PATCH",`/api/admin/users/${M}/plan`,{planId:D,planSource:"manual"}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/admin/users"]}),t({title:"Success",description:"User plan updated."})},onError:()=>{t({variant:"destructive",title:"Error",description:"Failed to update plan."})}}),_=dt({mutationFn:async({email:M,planId:D})=>$t("POST","/api/admin/invitations",{email:M,planId:D}),onSuccess:M=>{e.invalidateQueries({queryKey:["/api/admin/invitations"]}),M.emailSent?t({title:"Success",description:"Invitation email sent successfully."}):t({title:"Invitation Created",description:"Invitation created but email may not have been sent."}),s(""),a("discovery"),r(!1)},onError:()=>{t({variant:"destructive",title:"Error",description:"Failed to send invitation."})}}),$=T?.data||[],B=C.useMemo(()=>S?S.filter(M=>{const D=l.toLowerCase(),Q=!l||M.user?.email?.toLowerCase().includes(D)||M.user?.firstName?.toLowerCase().includes(D)||M.user?.lastName?.toLowerCase().includes(D)||M.firstName?.toLowerCase().includes(D)||M.lastName?.toLowerCase().includes(D)||M.userId?.toLowerCase().includes(D),W=d==="all"||M.role===d,Y=m==="all"||m==="active"&&M.isActive||m==="inactive"&&!M.isActive;return Q&&W&&Y}):[],[S,l,d,m]),I=Math.ceil(B.length/x),V=(y-1)*x,U=V+x,L=B.slice(V,U);if(C.useEffect(()=>{b(1)},[l,d,m]),N)return u.jsx("div",{className:"flex justify-center p-12",children:u.jsx(mt,{className:"w-8 h-8 animate-spin text-primary"})});const z=S?.filter(M=>M.role==="parent")||[],F=S?.filter(M=>M.role==="student")||[],q=j?.filter(M=>M.status==="pending")||[];return u.jsxs("div",{className:"space-y-8 p-6 max-w-6xl mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-display font-bold",children:"User Management"}),u.jsx("p",{className:"text-muted-foreground mt-1",children:"View and manage all users on the platform."})]}),u.jsxs(zr,{open:n,onOpenChange:r,children:[u.jsx(Aa,{asChild:!0,children:u.jsxs(ce,{"data-testid":"button-invite-user",children:[u.jsx(NC,{className:"w-4 h-4 mr-2"}),"Invite User"]})}),u.jsxs(Cr,{children:[u.jsxs(Nr,{children:[u.jsx(Pr,{children:"Invite New User"}),u.jsx(Va,{children:"Send an invitation email with a unique link. The user will receive the selected plan tier when they sign up."})]}),u.jsxs("div",{className:"space-y-4 pt-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"email",children:"Email Address"}),u.jsx(ut,{id:"email",type:"email",placeholder:"user@example.com",value:i,onChange:M=>s(M.target.value),"data-testid":"input-invite-email"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"plan",children:"Assign Plan Tier"}),u.jsxs(nn,{value:o,onValueChange:a,children:[u.jsx(Jt,{"data-testid":"select-invite-plan",children:u.jsx(rn,{})}),u.jsx(en,{children:$.length>0?$.map(M=>{const D=M.metadata?.planId||M.name.toLowerCase(),Q=sL[D]||rc;return u.jsx(He,{value:D,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Q,{className:"w-4 h-4"}),M.name]})},M.id)}):iL.map(M=>u.jsx(He,{value:M.value,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(M.icon,{className:"w-4 h-4"}),M.label]})},M.value))})]})]}),u.jsxs(ce,{className:"w-full",onClick:()=>_.mutate({email:i,planId:o}),disabled:!i||_.isPending,"data-testid":"button-send-invitation",children:[_.isPending?u.jsx(mt,{className:"w-4 h-4 mr-2 animate-spin"}):u.jsx(Kb,{className:"w-4 h-4 mr-2"}),"Send Invitation"]})]})]})]})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[u.jsxs(Ye,{children:[u.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[u.jsx(_t,{className:"text-sm font-medium",children:"Total Users"}),u.jsx(Io,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsx(Je,{children:u.jsx("div",{className:"text-2xl font-bold",children:S?.length||0})})]}),u.jsxs(Ye,{children:[u.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[u.jsx(_t,{className:"text-sm font-medium",children:"Parents"}),u.jsx(SO,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsx(Je,{children:u.jsx("div",{className:"text-2xl font-bold",children:z.length})})]}),u.jsxs(Ye,{children:[u.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[u.jsx(_t,{className:"text-sm font-medium",children:"Students"}),u.jsx(zl,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsx(Je,{children:u.jsx("div",{className:"text-2xl font-bold",children:F.length})})]}),u.jsxs(Ye,{children:[u.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[u.jsx(_t,{className:"text-sm font-medium",children:"Pending Invites"}),u.jsx(NC,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsx(Je,{children:u.jsx("div",{className:"text-2xl font-bold",children:q.length})})]})]}),q.length>0&&u.jsxs(Ye,{children:[u.jsx(jt,{children:u.jsxs(_t,{className:"flex items-center gap-2",children:[u.jsx(Pu,{className:"w-5 h-5"}),"Pending Invitations"]})}),u.jsx(Je,{children:u.jsx("div",{className:"space-y-3",children:q.map(M=>{const D=sL[M.planId]||rc;return u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30","data-testid":`row-invitation-${M.id}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(NC,{className:"h-5 w-5 text-muted-foreground"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:M.email}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Sent ",mIe(new Date(M.createdAt),"MMM d, yyyy")]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs(Ft,{variant:"outline",className:"flex items-center gap-1",children:[u.jsx(D,{className:"w-3 h-3"}),M.planId.charAt(0).toUpperCase()+M.planId.slice(1)]}),u.jsxs(Ft,{variant:"secondary",className:"flex items-center gap-1",children:[u.jsx(Pu,{className:"w-3 h-3"}),"Pending"]})]})]},M.id)})})})]}),u.jsxs(Ye,{children:[u.jsx(jt,{children:u.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[u.jsx(_t,{children:"All Users"}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:["Showing ",V+1,"-",Math.min(U,B.length)," of ",B.length," users"]})]})}),u.jsxs(Je,{children:[u.jsx("div",{className:"space-y-4 mb-6",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Wq,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(ut,{placeholder:"Search by name, email, or user ID...",value:l,onChange:M=>c(M.target.value),className:"pl-10","data-testid":"input-search-users"})]}),u.jsxs(nn,{value:d,onValueChange:h,children:[u.jsx(Jt,{className:"w-full sm:w-[150px]","data-testid":"select-role-filter",children:u.jsx(rn,{placeholder:"All Roles"})}),u.jsxs(en,{children:[u.jsx(He,{value:"all",children:"All Roles"}),u.jsx(He,{value:"parent",children:"Parents"}),u.jsx(He,{value:"student",children:"Students"})]})]}),u.jsxs(nn,{value:m,onValueChange:g,children:[u.jsx(Jt,{className:"w-full sm:w-[150px]","data-testid":"select-status-filter",children:u.jsx(rn,{placeholder:"All Status"})}),u.jsxs(en,{children:[u.jsx(He,{value:"all",children:"All Status"}),u.jsx(He,{value:"active",children:"Active"}),u.jsx(He,{value:"inactive",children:"Inactive"})]})]})]})}),u.jsxs("div",{className:"space-y-4",children:[L.map(M=>u.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border bg-muted/30","data-testid":`row-user-${M.id}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(Qm,{className:"h-10 w-10",children:[u.jsx(Ym,{src:M.user?.profileImageUrl}),u.jsx(Xm,{children:M.user?.firstName?.[0]||M.firstName?.[0]||"U"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"font-medium",children:[M.user?.firstName||M.firstName||"User"," ",M.user?.lastName||M.lastName||""]}),u.jsx(Ft,{variant:M.role==="parent"?"default":"secondary",children:M.role}),M.isAdmin&&u.jsxs(Ft,{className:"bg-amber-500 text-white",children:[u.jsx(Kq,{className:"w-3 h-3 mr-1"}),"Admin"]}),M.isActive?u.jsxs(Ft,{variant:"outline",className:"border-green-500 text-green-600",children:[u.jsx(Ice,{className:"w-3 h-3 mr-1"}),"Active"]}):u.jsxs(Ft,{variant:"outline",className:"border-red-500 text-red-600",children:[u.jsx(Dce,{className:"w-3 h-3 mr-1"}),"Inactive"]})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:M.user?.email||M.userId})]})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Plan:"}),u.jsxs(nn,{value:M.planId||"discovery",onValueChange:D=>O.mutate({userId:M.userId,planId:D}),disabled:O.isPending,children:[u.jsx(Jt,{className:"w-28","data-testid":`select-plan-${M.id}`,children:u.jsx(rn,{})}),u.jsx(en,{children:iL.map(D=>u.jsx(He,{value:D.value,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(D.icon,{className:"w-3 h-3"}),D.label]})},D.value))})]}),M.planSource==="stripe"&&u.jsx(Ft,{variant:"outline",className:"text-xs",children:"Stripe"})]}),u.jsx("div",{className:"text-right",children:u.jsxs("p",{className:"text-sm font-medium",children:[M.credits||0," credits"]})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Active"}),u.jsx(rg,{checked:M.isActive,onCheckedChange:D=>E.mutate({userId:M.userId,isActive:D}),disabled:E.isPending,"data-testid":`switch-active-${M.id}`})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Admin"}),u.jsx(rg,{checked:M.isAdmin,onCheckedChange:D=>P.mutate({userId:M.userId,isAdmin:D}),disabled:P.isPending,"data-testid":`switch-admin-${M.id}`})]})]})]},M.id)),L.length===0&&u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:l||d!=="all"||m!=="all"?"No users match your filters.":"No users found."})]}),I>1&&u.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t",children:[u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",y," of ",I]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>b(M=>Math.max(1,M-1)),disabled:y===1,"data-testid":"button-prev-page",children:[u.jsx(Cf,{className:"h-4 w-4 mr-1"}),"Previous"]}),u.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:I},(M,D)=>D+1).filter(M=>M===1||M===I||M>=y-1&&M<=y+1).map((M,D,Q)=>{const W=Q[D-1],Y=W&&M-W>1;return u.jsxs("div",{className:"flex items-center gap-1",children:[Y&&u.jsx("span",{className:"px-2 text-muted-foreground",children:"..."}),u.jsx(ce,{variant:y===M?"default":"outline",size:"sm",onClick:()=>b(M),className:"min-w-[40px]","data-testid":`button-page-${M}`,children:M})]},M)})}),u.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>b(M=>Math.min(I,M+1)),disabled:y===I,"data-testid":"button-next-page",children:["Next",u.jsx(Go,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]})}const UN=[{id:"ocr",name:"OCR Extraction",icon:Jle,description:"Extract questions from images"},{id:"explanation",name:"Explanations",icon:fce,description:"Generate step-by-step solutions"},{id:"reading",name:"Reading Tests",icon:nc,description:"Reading comprehension questions"},{id:"thinking",name:"Thinking Skills",icon:Gu,description:"Logical reasoning questions"},{id:"math",name:"Mathematics",icon:Zle,description:"Math problem generation"}],oL=["OC Test","Selective","HSC","NAPLAN","General"];function vIe(){const{toast:t}=Gn(),e=Kn(),[n,r]=C.useState(UN[0].id),[i,s]=C.useState(oL[0]),[o,a]=C.useState(""),{data:l,isLoading:c}=pt({queryKey:["/api/admin/prompts"]}),d=l?.find(y=>y.area===n&&y.testType===i),h=dt({mutationFn:async()=>$t("POST","/api/admin/prompts",{testType:i,area:n,prompt:o||d?.prompt||""}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/admin/prompts"]}),t({title:"Success",description:"Prompt saved successfully."})},onError:()=>{t({variant:"destructive",title:"Error",description:"Failed to save prompt."})}});if(c)return u.jsx("div",{className:"flex justify-center p-12",children:u.jsx(mt,{className:"w-8 h-8 animate-spin text-primary"})});const m=UN.find(y=>y.id===n),g=m?.icon||nc;return u.jsxs("div",{className:"space-y-8 p-6 max-w-6xl mx-auto",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-display font-bold",children:"AI Prompts"}),u.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure system prompts for AI-powered features."})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[u.jsxs(Ye,{className:"lg:col-span-1",children:[u.jsx(jt,{children:u.jsx(_t,{className:"text-base",children:"Prompt Categories"})}),u.jsx(Je,{className:"space-y-2",children:UN.map(y=>u.jsxs("button",{onClick:()=>{r(y.id),a("")},className:`w-full text-left p-3 rounded-lg transition-colors flex items-center gap-3 ${n===y.id?"bg-primary text-primary-foreground":"hover:bg-muted"}`,"data-testid":`button-category-${y.id}`,children:[u.jsx(y.icon,{className:"w-4 h-4"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-sm",children:y.name}),u.jsx("p",{className:`text-xs ${n===y.id?"text-primary-foreground/70":"text-muted-foreground"}`,children:y.description})]})]},y.id))})]}),u.jsxs(Ye,{className:"lg:col-span-3",children:[u.jsx(jt,{children:u.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:u.jsx(g,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{children:[u.jsxs(_t,{children:[m?.name," Prompt"]}),u.jsx(ss,{children:m?.description})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs(nn,{value:i,onValueChange:s,children:[u.jsx(Jt,{className:"w-[140px]",children:u.jsx(rn,{})}),u.jsx(en,{children:oL.map(y=>u.jsx(He,{value:y,children:y},y))})]}),u.jsxs(ce,{onClick:()=>h.mutate(),disabled:h.isPending,className:"gap-2","data-testid":"button-save-prompt",children:[h.isPending?u.jsx(mt,{className:"w-4 h-4 animate-spin"}):u.jsx(Tce,{className:"w-4 h-4"}),"Save"]})]})]})}),u.jsxs(Je,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{children:"System Prompt"}),u.jsx(Ci,{className:"min-h-[350px] font-mono text-sm",placeholder:"Enter the AI system prompt...",value:o||d?.prompt||"",onChange:y=>a(y.target.value)})]}),u.jsxs("div",{className:"p-4 bg-muted rounded-lg text-sm space-y-2",children:[u.jsx("p",{className:"font-semibold",children:"Tips for effective prompts:"}),u.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-muted-foreground",children:[u.jsx("li",{children:"Be specific about the output format (JSON, markdown, etc.)"}),u.jsx("li",{children:"Include example inputs and expected outputs"}),u.jsx("li",{children:"Specify difficulty level and target audience"}),u.jsx("li",{children:"Define any constraints or requirements"})]})]})]})]})]})]})}const xIe={discovery:rc,mastery:CO,excellence:vO},bIe={discovery:"text-muted-foreground",mastery:"text-blue-500",excellence:"text-amber-500"};function wIe(){const{toast:t}=Gn(),e=Kn(),[n,r]=C.useState(!1),[i,s]=C.useState(""),[o,a]=C.useState(""),[l,c]=C.useState(""),[d,h]=C.useState(""),[m,g]=C.useState(""),[y,b]=C.useState(""),[x,S]=C.useState(""),[N,T]=C.useState(""),[j,P]=C.useState(!1),[E,O]=C.useState(null),[_,$]=C.useState(""),[B,I]=C.useState(""),[V,U]=C.useState(""),[L,z]=C.useState(""),[F,q]=C.useState(""),[M,D]=C.useState(""),[Q,W]=C.useState(""),{data:Y,isLoading:le}=pt({queryKey:["/api/plans"]}),{data:pe,isLoading:he}=pt({queryKey:["/api/admin/plans/stats"]}),Ae=dt({mutationFn:async ae=>$t("POST","/api/admin/plans",ae),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/plans"]}),t({title:"Success",description:"Plan created successfully."}),ue(),r(!1)},onError:()=>{t({variant:"destructive",title:"Error",description:"Failed to create plan."})}}),me=dt({mutationFn:async({productId:ae,data:yt})=>$t("PATCH",`/api/admin/plans/${ae}`,yt),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/plans"]}),t({title:"Success",description:"Plan updated successfully."}),P(!1),O(null)},onError:()=>{t({variant:"destructive",title:"Error",description:"Failed to update plan."})}}),Se=dt({mutationFn:async ae=>$t("DELETE",`/api/admin/plans/${ae}`),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/plans"]}),t({title:"Success",description:"Plan archived successfully."})},onError:()=>{t({variant:"destructive",title:"Error",description:"Failed to archive plan."})}}),ue=()=>{s(""),a(""),c(""),h(""),g(""),b(""),S(""),T("")},Pe=()=>{const ae={planId:d||i.toLowerCase()};m&&(ae.questionLimit=m),y&&(ae.testLimit=y),x&&(ae.studentsLimit=x),N&&(ae.aiExplanationsDaily=N),Ae.mutate({name:i,description:o,price:parseFloat(l)||0,metadata:ae})},Oe=ae=>{O(ae),$(ae.name),I(ae.description||""),U(ae.prices?.[0]?(ae.prices[0].unit_amount/100).toString():"0"),z(ae.metadata?.questionLimit||""),q(ae.metadata?.testLimit||""),D(ae.metadata?.studentsLimit||""),W(ae.metadata?.aiExplanationsDaily||""),P(!0)},oe=()=>{if(!E)return;const ae={...E.metadata,planId:E.metadata?.planId||E.name.toLowerCase()};L&&(ae.questionLimit=L),F&&(ae.testLimit=F),M&&(ae.studentsLimit=M),Q&&(ae.aiExplanationsDaily=Q),me.mutate({productId:E.id,data:{name:_,description:B,metadata:ae,price:parseFloat(V)||0,priceId:E.prices?.[0]?.id}},{onSuccess:()=>{e.invalidateQueries({queryKey:["/api/plans"]}),e.invalidateQueries({queryKey:["/api/admin/plans/stats"]}),t({title:"Success",description:"Plan updated successfully."}),P(!1),O(null)}})},lt=Y?.data||[];return le||he?u.jsx("div",{className:"flex justify-center p-12",children:u.jsx(mt,{className:"w-8 h-8 animate-spin text-primary"})}):u.jsxs("div",{className:"space-y-8 p-6 max-w-6xl mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-display font-bold",children:"Plans Management"}),u.jsx("p",{className:"text-muted-foreground mt-1",children:"Create, edit, and manage subscription plans."})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(zr,{open:n,onOpenChange:r,children:[u.jsx(Aa,{asChild:!0,children:u.jsxs(ce,{"data-testid":"button-create-plan",children:[u.jsx(Ia,{className:"w-4 h-4 mr-2"}),"Create Plan"]})}),u.jsxs(Cr,{className:"max-w-md",children:[u.jsxs(Nr,{children:[u.jsx(Pr,{children:"Create New Plan"}),u.jsx(Va,{children:"Add a new subscription plan to Stripe."})]}),u.jsxs("div",{className:"space-y-4 pt-4 max-h-[60vh] overflow-y-auto",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"plan-name",children:"Plan Name"}),u.jsx(ut,{id:"plan-name",placeholder:"e.g., Premium",value:i,onChange:ae=>s(ae.target.value),"data-testid":"input-plan-name"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"plan-id",children:"Plan ID"}),u.jsx(ut,{id:"plan-id",placeholder:"e.g., premium (lowercase)",value:d,onChange:ae=>h(ae.target.value),"data-testid":"input-plan-id"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"plan-description",children:"Description"}),u.jsx(Ci,{id:"plan-description",placeholder:"Plan description...",value:o,onChange:ae=>a(ae.target.value),"data-testid":"input-plan-description"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"plan-price",children:"Monthly Price ($)"}),u.jsx(ut,{id:"plan-price",type:"number",step:"0.01",placeholder:"0.00",value:l,onChange:ae=>c(ae.target.value),"data-testid":"input-plan-price"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"question-limit",children:"Question Limit"}),u.jsx(ut,{id:"question-limit",placeholder:"unlimited",value:m,onChange:ae=>g(ae.target.value),"data-testid":"input-question-limit"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"test-limit",children:"Test Limit"}),u.jsx(ut,{id:"test-limit",placeholder:"unlimited",value:y,onChange:ae=>b(ae.target.value),"data-testid":"input-test-limit"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"students-limit",children:"Students Limit"}),u.jsx(ut,{id:"students-limit",placeholder:"3",value:x,onChange:ae=>S(ae.target.value),"data-testid":"input-students-limit"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"ai-limit",children:"Explanations/Day"}),u.jsx(ut,{id:"ai-limit",placeholder:"unlimited",value:N,onChange:ae=>T(ae.target.value),"data-testid":"input-ai-limit"})]})]})]}),u.jsx(_u,{children:u.jsxs(ce,{onClick:Pe,disabled:!i||Ae.isPending,"data-testid":"button-submit-create-plan",children:[Ae.isPending?u.jsx(mt,{className:"w-4 h-4 mr-2 animate-spin"}):u.jsx(Ia,{className:"w-4 h-4 mr-2"}),"Create Plan"]})})]})]})})]}),u.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:lt.map(ae=>{const yt=ae.metadata?.planId||ae.name.toLowerCase(),ot=xIe[yt]||rc,Ut=bIe[yt]||"",qt=ae.prices?.[0],gr=pe?.[yt]||0;return u.jsxs(Ye,{"data-testid":`card-admin-plan-${yt}`,children:[u.jsxs(jt,{children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ot,{className:`w-5 h-5 ${Ut}`}),u.jsx(_t,{children:ae.name})]}),ae.metadata?.popular==="true"&&u.jsx(Ft,{children:"Popular"})]}),u.jsx(ss,{children:ae.description})]}),u.jsxs(Je,{className:"space-y-4",children:[u.jsxs("div",{className:"text-3xl font-bold",children:["$",qt?(qt.unit_amount/100).toFixed(2):"0.00",u.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/month"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(Io,{className:"w-4 h-4 text-muted-foreground"}),u.jsxs("span",{children:[gr," users on this plan"]})]}),u.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[ae.metadata?.questionLimit&&u.jsxs("p",{children:["Questions: ",ae.metadata.questionLimit]}),ae.metadata?.aiExplanationsDaily&&u.jsxs("p",{children:["Explanations/day: ",ae.metadata.aiExplanationsDaily]}),ae.metadata?.testLimit&&u.jsxs("p",{children:["Tests: ",ae.metadata.testLimit]}),ae.metadata?.studentsLimit&&u.jsxs("p",{children:["Students: ",ae.metadata.studentsLimit]})]})]}),u.jsxs($ee,{className:"flex gap-2",children:[u.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>Oe(ae),"data-testid":`button-edit-plan-${yt}`,children:[u.jsx(hx,{className:"w-4 h-4 mr-1"}),"Edit"]}),u.jsxs(My,{children:[u.jsx(Iy,{asChild:!0,children:u.jsxs(ce,{variant:"outline",size:"sm","data-testid":`button-delete-plan-${yt}`,children:[u.jsx(Gb,{className:"w-4 h-4 mr-1"}),"Archive"]})}),u.jsxs(Ph,{children:[u.jsxs(Th,{children:[u.jsx(jh,{children:"Archive Plan"}),u.jsxs(Eh,{children:['Are you sure you want to archive the "',ae.name,`" plan? Existing subscribers will keep their current plan, but new users won't be able to subscribe.`]})]}),u.jsxs(Ah,{children:[u.jsx(Oh,{children:"Cancel"}),u.jsx(kh,{onClick:()=>Se.mutate(ae.id),"data-testid":`button-confirm-delete-${yt}`,children:"Archive"})]})]})]})]})]},ae.id)})}),u.jsx(zr,{open:j,onOpenChange:P,children:u.jsxs(Cr,{className:"max-w-md",children:[u.jsxs(Nr,{children:[u.jsx(Pr,{children:"Edit Plan"}),u.jsx(Va,{children:"Update plan details and pricing."})]}),u.jsxs("div",{className:"space-y-4 pt-4 max-h-[60vh] overflow-y-auto",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"edit-name",children:"Plan Name"}),u.jsx(ut,{id:"edit-name",value:_,onChange:ae=>$(ae.target.value),"data-testid":"input-edit-name"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"edit-description",children:"Description"}),u.jsx(Ci,{id:"edit-description",value:B,onChange:ae=>I(ae.target.value),"data-testid":"input-edit-description"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"edit-price",children:"Monthly Price ($)"}),u.jsx(ut,{id:"edit-price",type:"number",step:"0.01",value:V,onChange:ae=>U(ae.target.value),"data-testid":"input-edit-price"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Note: Changing price will create a new price and archive the old one."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"edit-question-limit",children:"Question Limit"}),u.jsx(ut,{id:"edit-question-limit",placeholder:"unlimited",value:L,onChange:ae=>z(ae.target.value),"data-testid":"input-edit-question-limit"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"edit-test-limit",children:"Test Limit"}),u.jsx(ut,{id:"edit-test-limit",placeholder:"unlimited",value:F,onChange:ae=>q(ae.target.value),"data-testid":"input-edit-test-limit"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"edit-students-limit",children:"Students Limit"}),u.jsx(ut,{id:"edit-students-limit",placeholder:"3",value:M,onChange:ae=>D(ae.target.value),"data-testid":"input-edit-students-limit"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"edit-ai-limit",children:"Explanations/Day"}),u.jsx(ut,{id:"edit-ai-limit",placeholder:"unlimited",value:Q,onChange:ae=>W(ae.target.value),"data-testid":"input-edit-ai-limit"})]})]})]}),u.jsx(_u,{children:u.jsxs(ce,{onClick:oe,disabled:!_||me.isPending,"data-testid":"button-submit-edit-plan",children:[me.isPending?u.jsx(mt,{className:"w-4 h-4 mr-2 animate-spin"}):u.jsx(hx,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})})]})}const qN={name:"",description:"",isActive:!0,sortOrder:0};function SIe(){const{toast:t}=Gn(),e=Kn(),[n,r]=C.useState(new Set),[i,s]=C.useState({open:!1,type:"testType"}),[o,a]=C.useState(null),[l,c]=C.useState(qN),{data:d=[],isLoading:h}=pt({queryKey:["/api/test-types"]}),{data:m=[],isLoading:g}=pt({queryKey:["/api/test-areas"]}),{data:y=[],isLoading:b}=pt({queryKey:["/api/categories"]}),{data:x=[],isLoading:S}=pt({queryKey:["/api/sub-categories"]}),N=dt({mutationFn:async D=>D.id?$t("PUT",`/api/test-types/${D.id}`,D):$t("POST","/api/test-types",D),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/test-types"]}),s({open:!1,type:"testType"}),t({title:"Success",description:"Test type saved."})},onError:()=>t({variant:"destructive",title:"Error",description:"Failed to save."})}),T=dt({mutationFn:async D=>D.id?$t("PUT",`/api/test-areas/${D.id}`,D):$t("POST","/api/test-areas",D),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/test-areas"]}),s({open:!1,type:"testArea"}),t({title:"Success",description:"Test area saved."})},onError:()=>t({variant:"destructive",title:"Error",description:"Failed to save."})}),j=dt({mutationFn:async D=>D.id?$t("PUT",`/api/categories/${D.id}`,D):$t("POST","/api/categories",D),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/categories"]}),s({open:!1,type:"category"}),t({title:"Success",description:"Category saved."})},onError:()=>t({variant:"destructive",title:"Error",description:"Failed to save."})}),P=dt({mutationFn:async D=>D.id?$t("PUT",`/api/sub-categories/${D.id}`,D):$t("POST","/api/sub-categories",D),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/sub-categories"]}),s({open:!1,type:"subCategory"}),t({title:"Success",description:"Sub-category saved."})},onError:()=>t({variant:"destructive",title:"Error",description:"Failed to save."})}),E=dt({mutationFn:D=>$t("DELETE",`/api/test-types/${D}`),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/test-types"]}),e.invalidateQueries({queryKey:["/api/test-areas"]}),e.invalidateQueries({queryKey:["/api/categories"]}),e.invalidateQueries({queryKey:["/api/sub-categories"]}),a(null),t({title:"Deleted",description:"Test type and all children removed."})},onError:()=>t({variant:"destructive",title:"Error",description:"Failed to delete."})}),O=dt({mutationFn:D=>$t("DELETE",`/api/test-areas/${D}`),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/test-areas"]}),e.invalidateQueries({queryKey:["/api/categories"]}),e.invalidateQueries({queryKey:["/api/sub-categories"]}),a(null),t({title:"Deleted",description:"Test area and all children removed."})},onError:()=>t({variant:"destructive",title:"Error",description:"Failed to delete."})}),_=dt({mutationFn:D=>$t("DELETE",`/api/categories/${D}`),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/categories"]}),e.invalidateQueries({queryKey:["/api/sub-categories"]}),a(null),t({title:"Deleted",description:"Category and sub-categories removed."})},onError:()=>t({variant:"destructive",title:"Error",description:"Failed to delete."})}),$=dt({mutationFn:D=>$t("DELETE",`/api/sub-categories/${D}`),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/sub-categories"]}),a(null),t({title:"Deleted",description:"Sub-category removed."})},onError:()=>t({variant:"destructive",title:"Error",description:"Failed to delete."})}),B=D=>{r(Q=>{const W=new Set(Q);return W.has(D)?W.delete(D):W.add(D),W})},I=()=>{if(!o)return;const{type:D,id:Q}=o;D==="testType"?E.mutate(Q):D==="testArea"?O.mutate(Q):D==="category"?_.mutate(Q):D==="subCategory"&&$.mutate(Q)},V=(D,Q,W,Y)=>{c(Q?{name:Q.name||"",description:Q.description||"",isActive:Q.isActive??!0,sortOrder:Q.sortOrder??0}:qN),s({open:!0,type:D,editing:Q,parentId:W,parentName:Y})},U=()=>{s({...i,open:!1}),c(qN)},L=D=>{D.preventDefault();const{name:Q,description:W,isActive:Y,sortOrder:le}=l;i.type==="testType"?N.mutate({id:i.editing?.id,name:Q,description:W||void 0,isActive:Y,sortOrder:le}):i.type==="testArea"?T.mutate({id:i.editing?.id,testTypeId:i.parentId,name:Q,description:W||void 0,isActive:Y,sortOrder:le}):i.type==="category"?j.mutate({id:i.editing?.id,testAreaId:i.parentId,name:Q,description:W||void 0,isActive:Y,sortOrder:le}):i.type==="subCategory"&&P.mutate({id:i.editing?.id,categoryId:i.parentId,name:Q,description:W||void 0,isActive:Y,sortOrder:le})};if(h||g||b||S)return u.jsx("div",{className:"flex justify-center p-12",children:u.jsx(mt,{className:"w-8 h-8 animate-spin text-primary"})});const F=D=>{switch(D){case"testType":return"Test Type";case"testArea":return"Test Area";case"category":return"Category";case"subCategory":return"Sub-Category"}},q=D=>{switch(D){case"testType":return"Test Area";case"testArea":return"Category";case"category":return"Sub-Category";default:return""}},M=({nodeKey:D,icon:Q,name:W,description:Y,isActive:le,type:pe,item:he,parentId:Ae,children:me,depth:Se=0})=>{const ue=!!me,Pe=n.has(D),Oe=pe!=="subCategory";return u.jsxs("div",{className:"select-none",children:[u.jsxs(dX,{children:[u.jsx(fX,{children:u.jsxs("div",{className:`flex items-center gap-2 py-1.5 px-2 rounded-md hover-elevate cursor-pointer ${le?"":"opacity-50"}`,style:{paddingLeft:`${Se*20+8}px`},onClick:()=>ue&&B(D),"data-testid":`tree-node-${pe}-${he.id}`,children:[ue?Pe?u.jsx(Ma,{className:"w-4 h-4 text-muted-foreground"}):u.jsx(Go,{className:"w-4 h-4 text-muted-foreground"}):u.jsx("div",{className:"w-4"}),u.jsx(Q,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"flex-1 truncate",children:W}),!le&&u.jsx("span",{className:"text-xs text-muted-foreground",children:"(inactive)"})]})}),u.jsxs(Z$,{children:[Oe&&u.jsxs(u.Fragment,{children:[u.jsxs(hu,{onClick:()=>V(pe==="testType"?"testArea":pe==="testArea"?"category":"subCategory",void 0,he.id,W),"data-testid":`context-add-child-${pe}-${he.id}`,children:[u.jsx(Ia,{className:"w-4 h-4 mr-2"}),"Add ",q(pe)]}),u.jsx(J$,{})]}),u.jsxs(hu,{onClick:()=>V(pe,he,Ae),"data-testid":`context-edit-${pe}-${he.id}`,children:[u.jsx(hx,{className:"w-4 h-4 mr-2"}),"Edit"]}),u.jsxs(hu,{onClick:()=>a({open:!0,type:pe,id:he.id,name:W}),className:"text-destructive","data-testid":`context-delete-${pe}-${he.id}`,children:[u.jsx(Gb,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),ue&&Pe&&u.jsx("div",{children:me})]})};return u.jsxs("div",{className:"space-y-6 p-6 max-w-4xl mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-display font-bold",children:"Reference Tables"}),u.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage the hierarchy: Test Types  Test Areas  Categories  Sub-Categories"})]}),u.jsxs(ce,{onClick:()=>V("testType"),"data-testid":"button-add-test-type",children:[u.jsx(Ia,{className:"w-4 h-4 mr-2"}),"Add Test Type"]})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Right-click on any item to add children, edit, or delete."}),u.jsxs(Ye,{children:[u.jsxs(jt,{children:[u.jsxs(_t,{className:"flex items-center gap-2",children:[u.jsx(Jj,{className:"w-5 h-5"}),"Hierarchy Tree"]}),u.jsx(ss,{children:"Click to expand/collapse. Right-click for options."})]}),u.jsx(Je,{children:d.length===0?u.jsx("p",{className:"text-muted-foreground text-center py-8",children:'No test types yet. Click "Add Test Type" to get started.'}):u.jsx("div",{className:"space-y-1",children:d.map(D=>{const Q=`tt-${D.id}`,W=m.filter(Y=>Y.testTypeId===D.id);return u.jsx(M,{nodeKey:Q,icon:nc,name:D.name,description:D.description,isActive:D.isActive,type:"testType",item:D,depth:0,children:W.length>0&&W.map(Y=>{const le=`ta-${Y.id}`,pe=y.filter(he=>he.testAreaId===Y.id);return u.jsx(M,{nodeKey:le,icon:bO,name:Y.name,description:Y.description,isActive:Y.isActive,type:"testArea",item:Y,parentId:D.id,depth:1,children:pe.length>0&&pe.map(he=>{const Ae=`cat-${he.id}`,me=x.filter(Se=>Se.categoryId===he.id);return u.jsx(M,{nodeKey:Ae,icon:Jj,name:he.name,description:he.description,isActive:he.isActive,type:"category",item:he,parentId:Y.id,depth:2,children:me.length>0&&me.map(Se=>u.jsx(M,{nodeKey:`sub-${Se.id}`,icon:Gq,name:Se.name,description:Se.description,isActive:Se.isActive,type:"subCategory",item:Se,parentId:he.id,depth:3},`sub-${Se.id}`))},Ae)})},le)})},Q)})})})]}),u.jsx(zr,{open:i.open,onOpenChange:D=>!D&&U(),children:u.jsxs(Cr,{children:[u.jsxs(Nr,{children:[u.jsx(Pr,{children:i.editing?`Edit ${F(i.type)}`:`Add ${F(i.type)}`}),i.parentName&&u.jsxs(Va,{children:["Adding to: ",i.parentName]})]}),u.jsxs("form",{onSubmit:L,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"name",children:"Name"}),u.jsx(ut,{id:"name",value:l.name,onChange:D=>c(Q=>({...Q,name:D.target.value})),required:!0,"data-testid":"input-node-name"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{htmlFor:"description",children:"Description (optional)"}),u.jsx(Ci,{id:"description",value:l.description,onChange:D=>c(Q=>({...Q,description:D.target.value})),rows:2,"data-testid":"input-node-description"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(rg,{id:"isActive",checked:l.isActive,onCheckedChange:D=>c(Q=>({...Q,isActive:D})),"data-testid":"switch-node-active"}),u.jsx(Me,{htmlFor:"isActive",children:"Active"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Me,{htmlFor:"sortOrder",children:"Sort Order"}),u.jsx(ut,{id:"sortOrder",type:"number",value:l.sortOrder,onChange:D=>c(Q=>({...Q,sortOrder:parseInt(D.target.value)||0})),className:"w-20","data-testid":"input-node-sort-order"})]})]}),u.jsxs(_u,{children:[u.jsx(ce,{type:"button",variant:"outline",onClick:U,children:"Cancel"}),u.jsxs(ce,{type:"submit",disabled:N.isPending||T.isPending||j.isPending||P.isPending,"data-testid":"button-save-node",children:[(N.isPending||T.isPending||j.isPending||P.isPending)&&u.jsx(mt,{className:"w-4 h-4 mr-2 animate-spin"}),"Save"]})]})]})]})}),u.jsx(zr,{open:!!o?.open,onOpenChange:D=>!D&&a(null),children:u.jsxs(Cr,{children:[u.jsxs(Nr,{children:[u.jsxs(Pr,{children:["Delete ",o&&F(o.type)]}),u.jsxs(Va,{children:['Are you sure you want to delete "',o?.name,'"?',o?.type!=="subCategory"&&" This will also delete all children."]})]}),u.jsxs(_u,{children:[u.jsx(ce,{type:"button",variant:"outline",onClick:()=>a(null),children:"Cancel"}),u.jsxs(ce,{variant:"destructive",onClick:I,disabled:E.isPending||O.isPending||_.isPending||$.isPending,"data-testid":"button-confirm-delete",children:[(E.isPending||O.isPending||_.isPending||$.isPending)&&u.jsx(mt,{className:"w-4 h-4 mr-2 animate-spin"}),"Delete"]})]})]})})]})}function CIe(){const{user:t}=wh(),{toast:e}=Gn(),n=Kn(),[r,i]=C.useState(null),[s,o]=C.useState(null),[a,l]=C.useState(!1),[c,d]=C.useState(null),[h,m]=C.useState(null),g=C.useRef(null),{data:y,isLoading:b}=pt({queryKey:["/api/explanations"],queryFn:async()=>{const P=await fetch("/api/explanations");if(!P.ok)throw new Error("Failed to fetch history");return P.json()}}),x=dt({mutationFn:async P=>(await $t("POST","/api/explanations/resolve",{image:P,parentId:t?.id})).json(),onSuccess:P=>{e({title:"Resolved!",description:"AI has explained the question."}),o(P),d({content:P.questionContent,type:P.aiOptions&&P.aiOptions.length>0?"mcq":"open",options:P.aiOptions||[],correctAnswer:P.aiAnswer,explanation:P.aiExplanation,category:P.category||"General",subCategory:P.subCategory||"",specificSkill:P.specificSkill||"",difficulty:P.difficulty||"3",parentNote:P.parentNote||""}),l(!0),n.invalidateQueries({queryKey:["/api/explanations"]})}}),S=dt({mutationFn:async P=>{await $t("POST","/api/questions",{...P,explanationRequestId:s?.id})},onSuccess:()=>{e({title:"Saved!",description:"Question added to your questions."}),l(!1),n.invalidateQueries({queryKey:["/api/explanations"]})}}),N=P=>{const E=P.target.files?.[0];if(E){if(E.size>50*1024*1024){e({title:"File too large",description:"Please upload an image smaller than 50MB.",variant:"destructive"});return}const O=new FileReader;O.onloadend=()=>i(O.result),O.readAsDataURL(E)}},T=()=>{i(null),o(null),l(!1),d(null),g.current&&(g.current.value="")},j=y?.slice(0,3)||[];return u.jsxs("div",{className:"container mx-auto p-6 max-w-4xl space-y-8",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-display font-bold",children:"Explanations"}),u.jsx("p",{className:"text-muted-foreground mt-1",children:"Upload questions for AI to explain step-by-step"})]})}),s?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-semibold",children:a?"Review & Store Question":"Explanation Result"}),u.jsxs(ce,{variant:"outline",onClick:T,children:[u.jsx(c5,{className:"w-4 h-4 mr-2"}),"Upload Another"]})]}),a?u.jsxs(Ye,{children:[u.jsxs(jt,{children:[u.jsx(_t,{children:"Review Details"}),u.jsx(ss,{children:"Confirm the details before adding to your questions."})]}),u.jsxs(Je,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{children:"Question Content"}),u.jsx(Ci,{value:c?.content,onChange:P=>d({...c,content:P.target.value})})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{children:"Correct Answer"}),u.jsx(ut,{value:c?.correctAnswer,onChange:P=>d({...c,correctAnswer:P.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{children:"Subject"}),u.jsx(ut,{value:c?.subject,onChange:P=>d({...c,subject:P.target.value})})]})]}),c?.type==="mcq"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{children:"Options (comma separated)"}),u.jsx(ut,{value:c?.options?.join(", "),onChange:P=>d({...c,options:P.target.value.split(",").map(E=>E.trim())})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{children:"Reasoning / Explanation"}),u.jsx(Ci,{value:c?.explanation,onChange:P=>d({...c,explanation:P.target.value}),rows:4})]}),u.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[u.jsx(ce,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),u.jsxs(ce,{onClick:()=>S.mutate(c),disabled:S.isPending,className:"gap-2",children:[S.isPending?u.jsx(mt,{className:"w-4 h-4 animate-spin"}):u.jsx(Vr,{className:"w-4 h-4"}),"Save"]})]})]})]}):u.jsx(PIe,{request:s,onEdit:()=>l(!0),resolvedExplanation:s})]}):u.jsx(Ye,{className:"border-dashed border-2",children:u.jsx(Je,{className:"pt-6 text-center space-y-4",children:r?u.jsxs("div",{className:"space-y-4",children:[u.jsx("img",{src:r,alt:"Upload preview",className:"max-h-96 mx-auto rounded-lg shadow-md"}),u.jsxs("div",{className:"flex justify-center gap-2",children:[u.jsx(ce,{variant:"outline",onClick:()=>i(null),children:"Clear"}),u.jsxs(ce,{onClick:()=>x.mutate(r),disabled:x.isPending,className:"gap-2",children:[x.isPending?u.jsx(mt,{className:"animate-spin"}):u.jsx(Gu,{className:"w-4 h-4"}),"Ask AI to Resolve"]})]})]}):u.jsxs("div",{className:"py-12 flex flex-col items-center justify-center cursor-pointer hover:bg-muted/50 transition-colors rounded-lg",onClick:()=>g.current?.click(),children:[u.jsx(c5,{className:"w-12 h-12 text-muted-foreground mb-4"}),u.jsx("p",{className:"text-lg font-medium",children:"Upload a question picture"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Take a photo of a hard question for AI to solve"}),u.jsx("p",{className:"text-[10px] text-muted-foreground mt-2",children:"PNG, JPG up to 50MB"}),u.jsx(ut,{type:"file",accept:"image/png,image/jpeg",className:"hidden",ref:g,onChange:N})]})})}),j.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Recent Explanations"}),u.jsx(ce,{variant:"ghost",className:"gap-2 text-primary",asChild:!0,"data-testid":"link-view-more-history",children:u.jsxs(yi,{href:"/parent/explanations/history",children:["View All History",u.jsx(Xj,{className:"w-4 h-4"})]})})]}),u.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:j.map(P=>u.jsx(NIe,{item:P,onClick:()=>m(P)},P.id))})]}),u.jsx(zr,{open:!!h,onOpenChange:P=>!P&&m(null),children:u.jsxs(Cr,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(Nr,{children:[u.jsx(Pr,{children:"Explanation Details"}),u.jsx(Va,{children:"View the AI-generated explanation for this question"})]}),h&&u.jsx(TIe,{request:h,onClose:()=>m(null),onSave:()=>m(null)})]})})]})}function NIe({item:t,onClick:e}){const n={resolved:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",failed_record:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",pending:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"};return u.jsxs(Ye,{className:"overflow-hidden cursor-pointer hover:shadow-lg hover:border-primary/50 transition-all group h-full",onClick:e,"data-testid":`card-recent-explanation-${t.id}`,children:[u.jsxs("div",{className:"aspect-video bg-muted relative overflow-hidden",children:[u.jsx("img",{src:t.imageUrl,alt:"Question",className:"w-full h-full object-contain p-2 group-hover:scale-105 transition-transform"}),u.jsx("div",{className:`absolute top-2 right-2 px-2 py-0.5 rounded text-[10px] font-bold uppercase ${n[t.status]||n.pending}`,children:t.status==="failed_record"?"Retest":t.status||"Pending"})]}),u.jsxs(Je,{className:"p-4 space-y-2",children:[u.jsx("p",{className:"text-sm line-clamp-2 font-medium",children:t.questionContent}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:new Date(t.createdAt).toLocaleDateString()}),u.jsx("span",{className:"text-primary font-semibold opacity-0 group-hover:opacity-100 transition-opacity",children:"View Details"})]})]})]})}function PIe({request:t,onEdit:e,resolvedExplanation:n}){const r=Kn(),{toast:i}=Gn(),[s,o]=C.useState(!1),[a,l]=C.useState(""),c=dt({mutationFn:async({feedback:h,isCorrect:m})=>{await $t("POST",`/api/explanations/${t.id}/feedback`,{feedback:h||"",isCorrect:m})},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/explanations"]}),i({title:"Feedback saved"}),o(!1),l("")}}),d=dt({mutationFn:async h=>{await $t("POST","/api/questions",{...h,explanationRequestId:t?.id||(n?n.id:void 0)})},onSuccess:()=>{i({title:"Saved!",description:"Question added to your questions."}),e&&e(),r.invalidateQueries({queryKey:["/api/explanations"]})}});return u.jsx(Ye,{className:"overflow-hidden border-2 shadow-sm hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[u.jsx("div",{className:"relative aspect-video md:aspect-auto bg-muted",children:u.jsx("img",{src:t.imageUrl,className:"absolute inset-0 w-full h-full object-contain p-4",alt:"Original question"})}),u.jsxs(Je,{className:"p-6 space-y-6 bg-background",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("div",{className:"space-y-1",children:u.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[u.jsx(Kb,{className:"w-4 h-4"}),u.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest",children:"Extracted Question"})]})}),e&&u.jsx(ce,{size:"sm",variant:"ghost",className:"h-8",onClick:e,children:"Edit & Store"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"p-4 rounded-lg bg-muted/30 border text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:t.questionContent}}),t.aiOptions&&t.aiOptions.length>0&&u.jsx("div",{className:"grid grid-cols-1 gap-2 mt-2",children:t.aiOptions.map((h,m)=>u.jsxs("div",{className:"flex items-start gap-2 text-sm p-2 rounded border bg-background",children:[u.jsxs("span",{className:"font-bold text-primary",children:[String.fromCharCode(65+m),"."]}),u.jsx("span",{children:h})]},m))})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[u.jsx(Nf,{className:"w-4 h-4"}),u.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest",children:"AI Suggested Answer"})]}),u.jsx("div",{className:"p-4 rounded-lg bg-green-50 dark:bg-green-900/10 border border-green-100 dark:border-green-900/30 font-bold text-lg",children:t.aiAnswer})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[u.jsx(Gu,{className:"w-4 h-4"}),u.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest",children:"Step-by-Step Reasoning"})]}),u.jsx("div",{className:"p-4 rounded-lg bg-amber-50 dark:bg-amber-900/10 border border-amber-100 dark:border-amber-900/30 text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:t.aiExplanation}})]}),u.jsxs("div",{className:"pt-6 border-t space-y-4",children:[u.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[t.questionId?u.jsxs(ce,{size:"sm",variant:"outline",className:"gap-2 text-green-600 border-green-200 bg-green-50 hover:bg-green-50 hover:text-green-600 cursor-default",children:[u.jsx(Nu,{className:"w-3.5 h-3.5"})," Already in Bank"]}):u.jsxs(ce,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>d.mutate({}),disabled:d.isPending,children:[d.isPending?u.jsx(mt,{className:"w-3.5 h-3.5 animate-spin"}):u.jsx(Nu,{className:"w-3.5 h-3.5"}),"Add to Question Bank"]}),(t.isCorrect===null||t.isCorrect===0||t.isCorrect===1)&&u.jsxs(ce,{size:"sm",variant:t.isCorrect===1?"default":"ghost",className:`gap-2 ${t.isCorrect===1?"bg-[#9a9df1] hover:bg-[#8b8ed9] text-white":"text-[#9a9df1] hover:text-[#8b8ed9] hover:bg-[#9a9df1]/10"}`,onClick:()=>c.mutate({isCorrect:1}),disabled:c.isPending||t.isCorrect!==null&&t.isCorrect!==0,children:[u.jsx(Nf,{className:"w-3.5 h-3.5"})," Correct"]}),(t.isCorrect===null||t.isCorrect===0||t.isCorrect===-1)&&u.jsxs(ce,{size:"sm",variant:t.isCorrect===-1?"default":"ghost",className:`gap-2 ${t.isCorrect===-1?"bg-[#e89c9c] hover:bg-[#d68a8a] text-white":"text-[#e89c9c] hover:text-[#d68a8a] hover:bg-[#e89c9c]/10"}`,onClick:()=>o(!0),disabled:c.isPending||t.isCorrect!==null&&t.isCorrect!==0,children:[u.jsx(wO,{className:"w-3.5 h-3.5"})," Incorrect"]})]}),s&&u.jsxs("div",{className:"space-y-3 animate-in slide-in-from-top-2",children:[u.jsx(Ci,{placeholder:"Tell us what was wrong...",value:a,onChange:h=>l(h.target.value),className:"min-h-[100px]"}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>o(!1),children:"Cancel"}),u.jsx(ce,{size:"sm",onClick:()=>c.mutate({isCorrect:-1,feedback:a}),disabled:c.isPending,children:"Submit Feedback"})]})]})]})]})]})})}function TIe({request:t,onClose:e,onSave:n}){const r=Kn(),{toast:i}=Gn(),[s,o]=C.useState(!1),a=dt({mutationFn:async()=>{const g={content:t.questionContent,type:t.aiOptions&&t.aiOptions.length>0?"mcq":"open",options:t.aiOptions||[],correctAnswer:t.aiAnswer,explanation:t.aiExplanation,category:t.category||"General",subCategory:t.subCategory||"",specificSkill:t.specificSkill||"",difficulty:t.difficulty||"3",parentNote:t.parentNote||"",explanationRequestId:t.id};await $t("POST","/api/questions",g)},onSuccess:()=>{i({title:"Saved!",description:"Question added to your questions."}),n&&n(),r.invalidateQueries({queryKey:["/api/explanations"]})}}),[l,c]=C.useState(!1),[d,h]=C.useState(""),m=dt({mutationFn:async({feedback:g,isCorrect:y})=>{await $t("POST",`/api/explanations/${t.id}/feedback`,{feedback:g||"",isCorrect:typeof y=="number"?y:void 0})},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/explanations"]}),i({title:"Feedback saved"}),c(!1),h("")}});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsx("div",{className:"bg-muted rounded-lg overflow-hidden",children:u.jsx("img",{src:t.imageUrl,className:"w-full h-auto object-contain p-4 max-h-80",alt:"Original question"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[u.jsx(Kb,{className:"w-4 h-4"}),u.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest",children:"Extracted Question"})]}),u.jsx("div",{className:"p-4 rounded-lg bg-muted/30 border text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:t.questionContent}})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("h4",{className:"text-[10px] font-bold uppercase text-muted-foreground tracking-wider",children:"Category"}),u.jsx("p",{className:"text-sm font-medium",children:t.category||"General"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("h4",{className:"text-[10px] font-bold uppercase text-muted-foreground tracking-wider",children:"Sub Category"}),u.jsx("p",{className:"text-sm font-medium",children:t.subCategory||"None"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("h4",{className:"text-[10px] font-bold uppercase text-muted-foreground tracking-wider",children:"Specific Skill"}),u.jsx("p",{className:"text-sm font-medium",children:t.specificSkill||"None"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("h4",{className:"text-[10px] font-bold uppercase text-muted-foreground tracking-wider",children:"Difficulty"}),u.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(g=>u.jsx("div",{className:`h-2 w-4 rounded-full ${g<=(parseInt(t.difficulty)||0)?"bg-primary":"bg-muted"}`},g)),u.jsxs("span",{className:"text-xs ml-1",children:[t.difficulty,"/5"]})]})]})]}),t.aiOptions&&t.aiOptions.length>0&&u.jsx("div",{className:"grid grid-cols-1 gap-2",children:t.aiOptions.map((g,y)=>u.jsxs("div",{className:"flex items-start gap-2 text-sm p-2 rounded border bg-background",children:[u.jsxs("span",{className:"font-bold text-primary",children:[String.fromCharCode(65+y),"."]}),u.jsx("span",{children:g})]},y))})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[u.jsx(Nf,{className:"w-4 h-4"}),u.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest",children:"AI Suggested Answer"})]}),u.jsx("div",{className:"p-4 rounded-lg bg-green-50 dark:bg-green-900/10 border border-green-100 dark:border-green-900/30 font-bold text-lg",children:t.aiAnswer})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[u.jsx(Gu,{className:"w-4 h-4"}),u.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest",children:"Step-by-Step Reasoning"})]}),u.jsx("div",{className:"p-4 rounded-lg bg-amber-50 dark:bg-amber-900/10 border border-amber-100 dark:border-amber-900/30 text-sm leading-relaxed max-h-60 overflow-y-auto",dangerouslySetInnerHTML:{__html:t.aiExplanation}})]}),t.rawAiResponse&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs(ce,{variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground",onClick:()=>o(!s),"data-testid":"button-toggle-json",children:[u.jsx(Vq,{className:"w-4 h-4"}),s?"Hide":"Show"," Raw AI Response (Developer)"]}),s&&u.jsx("pre",{className:"p-4 rounded-lg bg-slate-900 text-slate-100 text-xs overflow-auto max-h-60 font-mono",children:JSON.stringify(t.rawAiResponse,null,2)})]}),u.jsxs("div",{className:"pt-6 border-t flex flex-wrap gap-3 items-center",children:[t.questionId?u.jsxs(ce,{size:"sm",variant:"outline",className:"gap-2 text-green-600 border-green-200 bg-green-50 hover:bg-green-50 hover:text-green-600 cursor-default",children:[u.jsx(Nu,{className:"w-3.5 h-3.5"})," Already in Bank"]}):u.jsxs(ce,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>a.mutate(),disabled:a.isPending,"data-testid":"button-add-to-bank",children:[a.isPending?u.jsx(mt,{className:"w-3.5 h-3.5 animate-spin"}):u.jsx(Nu,{className:"w-3.5 h-3.5"}),"Add to Question Bank"]}),(t.isCorrect===null||t.isCorrect===0||t.isCorrect===1)&&u.jsxs(ce,{size:"sm",variant:t.isCorrect===1?"default":"ghost",className:`gap-2 ${t.isCorrect===1?"bg-[#9a9df1] hover:bg-[#8b8ed9] text-white":"text-[#9a9df1] hover:text-[#8b8ed9] hover:bg-[#9a9df1]/10"}`,onClick:()=>m.mutate({isCorrect:1}),disabled:m.isPending||t.isCorrect!==null&&t.isCorrect!==0,children:[u.jsx(Nf,{className:"w-3.5 h-3.5"})," Correct"]}),(t.isCorrect===null||t.isCorrect===0||t.isCorrect===-1)&&u.jsxs(ce,{size:"sm",variant:t.isCorrect===-1?"default":"ghost",className:`gap-2 ${t.isCorrect===-1?"bg-[#e89c9c] hover:bg-[#d68a8a] text-white":"text-[#e89c9c] hover:text-[#d68a8a] hover:bg-[#e89c9c]/10"}`,onClick:()=>c(!0),disabled:m.isPending||t.isCorrect!==null&&t.isCorrect!==0,children:[u.jsx(wO,{className:"w-3.5 h-3.5"})," Incorrect"]})]}),l&&u.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30 animate-in slide-in-from-top-2",children:[u.jsx(Me,{className:"text-xs font-bold uppercase tracking-wider",children:"Your Feedback"}),u.jsx(Ci,{placeholder:"Tell us what was wrong with the AI response...",value:d,onChange:g=>h(g.target.value),className:"min-h-[100px] bg-background"}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>c(!1),children:"Cancel"}),u.jsx(ce,{size:"sm",onClick:()=>m.mutate({isCorrect:-1,feedback:d}),disabled:m.isPending,children:"Submit Feedback"})]})]})]})}function AIe(){Gn(),Kn();const[t,e]=C.useState("grid"),[n,r]=C.useState(null),{data:i,isLoading:s}=pt({queryKey:["/api/explanations"],queryFn:async()=>{const o=await fetch("/api/explanations");if(!o.ok)throw new Error("Failed to fetch history");return o.json()}});return u.jsxs("div",{className:"container mx-auto p-6 max-w-6xl space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(ce,{variant:"ghost",size:"icon",asChild:!0,"data-testid":"button-back-explanations",children:u.jsx(yi,{href:"/parent/explanations",children:u.jsx(Wb,{className:"w-5 h-5"})})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-display font-bold",children:"Explanation History"}),u.jsx("p",{className:"text-muted-foreground",children:"View all your past question explanations"})]})]}),u.jsxs("div",{className:"flex gap-2 bg-muted p-1 rounded-lg",children:[u.jsx(ce,{variant:t==="grid"?"default":"ghost",size:"sm",onClick:()=>e("grid"),"data-testid":"button-view-grid",children:u.jsx(cce,{className:"w-4 h-4"})}),u.jsx(ce,{variant:t==="list"?"default":"ghost",size:"sm",onClick:()=>e("list"),"data-testid":"button-view-list",children:u.jsx(qq,{className:"w-4 h-4"})})]})]}),s?u.jsx("div",{className:"grid place-items-center h-64",children:u.jsx(mt,{className:"w-8 h-8 animate-spin text-primary"})}):!i||i.length===0?u.jsxs(Ye,{className:"p-12 text-center",children:[u.jsx("p",{className:"text-muted-foreground",children:"No explanation history yet."}),u.jsx(ce,{className:"mt-4",asChild:!0,"data-testid":"button-new-explanation",children:u.jsxs(yi,{href:"/parent/explanations",children:[u.jsx(Nu,{className:"w-4 h-4 mr-2"}),"Create New Explanation"]})})]}):t==="grid"?u.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i.map(o=>u.jsx(jIe,{item:o,onClick:()=>r(o)},o.id))}):u.jsx("div",{className:"space-y-3",children:i.map(o=>u.jsx(EIe,{item:o,onClick:()=>r(o)},o.id))}),u.jsx(zr,{open:!!n,onOpenChange:o=>!o&&r(null),children:u.jsxs(Cr,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(Nr,{children:[u.jsx(Pr,{children:"Explanation Details"}),u.jsx(Va,{children:"View the AI-generated explanation for this question"})]}),n&&u.jsx(kIe,{request:n,onClose:()=>r(null)})]})})]})}function jIe({item:t,onClick:e}){const n={resolved:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",failed_record:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",pending:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"};return u.jsxs(Ye,{className:"overflow-hidden cursor-pointer hover:shadow-lg hover:border-primary/50 transition-all group",onClick:e,"data-testid":`card-explanation-${t.id}`,children:[u.jsxs("div",{className:"aspect-video bg-muted relative overflow-hidden",children:[u.jsx("img",{src:t.imageUrl,alt:"Question",className:"w-full h-full object-contain p-2 group-hover:scale-105 transition-transform"}),u.jsxs("div",{className:`absolute top-2 right-2 px-2 py-0.5 rounded text-[10px] font-bold uppercase flex items-center gap-1 ${n[t.status]||n.pending}`,children:[t.status==="failed_record"?"Retest":t.status==="resolved"?null:t.status||"Pending",t.status==="resolved"&&t.isCorrect===1&&u.jsx(Fq,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t.status==="resolved"&&t.isCorrect===-1&&u.jsx(my,{className:"w-3 h-3 text-red-600 dark:text-red-400"})]})]}),u.jsxs(Je,{className:"p-4 space-y-2",children:[u.jsx("p",{className:"text-sm line-clamp-2 font-medium",children:t.questionContent}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:new Date(t.createdAt).toLocaleDateString()}),u.jsx("span",{className:"text-primary font-semibold",children:"View Details"})]})]})]})}function EIe({item:t,onClick:e}){const n={resolved:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",failed_record:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",pending:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"};return u.jsx(Ye,{className:"overflow-hidden cursor-pointer hover:shadow-md hover:border-primary/50 transition-all",onClick:e,"data-testid":`card-explanation-list-${t.id}`,children:u.jsxs("div",{className:"flex gap-4 p-4",children:[u.jsx("div",{className:"w-24 h-24 bg-muted rounded-lg overflow-hidden shrink-0",children:u.jsx("img",{src:t.imageUrl,alt:"Question",className:"w-full h-full object-contain p-1"})}),u.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsx("p",{className:"text-sm font-medium line-clamp-2",children:t.questionContent}),u.jsxs("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase shrink-0 flex items-center gap-1 ${n[t.status]||n.pending}`,children:[t.status==="failed_record"?"Retest":t.status==="resolved"?null:t.status||"Pending",t.status==="resolved"&&t.isCorrect===1&&u.jsx(Fq,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),t.status==="resolved"&&t.isCorrect===-1&&u.jsx(my,{className:"w-3 h-3 text-red-600 dark:text-red-400"})]})]}),u.jsxs("p",{className:"text-xs text-muted-foreground line-clamp-1",children:["Answer:"," ",u.jsx("span",{className:"font-semibold text-foreground",children:t.aiAnswer})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:new Date(t.createdAt).toLocaleDateString()}),u.jsx("span",{className:"text-primary font-semibold",children:"View Details"})]})]})]})})}function kIe({request:t,onClose:e,onSave:n}){const r=Kn(),{toast:i}=Gn(),[s,o]=C.useState(!1),[a,l]=C.useState(!1),[c,d]=C.useState(""),h=dt({mutationFn:async()=>{const g={content:t.questionContent,type:t.aiOptions&&t.aiOptions.length>0?"mcq":"open",options:t.aiOptions||[],correctAnswer:t.aiAnswer,explanation:t.aiExplanation,category:t.category||"General",subCategory:t.subCategory||"",specificSkill:t.specificSkill||"",difficulty:t.difficulty||"3",parentNote:t.parentNote||"",explanationRequestId:t.id};await $t("POST","/api/questions",g)},onSuccess:()=>{i({title:"Saved!",description:"Question added to your questions."}),n&&n(),r.invalidateQueries({queryKey:["/api/explanations"]})}}),m=dt({mutationFn:async({feedback:g,isCorrect:y})=>{await $t("POST",`/api/explanations/${t.id}/feedback`,{feedback:g||"",isCorrect:y})},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/explanations"]}),i({title:"Feedback saved"}),l(!1),d("")}});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsx("div",{className:"bg-muted rounded-lg overflow-hidden",children:u.jsx("img",{src:t.imageUrl,className:"w-full h-auto object-contain p-4 max-h-80",alt:"Original question"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[u.jsx(Kb,{className:"w-4 h-4"}),u.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest",children:"Extracted Question"})]}),u.jsx("div",{className:"p-4 rounded-lg bg-muted/30 border text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:t.questionContent}})]}),t.aiOptions&&t.aiOptions.length>0&&u.jsx("div",{className:"grid grid-cols-1 gap-2",children:t.aiOptions.map((g,y)=>u.jsxs("div",{className:"flex items-start gap-2 text-sm p-2 rounded border bg-background",children:[u.jsxs("span",{className:"font-bold text-primary",children:[String.fromCharCode(65+y),"."]}),u.jsx("span",{children:g})]},y))})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[u.jsx(Nf,{className:"w-4 h-4"}),u.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest",children:"AI Suggested Answer"})]}),u.jsx("div",{className:"p-4 rounded-lg bg-green-50 dark:bg-green-900/10 border border-green-100 dark:border-green-900/30 font-bold text-lg",children:t.aiAnswer})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[u.jsx(Gu,{className:"w-4 h-4"}),u.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest",children:"Step-by-Step Reasoning"})]}),u.jsx("div",{className:"p-4 rounded-lg bg-amber-50 dark:bg-amber-900/10 border border-amber-100 dark:border-amber-900/30 text-sm leading-relaxed whitespace-pre-wrap max-h-60 overflow-y-auto",dangerouslySetInnerHTML:{__html:t.aiExplanation}})]}),t.rawAiResponse&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs(ce,{variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground",onClick:()=>o(!s),children:[u.jsx(Vq,{className:"w-4 h-4"}),s?"Hide":"Show"," Raw AI Response (Developer)"]}),s&&u.jsx("pre",{className:"p-4 rounded-lg bg-slate-900 text-slate-100 text-xs overflow-auto max-h-60 font-mono",children:JSON.stringify(t.rawAiResponse,null,2)})]}),u.jsxs("div",{className:"pt-4 border-t space-y-4",children:[u.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[t.questionId?u.jsxs(ce,{size:"sm",variant:"outline",className:"gap-2 text-green-600 border-green-200 bg-green-50 hover:bg-green-50 hover:text-green-600 cursor-default",children:[u.jsx(Nu,{className:"w-3.5 h-3.5"})," Already in Bank"]}):u.jsxs(ce,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>h.mutate(),disabled:h.isPending,children:[h.isPending?u.jsx(mt,{className:"w-3.5 h-3.5 animate-spin"}):u.jsx(Nu,{className:"w-3.5 h-3.5"}),"Add to Question Bank"]}),(t.isCorrect===null||t.isCorrect===0||t.isCorrect===1)&&u.jsxs(ce,{size:"sm",variant:t.isCorrect===1?"default":"ghost",className:"gap-2 bg-[#9a9df1] hover:bg-[#8b8ed9] text-white",onClick:()=>m.mutate({isCorrect:1}),disabled:m.isPending||t.isCorrect!==null&&t.isCorrect!==0,children:[u.jsx(Nf,{className:"w-3.5 h-3.5"})," Correct"]}),(t.isCorrect===null||t.isCorrect===0||t.isCorrect===-1)&&u.jsxs(ce,{size:"sm",variant:t.isCorrect===-1?"default":"ghost",className:"gap-2 bg-[#e89c9c] hover:bg-[#d68a8a] text-white",onClick:()=>l(!0),disabled:m.isPending||t.isCorrect!==null&&t.isCorrect!==0,children:[u.jsx(wO,{className:"w-3.5 h-3.5"})," Incorrect"]})]}),a&&u.jsxs("div",{className:"space-y-3 animate-in slide-in-from-top-2",children:[u.jsx(Ci,{placeholder:"Tell us what was wrong...",value:c,onChange:g=>d(g.target.value),className:"min-h-[100px]"}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>l(!1),children:"Cancel"}),u.jsx(ce,{size:"sm",onClick:()=>m.mutate({isCorrect:-1,feedback:c}),disabled:m.isPending,children:"Submit Feedback"})]})]})]})]})}function OIe(){const{data:t,isLoading:e}=UO(),{data:n}=Ka(),{data:r}=ow(),i=C.useMemo(()=>!t||!n?[]:t.filter(s=>!!s.completedAt).map(s=>{const a=n.find(T=>T.id===s.studentId)?.firstName||"Unknown Student",l=s.test?.title||"Unknown Test",c=s.completedAt?new Date(s.completedAt):new Date(s.startedAt),d=s.answers||{},h=s.test?.questions||[],m=h.length||s.test?.questionIds?.length||0;let g=0;if(m>0)if(h.length>0){let T=0;h.forEach(j=>{const P=d[j.id];let E=!1;if(j.type==="mcq")if(/^[A-E]$/i.test(j.correctAnswer)){const _=j.correctAnswer.toUpperCase().charCodeAt(0)-65,$=j.options?.[_];E=P===$}else E=P===j.correctAnswer;else E=P?.trim().toLowerCase()===j.correctAnswer?.trim().toLowerCase();E&&T++}),g=Math.round(T/m*100)}else g=s.score??0;const y=c.getDate().toString().padStart(2,"0"),x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][c.getMonth()],S=c.getFullYear(),N=`${y}${x}${S}`;return{...s,studentName:a,testName:l,displayName:`${a}_${l}_${N}`,score:g,formattedDate:c.toLocaleDateString(),formattedTime:c.toLocaleTimeString()}}).sort((s,o)=>new Date(o.completedAt).getTime()-new Date(s.completedAt).getTime()),[t,n]);return e?u.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:u.jsx(mt,{className:"w-8 h-8 animate-spin text-primary"})}):u.jsxs("div",{className:"space-y-4 md:space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold",children:"Results"}),u.jsx("p",{className:"text-sm md:text-base text-muted-foreground mt-1",children:"View all completed test attempts by your students"})]}),u.jsxs(Ft,{variant:"secondary",className:"text-sm w-fit",children:[i.length," Completed"]})]}),i.length===0?u.jsx(Ye,{children:u.jsxs(Je,{className:"p-8 md:p-12 text-center",children:[u.jsx(jm,{className:"w-10 h-10 md:w-12 md:h-12 mx-auto text-muted-foreground/50 mb-4"}),u.jsx("h3",{className:"text-base md:text-lg font-semibold mb-2",children:"No Results Yet"}),u.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:"Your students haven't completed any tests yet. Results will appear here once they finish a test."})]})}):u.jsx("div",{className:"grid gap-3 md:gap-4",children:i.map(s=>u.jsx(Ye,{className:"hover:shadow-md transition-shadow",children:u.jsx(Je,{className:"p-4 md:p-6",children:u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3 md:gap-4",children:[u.jsxs("div",{className:"flex items-start md:items-center gap-3 md:gap-4 min-w-0 flex-1",children:[u.jsxs("div",{className:se("w-12 h-12 md:w-14 md:h-14 rounded-xl flex items-center justify-center font-bold text-base md:text-lg flex-shrink-0",(s.score??0)>=80?"bg-green-100 text-green-700":(s.score??0)>=50?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"),children:[s.score??0,"%"]}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("h3",{className:"font-semibold text-base md:text-lg line-clamp-2","data-testid":`result-name-${s.id}`,children:s.displayName}),u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-4 text-xs md:text-sm text-muted-foreground mt-1",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Pu,{className:"w-3 h-3 md:w-4 md:h-4"}),s.formattedDate," at ",s.formattedTime]}),s.isReviewed?u.jsxs(Ft,{variant:"outline",className:"gap-1 text-green-600 border-green-200 bg-green-50 w-fit text-xs",children:[u.jsx(Vr,{className:"w-3 h-3"}),"Reviewed"]}):u.jsxs(Ft,{variant:"outline",className:"gap-1 text-amber-600 border-amber-200 bg-amber-50 w-fit text-xs",children:[u.jsx(jm,{className:"w-3 h-3"}),"Pending Review"]})]})]})]}),u.jsx(yi,{href:`/parent/results/${s.id}`,className:"flex-shrink-0",children:u.jsxs(ce,{variant:"outline",size:"sm",className:"gap-2 w-full md:w-auto","data-testid":`button-view-result-${s.id}`,children:[u.jsx(Uq,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"View Details"}),u.jsx("span",{className:"sm:hidden",children:"View"})]})})]})})},s.id))})]})}function $Ie(){const[,t]=Vb("/parent/results/:id"),[,e]=vo(),n=t?.id?parseInt(t.id):null,{toast:r}=Gn(),i=Kn(),{data:s}=Ka(),[o,a]=C.useState(""),{data:l,isLoading:c}=pt({queryKey:["/api/attempts",n],queryFn:async()=>{const I=await fetch(`/api/attempts/${n}`,{credentials:"include"});if(!I.ok)throw new Error("Failed to fetch attempt");return I.json()},enabled:!!n}),d=dt({mutationFn:async()=>{const I=await fetch(`/api/attempts/${n}/review`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isReviewed:!0,reviewNotes:o}),credentials:"include"});if(!I.ok)throw new Error("Failed to mark as reviewed");return I.json()},onSuccess:()=>{r({title:"Marked as Reviewed",description:"This attempt has been marked as reviewed."}),i.invalidateQueries({queryKey:["/api/attempts",n]}),i.invalidateQueries({queryKey:["/api/attempts"]})},onError:I=>{r({title:"Error",description:I.message,variant:"destructive"})}});if(c)return u.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:u.jsx(mt,{className:"w-8 h-8 animate-spin text-primary"})});if(!l)return u.jsxs("div",{className:"text-center py-12",children:[u.jsx(jm,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Result Not Found"}),u.jsx(yi,{href:"/parent/results",children:u.jsx(ce,{variant:"outline",children:"Back to Results"})})]});const{attempt:h,test:m,questions:g}=l,b=s?.find(I=>I.id===h.studentId)?.firstName||"Unknown Student",x=h.completedAt?new Date(h.completedAt):null,S=x?.getDate().toString().padStart(2,"0")||"",T=x?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][x.getMonth()]:"",j=x?.getFullYear()||"",P=`${S}${T}${j}`,E=`${b}_${m?.title||"Test"}_${P}`,O=h.answers||{};let _=0;const $=g?.map(I=>{const V=O[I.id];let U=!1;if(I.type==="mcq")if(/^[A-E]$/i.test(I.correctAnswer)){const z=I.correctAnswer.toUpperCase().charCodeAt(0)-65,F=I.options?.[z];U=V===F}else U=V===I.correctAnswer;else U=V?.trim().toLowerCase()===I.correctAnswer?.trim().toLowerCase();return U&&_++,{...I,userAnswer:V,isCorrect:U}})||[],B=g?.length?Math.round(_/g.length*100):0;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(yi,{href:"/parent/results",children:u.jsx(ce,{variant:"ghost",size:"icon","data-testid":"button-back-results",children:u.jsx(Wb,{className:"w-5 h-5"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-2xl font-display font-bold","data-testid":"result-title",children:E}),u.jsx("p",{className:"text-muted-foreground",children:"Detailed test results and answers"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(Ye,{children:u.jsxs(Je,{className:"p-4 flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:u.jsx(SO,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-xs text-muted-foreground",children:"Student"}),u.jsx("p",{className:"font-semibold truncate",children:b})]})]})}),u.jsx(Ye,{children:u.jsxs(Je,{className:"p-4 flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:u.jsx(Tu,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-xs text-muted-foreground",children:"Test"}),u.jsx("p",{className:"font-semibold truncate",children:m?.title||"Unknown"})]})]})}),u.jsx(Ye,{children:u.jsxs(Je,{className:"p-4 flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${B>=80?"bg-green-100":B>=50?"bg-amber-100":"bg-red-100"}`,children:u.jsxs("span",{className:`font-bold ${B>=80?"text-green-700":B>=50?"text-amber-700":"text-red-700"}`,children:[B,"%"]})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-xs text-muted-foreground",children:"Score"}),u.jsxs("p",{className:"font-semibold",children:[_,"/",g?.length||0," Correct"]})]})]})}),u.jsx(Ye,{children:u.jsxs(Je,{className:"p-4 flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:u.jsx(dx,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"}),u.jsx("p",{className:"font-semibold truncate",children:x?.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})||"N/A"})]})]})})]}),u.jsxs(Ye,{children:[u.jsxs(jt,{className:"flex flex-row items-center justify-between",children:[u.jsx(_t,{children:"Questions Summary"}),h.isReviewed?u.jsxs(Ft,{className:"gap-1 bg-green-100 text-green-700 hover:bg-green-100",children:[u.jsx(Vr,{className:"w-3 h-3"}),"Reviewed"]}):u.jsxs(Ft,{variant:"outline",className:"gap-1 text-amber-600 border-amber-200 bg-amber-50",children:[u.jsx(Pu,{className:"w-3 h-3"}),"Pending Review"]})]}),u.jsx(Je,{className:"space-y-6",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:$.map((I,V)=>{const U={1:"Very Easy",2:"Easy",3:"Medium",4:"Hard",5:"Expert"};return u.jsxs("div",{onClick:()=>e(`/student/review/${h.id}/${I.id}`),className:se("p-4 rounded-xl border-2 transition-all hover:shadow-md cursor-pointer",I.isCorrect?"border-green-300 bg-green-50 hover:border-green-400":"border-red-300 bg-red-50 hover:border-red-400"),children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:se("w-8 h-8 rounded-lg flex items-center justify-center font-bold text-sm",I.isCorrect?"bg-green-200 text-green-800":"bg-red-200 text-red-800"),children:V+1}),u.jsx("div",{children:u.jsxs("p",{className:se("font-semibold text-sm",I.isCorrect?"text-green-800":"text-red-800"),children:["Question ",V+1]})})]}),I.isCorrect?u.jsx(Vr,{className:"w-6 h-6 text-green-600 flex-shrink-0"}):u.jsx(my,{className:"w-6 h-6 text-red-600 flex-shrink-0"})]}),u.jsxs("div",{className:"space-y-2",children:[I.testType&&u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(Tu,{className:"w-3 h-3 text-muted-foreground"}),u.jsx("span",{className:"text-muted-foreground",children:"Test Type:"}),u.jsx("span",{className:"font-medium",children:I.testType})]}),I.testArea&&u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(bO,{className:"w-3 h-3 text-muted-foreground"}),u.jsx("span",{className:"text-muted-foreground",children:"Test Area:"}),u.jsx("span",{className:"font-medium",children:I.testArea})]}),I.category&&u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(Gq,{className:"w-3 h-3 text-muted-foreground"}),u.jsx("span",{className:"text-muted-foreground",children:"Category:"}),u.jsx("span",{className:"font-medium",children:I.category})]}),I.difficulty&&u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx(Qb,{className:"w-3 h-3 text-muted-foreground"}),u.jsx("span",{className:"text-muted-foreground",children:"Difficulty:"}),u.jsxs("span",{className:"font-medium",children:[I.difficulty," -"," ",U[I.difficulty]||I.difficulty]})]})]})]},I.id)})})})]}),!h.isReviewed&&u.jsxs(Ye,{children:[u.jsx(jt,{children:u.jsx(_t,{children:"Mark as Reviewed"})}),u.jsxs(Je,{className:"space-y-4",children:[u.jsx(Ci,{placeholder:"Optional: Add notes or feedback for this review...",value:o,onChange:I=>a(I.target.value),className:"min-h-[100px]"}),u.jsxs(ce,{onClick:()=>d.mutate(),disabled:d.isPending,className:"gap-2","data-testid":"button-mark-reviewed",children:[d.isPending?u.jsx(mt,{className:"w-4 h-4 animate-spin"}):u.jsx(ho,{className:"w-4 h-4"}),"Mark as Reviewed"]})]})]})]})}var HN,aL;function Bi(){if(aL)return HN;aL=1;var t=Array.isArray;return HN=t,HN}var WN,lL;function sne(){if(lL)return WN;lL=1;var t=typeof a0=="object"&&a0&&a0.Object===Object&&a0;return WN=t,WN}var KN,cL;function Xo(){if(cL)return KN;cL=1;var t=sne(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return KN=n,KN}var GN,uL;function zy(){if(uL)return GN;uL=1;var t=Xo(),e=t.Symbol;return GN=e,GN}var QN,dL;function _Ie(){if(dL)return QN;dL=1;var t=zy(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var d=r.call(o);return c&&(a?o[i]=l:delete o[i]),d}return QN=s,QN}var YN,fL;function MIe(){if(fL)return YN;fL=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return YN=n,YN}var XN,hL;function Ya(){if(hL)return XN;hL=1;var t=zy(),e=_Ie(),n=MIe(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):n(a)}return XN=o,XN}var ZN,pL;function Xa(){if(pL)return ZN;pL=1;function t(e){return e!=null&&typeof e=="object"}return ZN=t,ZN}var JN,mL;function Ih(){if(mL)return JN;mL=1;var t=Ya(),e=Xa(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return JN=r,JN}var eP,gL;function Z_(){if(gL)return eP;gL=1;var t=Bi(),e=Ih(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(t(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return eP=i,eP}var tP,yL;function Pc(){if(yL)return tP;yL=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return tP=t,tP}var nP,vL;function J_(){if(vL)return nP;vL=1;var t=Ya(),e=Pc(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var l=t(a);return l==r||l==i||l==n||l==s}return nP=o,nP}var rP,xL;function IIe(){if(xL)return rP;xL=1;var t=Xo(),e=t["__core-js_shared__"];return rP=e,rP}var iP,bL;function RIe(){if(bL)return iP;bL=1;var t=IIe(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return iP=n,iP}var sP,wL;function one(){if(wL)return sP;wL=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return sP=n,sP}var oP,SL;function DIe(){if(SL)return oP;SL=1;var t=J_(),e=RIe(),n=Pc(),r=one(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,c=a.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!n(m)||e(m))return!1;var g=t(m)?d:s;return g.test(r(m))}return oP=h,oP}var aP,CL;function LIe(){if(CL)return aP;CL=1;function t(e,n){return e?.[n]}return aP=t,aP}var lP,NL;function ed(){if(NL)return lP;NL=1;var t=DIe(),e=LIe();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return lP=n,lP}var cP,PL;function Yw(){if(PL)return cP;PL=1;var t=ed(),e=t(Object,"create");return cP=e,cP}var uP,TL;function FIe(){if(TL)return uP;TL=1;var t=Yw();function e(){this.__data__=t?t(null):{},this.size=0}return uP=e,uP}var dP,AL;function BIe(){if(AL)return dP;AL=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return dP=t,dP}var fP,jL;function VIe(){if(jL)return fP;jL=1;var t=Yw(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return r.call(o,s)?o[s]:void 0}return fP=i,fP}var hP,EL;function zIe(){if(EL)return hP;EL=1;var t=Yw(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return hP=r,hP}var pP,kL;function UIe(){if(kL)return pP;kL=1;var t=Yw(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return pP=n,pP}var mP,OL;function qIe(){if(OL)return mP;OL=1;var t=FIe(),e=BIe(),n=VIe(),r=zIe(),i=UIe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,mP=s,mP}var gP,$L;function HIe(){if($L)return gP;$L=1;function t(){this.__data__=[],this.size=0}return gP=t,gP}var yP,_L;function eM(){if(_L)return yP;_L=1;function t(e,n){return e===n||e!==e&&n!==n}return yP=t,yP}var vP,ML;function Xw(){if(ML)return vP;ML=1;var t=eM();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return vP=e,vP}var xP,IL;function WIe(){if(IL)return xP;IL=1;var t=Xw(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return xP=r,xP}var bP,RL;function KIe(){if(RL)return bP;RL=1;var t=Xw();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return bP=e,bP}var wP,DL;function GIe(){if(DL)return wP;DL=1;var t=Xw();function e(n){return t(this.__data__,n)>-1}return wP=e,wP}var SP,LL;function QIe(){if(LL)return SP;LL=1;var t=Xw();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return SP=e,SP}var CP,FL;function Zw(){if(FL)return CP;FL=1;var t=HIe(),e=WIe(),n=KIe(),r=GIe(),i=QIe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,CP=s,CP}var NP,BL;function tM(){if(BL)return NP;BL=1;var t=ed(),e=Xo(),n=t(e,"Map");return NP=n,NP}var PP,VL;function YIe(){if(VL)return PP;VL=1;var t=qIe(),e=Zw(),n=tM();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return PP=r,PP}var TP,zL;function XIe(){if(zL)return TP;zL=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return TP=t,TP}var AP,UL;function Jw(){if(UL)return AP;UL=1;var t=XIe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return AP=e,AP}var jP,qL;function ZIe(){if(qL)return jP;qL=1;var t=Jw();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return jP=e,jP}var EP,HL;function JIe(){if(HL)return EP;HL=1;var t=Jw();function e(n){return t(this,n).get(n)}return EP=e,EP}var kP,WL;function eRe(){if(WL)return kP;WL=1;var t=Jw();function e(n){return t(this,n).has(n)}return kP=e,kP}var OP,KL;function tRe(){if(KL)return OP;KL=1;var t=Jw();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return OP=e,OP}var $P,GL;function nM(){if(GL)return $P;GL=1;var t=YIe(),e=ZIe(),n=JIe(),r=eRe(),i=tRe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,$P=s,$P}var _P,QL;function ane(){if(QL)return _P;QL=1;var t=nM(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var c=r.apply(this,o);return s.cache=l.set(a,c)||l,c};return s.cache=new(n.Cache||t),s}return n.Cache=t,_P=n,_P}var MP,YL;function nRe(){if(YL)return MP;YL=1;var t=ane(),e=500;function n(r){var i=t(r,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return MP=n,MP}var IP,XL;function rRe(){if(XL)return IP;XL=1;var t=nRe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,a,l,c){s.push(l?c.replace(n,"$1"):a||o)}),s});return IP=r,IP}var RP,ZL;function rM(){if(ZL)return RP;ZL=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return RP=t,RP}var DP,JL;function iRe(){if(JL)return DP;JL=1;var t=zy(),e=rM(),n=Bi(),r=Ih(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return e(a,o)+"";if(r(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return DP=o,DP}var LP,e7;function lne(){if(e7)return LP;e7=1;var t=iRe();function e(n){return n==null?"":t(n)}return LP=e,LP}var FP,t7;function cne(){if(t7)return FP;t7=1;var t=Bi(),e=Z_(),n=rRe(),r=lne();function i(s,o){return t(s)?s:e(s,o)?[s]:n(r(s))}return FP=i,FP}var BP,n7;function e2(){if(n7)return BP;n7=1;var t=Ih();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return BP=e,BP}var VP,r7;function iM(){if(r7)return VP;r7=1;var t=cne(),e=e2();function n(r,i){i=t(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[e(i[s++])];return s&&s==o?r:void 0}return VP=n,VP}var zP,i7;function une(){if(i7)return zP;i7=1;var t=iM();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return zP=e,zP}var sRe=une();const Os=Zt(sRe);var UP,s7;function oRe(){if(s7)return UP;s7=1;function t(e){return e==null}return UP=t,UP}var aRe=oRe();const kt=Zt(aRe);var qP,o7;function lRe(){if(o7)return qP;o7=1;var t=Ya(),e=Bi(),n=Xa(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return qP=i,qP}var cRe=lRe();const zu=Zt(cRe);var uRe=J_();const Pt=Zt(uRe);var dRe=Pc();const Rh=Zt(dRe);var HP={exports:{}},Ht={};var a7;function fRe(){if(a7)return Ht;a7=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function b(x){if(typeof x=="object"&&x!==null){var S=x.$$typeof;switch(S){case t:switch(x=x.type,x){case n:case i:case r:case c:case d:return x;default:switch(x=x&&x.$$typeof,x){case a:case o:case l:case m:case h:case s:return x;default:return S}}case e:return S}}}return Ht.ContextConsumer=o,Ht.ContextProvider=s,Ht.Element=t,Ht.ForwardRef=l,Ht.Fragment=n,Ht.Lazy=m,Ht.Memo=h,Ht.Portal=e,Ht.Profiler=i,Ht.StrictMode=r,Ht.Suspense=c,Ht.SuspenseList=d,Ht.isAsyncMode=function(){return!1},Ht.isConcurrentMode=function(){return!1},Ht.isContextConsumer=function(x){return b(x)===o},Ht.isContextProvider=function(x){return b(x)===s},Ht.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Ht.isForwardRef=function(x){return b(x)===l},Ht.isFragment=function(x){return b(x)===n},Ht.isLazy=function(x){return b(x)===m},Ht.isMemo=function(x){return b(x)===h},Ht.isPortal=function(x){return b(x)===e},Ht.isProfiler=function(x){return b(x)===i},Ht.isStrictMode=function(x){return b(x)===r},Ht.isSuspense=function(x){return b(x)===c},Ht.isSuspenseList=function(x){return b(x)===d},Ht.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===c||x===d||x===g||typeof x=="object"&&x!==null&&(x.$$typeof===m||x.$$typeof===h||x.$$typeof===s||x.$$typeof===o||x.$$typeof===l||x.$$typeof===y||x.getModuleId!==void 0)},Ht.typeOf=b,Ht}var l7;function hRe(){return l7||(l7=1,HP.exports=fRe()),HP.exports}var pRe=hRe(),WP,c7;function dne(){if(c7)return WP;c7=1;var t=Ya(),e=Xa(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return WP=r,WP}var KP,u7;function mRe(){if(u7)return KP;u7=1;var t=dne();function e(n){return t(n)&&n!=+n}return KP=e,KP}var gRe=mRe();const Uy=Zt(gRe);var yRe=dne();const vRe=Zt(yRe);var lo=function(e){return e===0?0:e>0?1:-1},ou=function(e){return zu(e)&&e.indexOf("%")===e.length-1},_e=function(e){return vRe(e)&&!Uy(e)},xRe=function(e){return kt(e)},dr=function(e){return _e(e)||zu(e)},bRe=0,qy=function(e){var n=++bRe;return"".concat(e||"").concat(n)},Uu=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(e)&&!zu(e))return r;var s;if(ou(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return Uy(s)&&(s=r),i&&s>n&&(s=n),s},Vl=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},wRe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},to=function(e,n){return _e(e)&&_e(n)?function(r){return e+r*(n-e)}:function(){return n}};function q1(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Os(r,e))===n})}var SRe=function(e,n){return _e(e)&&_e(n)?e-n:zu(e)&&zu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function xf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Vk(t){"@babel/helpers - typeof";return Vk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vk(t)}var CRe=["viewBox","children"],NRe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],d7=["points","pathLength"],GP={svg:CRe,polygon:d7,polyline:d7},sM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],H1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),!Rh(r))return null;var i={};return Object.keys(r).forEach(function(s){sM.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},PRe=function(e,n,r){return function(i){return e(n,r,i),null}},W1=function(e,n,r){if(!Rh(e)||Vk(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];sM.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=PRe(o,n,r))}),i},TRe=["children"],ARe=["children"];function f7(t,e){if(t==null)return{};var n=jRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zk(t){"@babel/helpers - typeof";return zk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zk(t)}var h7={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Oa=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},p7=null,QP=null,oM=function t(e){if(e===p7&&Array.isArray(QP))return QP;var n=[];return C.Children.forEach(e,function(r){kt(r)||(pRe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),QP=n,p7=e,n};function $s(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Oa(i)}):r=[Oa(e)],oM(t).forEach(function(i){var s=Os(i,"type.displayName")||Os(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Gi(t,e){var n=$s(t,e);return n&&n[0]}var m7=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!_e(r)||r<=0||!_e(i)||i<=0)},ERe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],kRe=function(e){return e&&e.type&&zu(e.type)&&ERe.indexOf(e.type)>=0},ORe=function(e){return e&&zk(e)==="object"&&"clipDot"in e},$Re=function(e,n,r,i){var s,o=(s=GP?.[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Pt(e)&&(i&&o.includes(n)||NRe.includes(n))||r&&sM.includes(n)},Mt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!Rh(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;$Re((a=i)===null||a===void 0?void 0:a[o],o,n,r)&&(s[o]=i[o])}),s},Uk=function t(e,n){if(e===n)return!0;var r=C.Children.count(e);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return g7(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!g7(s,o))return!1}return!0},g7=function(e,n){if(kt(e)&&kt(n))return!0;if(!kt(e)&&!kt(n)){var r=e.props||{},i=r.children,s=f7(r,TRe),o=n.props||{},a=o.children,l=f7(o,ARe);return i&&a?xf(s,l)&&Uk(i,a):!i&&!a?xf(s,l):!1}return!1},y7=function(e,n){var r=[],i={};return oM(e).forEach(function(s,o){if(kRe(s))r.push(s);else if(s){var a=Oa(s.type),l=n[a]||{},c=l.handler,d=l.once;if(c&&(!d||!i[a])){var h=c(s,a,o);r.push(h),i[a]=!0}}}),r},_Re=function(e){var n=e&&e.type;return n&&h7[n]?h7[n]:null},MRe=function(e,n){return oM(n).indexOf(e)},IRe=["children","width","height","viewBox","className","style","title","desc"];function qk(){return qk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qk.apply(this,arguments)}function RRe(t,e){if(t==null)return{};var n=DRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hk(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,l=t.desc,c=RRe(t,IRe),d=i||{width:n,height:r,x:0,y:0},h=It("recharts-surface",s);return H.createElement("svg",qk({},Mt(c,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),H.createElement("title",null,a),H.createElement("desc",null,l),e)}var LRe=["children","className"];function Wk(){return Wk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wk.apply(this,arguments)}function FRe(t,e){if(t==null)return{};var n=BRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qn=H.forwardRef(function(t,e){var n=t.children,r=t.className,i=FRe(t,LRe),s=It("recharts-layer",r);return H.createElement("g",Wk({className:s},Mt(i,!0),{ref:e}),n)}),$a=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},YP,v7;function VRe(){if(v7)return YP;v7=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+n];return o}return YP=t,YP}var XP,x7;function zRe(){if(x7)return XP;x7=1;var t=VRe();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return XP=e,XP}var ZP,b7;function fne(){if(b7)return ZP;b7=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+t+i+s+"]");function l(c){return a.test(c)}return ZP=l,ZP}var JP,w7;function URe(){if(w7)return JP;w7=1;function t(e){return e.split("")}return JP=t,JP}var eT,S7;function qRe(){if(S7)return eT;S7=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="["+t+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+a+"|"+l+")",d="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",y=c+"?",b="["+s+"]?",x="(?:"+g+"(?:"+[d,h,m].join("|")+")"+b+y+")*",S=b+y+x,N="(?:"+[d+a+"?",a,h,m,o].join("|")+")",T=RegExp(l+"(?="+l+")|"+N+S,"g");function j(P){return P.match(T)||[]}return eT=j,eT}var tT,C7;function HRe(){if(C7)return tT;C7=1;var t=URe(),e=fne(),n=qRe();function r(i){return e(i)?n(i):t(i)}return tT=r,tT}var nT,N7;function WRe(){if(N7)return nT;N7=1;var t=zRe(),e=fne(),n=HRe(),r=lne();function i(s){return function(o){o=r(o);var a=e(o)?n(o):void 0,l=a?a[0]:o.charAt(0),c=a?t(a,1).join(""):o.slice(1);return l[s]()+c}}return nT=i,nT}var rT,P7;function KRe(){if(P7)return rT;P7=1;var t=WRe(),e=t("toUpperCase");return rT=e,rT}var GRe=KRe();const t2=Zt(GRe);function un(t){return function(){return t}}const hne=Math.cos,K1=Math.sin,wo=Math.sqrt,G1=Math.PI,n2=2*G1,Kk=Math.PI,Gk=2*Kk,Yc=1e-6,QRe=Gk-Yc;function pne(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function YRe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return pne;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class XRe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?pne:YRe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,c=i-n,d=o-e,h=a-n,m=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>Yc)if(!(Math.abs(h*l-c*d)>Yc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-o,y=i-a,b=l*l+c*c,x=g*g+y*y,S=Math.sqrt(b),N=Math.sqrt(m),T=s*Math.tan((Kk-Math.acos((b+m-x)/(2*S*N)))/2),j=T/N,P=T/S;Math.abs(j-1)>Yc&&this._append`L${e+j*d},${n+j*h}`,this._append`A${s},${s},0,0,${+(h*g>d*y)},${this._x1=e+P*l},${this._y1=n+P*c}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,d=n+l,h=1^o,m=o?i-s:s-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Yc||Math.abs(this._y1-d)>Yc)&&this._append`L${c},${d}`,r&&(m<0&&(m=m%Gk+Gk),m>QRe?this._append`A${r},${r},0,1,${h},${e-a},${n-l}A${r},${r},0,1,${h},${this._x1=c},${this._y1=d}`:m>Yc&&this._append`A${r},${r},0,${+(m>=Kk)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function aM(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new XRe(e)}function lM(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mne(t){this._context=t}mne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function r2(t){return new mne(t)}function gne(t){return t[0]}function yne(t){return t[1]}function vne(t,e){var n=un(!0),r=null,i=r2,s=null,o=aM(a);t=typeof t=="function"?t:t===void 0?gne:un(t),e=typeof e=="function"?e:e===void 0?yne:un(e);function a(l){var c,d=(l=lM(l)).length,h,m=!1,g;for(r==null&&(s=i(g=o())),c=0;c<=d;++c)!(c<d&&n(h=l[c],c,l))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(h,c,l),+e(h,c,l));if(g)return s=null,g+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:un(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:un(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:un(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function R0(t,e,n){var r=null,i=un(!0),s=null,o=r2,a=null,l=aM(c);t=typeof t=="function"?t:t===void 0?gne:un(+t),e=typeof e=="function"?e:un(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?yne:un(+n);function c(h){var m,g,y,b=(h=lM(h)).length,x,S=!1,N,T=new Array(b),j=new Array(b);for(s==null&&(a=o(N=l())),m=0;m<=b;++m){if(!(m<b&&i(x=h[m],m,h))===S)if(S=!S)g=m,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),y=m-1;y>=g;--y)a.point(T[y],j[y]);a.lineEnd(),a.areaEnd()}S&&(T[m]=+t(x,m,h),j[m]=+e(x,m,h),a.point(r?+r(x,m,h):T[m],n?+n(x,m,h):j[m]))}if(N)return a=null,N+""||null}function d(){return vne().defined(i).curve(o).context(s)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:un(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:un(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:un(+h),c):r},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:un(+h),n=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:un(+h),c):e},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:un(+h),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:un(!!h),c):i},c.curve=function(h){return arguments.length?(o=h,s!=null&&(a=o(s)),c):o},c.context=function(h){return arguments.length?(h==null?s=a=null:a=o(s=h),c):s},c}class xne{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ZRe(t){return new xne(t,!0)}function JRe(t){return new xne(t,!1)}const cM={draw(t,e){const n=wo(e/G1);t.moveTo(n,0),t.arc(0,0,n,0,n2)}},e5e={draw(t,e){const n=wo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},bne=wo(1/3),t5e=bne*2,n5e={draw(t,e){const n=wo(e/t5e),r=n*bne;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},r5e={draw(t,e){const n=wo(e),r=-n/2;t.rect(r,r,n,n)}},i5e=.8908130915292852,wne=K1(G1/10)/K1(7*G1/10),s5e=K1(n2/10)*wne,o5e=-hne(n2/10)*wne,a5e={draw(t,e){const n=wo(e*i5e),r=s5e*n,i=o5e*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=n2*s/5,a=hne(o),l=K1(o);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},iT=wo(3),l5e={draw(t,e){const n=-wo(e/(iT*3));t.moveTo(0,n*2),t.lineTo(-iT*n,-n),t.lineTo(iT*n,-n),t.closePath()}},xs=-.5,bs=wo(3)/2,Qk=1/wo(12),c5e=(Qk/2+1)*3,u5e={draw(t,e){const n=wo(e/c5e),r=n/2,i=n*Qk,s=r,o=n*Qk+n,a=-s,l=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(xs*r-bs*i,bs*r+xs*i),t.lineTo(xs*s-bs*o,bs*s+xs*o),t.lineTo(xs*a-bs*l,bs*a+xs*l),t.lineTo(xs*r+bs*i,xs*i-bs*r),t.lineTo(xs*s+bs*o,xs*o-bs*s),t.lineTo(xs*a+bs*l,xs*l-bs*a),t.closePath()}};function d5e(t,e){let n=null,r=aM(i);t=typeof t=="function"?t:un(t||cM),e=typeof e=="function"?e:un(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:un(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:un(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Q1(){}function Y1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Sne(t){this._context=t}Sne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Y1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Y1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function f5e(t){return new Sne(t)}function Cne(t){this._context=t}Cne.prototype={areaStart:Q1,areaEnd:Q1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Y1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function h5e(t){return new Cne(t)}function Nne(t){this._context=t}Nne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Y1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function p5e(t){return new Nne(t)}function Pne(t){this._context=t}Pne.prototype={areaStart:Q1,areaEnd:Q1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function m5e(t){return new Pne(t)}function T7(t){return t<0?-1:1}function A7(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(T7(s)+T7(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function j7(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function sT(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function X1(t){this._context=t}X1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sT(this,this._t0,j7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,sT(this,j7(this,n=A7(this,t,e)),n);break;default:sT(this,this._t0,n=A7(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Tne(t){this._context=new Ane(t)}(Tne.prototype=Object.create(X1.prototype)).point=function(t,e){X1.prototype.point.call(this,e,t)};function Ane(t){this._context=t}Ane.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function g5e(t){return new X1(t)}function y5e(t){return new Tne(t)}function jne(t){this._context=t}jne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=E7(t),i=E7(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function E7(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function v5e(t){return new jne(t)}function i2(t,e){this._context=t,this._t=e}i2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function x5e(t){return new i2(t,.5)}function b5e(t){return new i2(t,0)}function w5e(t){return new i2(t,1)}function qf(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Yk(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function S5e(t,e){return t[e]}function C5e(t){const e=[];return e.key=t,e}function N5e(){var t=un([]),e=Yk,n=qf,r=S5e;function i(s){var o=Array.from(t.apply(this,arguments),C5e),a,l=o.length,c=-1,d;for(const h of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(h,o[a].key,c,s)]).data=h;for(a=0,d=lM(e(o));a<l;++a)o[d[a]].index=a;return n(o,d),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:un(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:un(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?Yk:typeof s=="function"?s:un(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??qf,i):n},i}function P5e(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}qf(t,e)}}function T5e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}qf(t,e)}}function A5e(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,c=0;a<o;++a){for(var d=t[e[a]],h=d[r][1]||0,m=d[r-1][1]||0,g=(h-m)/2,y=0;y<a;++y){var b=t[e[y]],x=b[r][1]||0,S=b[r-1][1]||0;g+=x-S}l+=h,c+=g*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,qf(t,e)}}function Og(t){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}var j5e=["type","size","sizeType"];function Xk(){return Xk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xk.apply(this,arguments)}function k7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k7(Object(n),!0).forEach(function(r){E5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E5e(t,e,n){return e=k5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k5e(t){var e=O5e(t,"string");return Og(e)=="symbol"?e:e+""}function O5e(t,e){if(Og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $5e(t,e){if(t==null)return{};var n=_5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ene={symbolCircle:cM,symbolCross:e5e,symbolDiamond:n5e,symbolSquare:r5e,symbolStar:a5e,symbolTriangle:l5e,symbolWye:u5e},M5e=Math.PI/180,I5e=function(e){var n="symbol".concat(t2(e));return Ene[n]||cM},R5e=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*M5e;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},D5e=function(e,n){Ene["symbol".concat(t2(e))]=n},uM=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,l=$5e(e,j5e),c=O7(O7({},l),{},{type:r,size:s,sizeType:a}),d=function(){var x=I5e(r),S=d5e().type(x).size(R5e(s,a,r));return S()},h=c.className,m=c.cx,g=c.cy,y=Mt(c,!0);return m===+m&&g===+g&&s===+s?H.createElement("path",Xk({},y,{className:It("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(g,")"),d:d()})):null};uM.registerSymbol=D5e;function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function Zk(){return Zk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zk.apply(this,arguments)}function $7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L5e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$7(Object(n),!0).forEach(function(r){$g(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,One(r.key),r)}}function V5e(t,e,n){return e&&B5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z5e(t,e,n){return e=Z1(e),U5e(t,kne()?Reflect.construct(e,n||[],Z1(t).constructor):e.apply(t,n))}function U5e(t,e){if(e&&(Hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q5e(t)}function q5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kne=function(){return!!t})()}function Z1(t){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z1(t)}function H5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jk(t,e)}function Jk(t,e){return Jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jk(t,e)}function $g(t,e,n){return e=One(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function One(t){var e=W5e(t,"string");return Hf(e)=="symbol"?e:e+""}function W5e(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ws=32,dM=(function(t){function e(){return F5e(this,e),z5e(this,e,arguments)}return H5e(e,t),V5e(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=ws/2,o=ws/6,a=ws/3,l=r.inactive?i:r.color;if(r.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:ws,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(ws,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return H.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ws/8,"h").concat(ws,"v").concat(ws*3/4,"h").concat(-ws,"z"),className:"recharts-legend-icon"});if(H.isValidElement(r.legendIcon)){var c=L5e({},r);return delete c.legendIcon,H.cloneElement(r.legendIcon,c)}return H.createElement(uM,{fill:l,cx:s,cy:s,size:ws,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:ws,height:ws},h={display:a==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(g,y){var b=g.formatter||l,x=It($g($g({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",g.inactive));if(g.type==="none")return null;var S=Pt(g.value)?null:g.value;$a(!Pt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=g.inactive?c:g.color;return H.createElement("li",Zk({className:x,style:h,key:"legend-item-".concat(y)},W1(r.props,g,y)),H.createElement(Hk,{width:o,height:o,viewBox:d,style:m},r.renderIcon(g)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},b?b(S,g,y):S))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])})(C.PureComponent);$g(dM,"displayName","Legend");$g(dM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var oT,_7;function K5e(){if(_7)return oT;_7=1;var t=Zw();function e(){this.__data__=new t,this.size=0}return oT=e,oT}var aT,M7;function G5e(){if(M7)return aT;M7=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return aT=t,aT}var lT,I7;function Q5e(){if(I7)return lT;I7=1;function t(e){return this.__data__.get(e)}return lT=t,lT}var cT,R7;function Y5e(){if(R7)return cT;R7=1;function t(e){return this.__data__.has(e)}return cT=t,cT}var uT,D7;function X5e(){if(D7)return uT;D7=1;var t=Zw(),e=tM(),n=nM(),r=200;function i(s,o){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return uT=i,uT}var dT,L7;function $ne(){if(L7)return dT;L7=1;var t=Zw(),e=K5e(),n=G5e(),r=Q5e(),i=Y5e(),s=X5e();function o(a){var l=this.__data__=new t(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,dT=o,dT}var fT,F7;function Z5e(){if(F7)return fT;F7=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return fT=e,fT}var hT,B7;function J5e(){if(B7)return hT;B7=1;function t(e){return this.__data__.has(e)}return hT=t,hT}var pT,V7;function _ne(){if(V7)return pT;V7=1;var t=nM(),e=Z5e(),n=J5e();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,pT=r,pT}var mT,z7;function Mne(){if(z7)return mT;z7=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return mT=t,mT}var gT,U7;function Ine(){if(U7)return gT;U7=1;function t(e,n){return e.has(n)}return gT=t,gT}var yT,q7;function Rne(){if(q7)return yT;q7=1;var t=_ne(),e=Mne(),n=Ine(),r=1,i=2;function s(o,a,l,c,d,h){var m=l&r,g=o.length,y=a.length;if(g!=y&&!(m&&y>g))return!1;var b=h.get(o),x=h.get(a);if(b&&x)return b==a&&x==o;var S=-1,N=!0,T=l&i?new t:void 0;for(h.set(o,a),h.set(a,o);++S<g;){var j=o[S],P=a[S];if(c)var E=m?c(P,j,S,a,o,h):c(j,P,S,o,a,h);if(E!==void 0){if(E)continue;N=!1;break}if(T){if(!e(a,function(O,_){if(!n(T,_)&&(j===O||d(j,O,l,c,h)))return T.push(_)})){N=!1;break}}else if(!(j===P||d(j,P,l,c,h))){N=!1;break}}return h.delete(o),h.delete(a),N}return yT=s,yT}var vT,H7;function eDe(){if(H7)return vT;H7=1;var t=Xo(),e=t.Uint8Array;return vT=e,vT}var xT,W7;function tDe(){if(W7)return xT;W7=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return xT=t,xT}var bT,K7;function fM(){if(K7)return bT;K7=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return bT=t,bT}var wT,G7;function nDe(){if(G7)return wT;G7=1;var t=zy(),e=eDe(),n=eM(),r=Rne(),i=tDe(),s=fM(),o=1,a=2,l="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Map]",m="[object Number]",g="[object RegExp]",y="[object Set]",b="[object String]",x="[object Symbol]",S="[object ArrayBuffer]",N="[object DataView]",T=t?t.prototype:void 0,j=T?T.valueOf:void 0;function P(E,O,_,$,B,I,V){switch(_){case N:if(E.byteLength!=O.byteLength||E.byteOffset!=O.byteOffset)return!1;E=E.buffer,O=O.buffer;case S:return!(E.byteLength!=O.byteLength||!I(new e(E),new e(O)));case l:case c:case m:return n(+E,+O);case d:return E.name==O.name&&E.message==O.message;case g:case b:return E==O+"";case h:var U=i;case y:var L=$&o;if(U||(U=s),E.size!=O.size&&!L)return!1;var z=V.get(E);if(z)return z==O;$|=a,V.set(E,O);var F=r(U(E),U(O),$,B,I,V);return V.delete(E),F;case x:if(j)return j.call(E)==j.call(O)}return!1}return wT=P,wT}var ST,Q7;function Dne(){if(Q7)return ST;Q7=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return ST=t,ST}var CT,Y7;function rDe(){if(Y7)return CT;Y7=1;var t=Dne(),e=Bi();function n(r,i,s){var o=i(r);return e(r)?o:t(o,s(r))}return CT=n,CT}var NT,X7;function iDe(){if(X7)return NT;X7=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var a=e[r];n(a,r,e)&&(o[s++]=a)}return o}return NT=t,NT}var PT,Z7;function sDe(){if(Z7)return PT;Z7=1;function t(){return[]}return PT=t,PT}var TT,J7;function oDe(){if(J7)return TT;J7=1;var t=iDe(),e=sDe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(a){return r.call(o,a)}))}:e;return TT=s,TT}var AT,eF;function aDe(){if(eF)return AT;eF=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return AT=t,AT}var jT,tF;function lDe(){if(tF)return jT;tF=1;var t=Ya(),e=Xa(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return jT=r,jT}var ET,nF;function hM(){if(nF)return ET;nF=1;var t=lDe(),e=Xa(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return ET=s,ET}var tm={exports:{}},kT,rF;function cDe(){if(rF)return kT;rF=1;function t(){return!1}return kT=t,kT}tm.exports;var iF;function Lne(){return iF||(iF=1,(function(t,e){var n=Xo(),r=cDe(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(tm,tm.exports)),tm.exports}var OT,sF;function pM(){if(sF)return OT;sF=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return OT=n,OT}var $T,oF;function mM(){if(oF)return $T;oF=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return $T=e,$T}var _T,aF;function uDe(){if(aF)return _T;aF=1;var t=Ya(),e=mM(),n=Xa(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",y="[object String]",b="[object WeakMap]",x="[object ArrayBuffer]",S="[object DataView]",N="[object Float32Array]",T="[object Float64Array]",j="[object Int8Array]",P="[object Int16Array]",E="[object Int32Array]",O="[object Uint8Array]",_="[object Uint8ClampedArray]",$="[object Uint16Array]",B="[object Uint32Array]",I={};I[N]=I[T]=I[j]=I[P]=I[E]=I[O]=I[_]=I[$]=I[B]=!0,I[r]=I[i]=I[x]=I[s]=I[S]=I[o]=I[a]=I[l]=I[c]=I[d]=I[h]=I[m]=I[g]=I[y]=I[b]=!1;function V(U){return n(U)&&e(U.length)&&!!I[t(U)]}return _T=V,_T}var MT,lF;function Fne(){if(lF)return MT;lF=1;function t(e){return function(n){return e(n)}}return MT=t,MT}var nm={exports:{}};nm.exports;var cF;function dDe(){return cF||(cF=1,(function(t,e){var n=sne(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();t.exports=a})(nm,nm.exports)),nm.exports}var IT,uF;function Bne(){if(uF)return IT;uF=1;var t=uDe(),e=Fne(),n=dDe(),r=n&&n.isTypedArray,i=r?e(r):t;return IT=i,IT}var RT,dF;function fDe(){if(dF)return RT;dF=1;var t=aDe(),e=hM(),n=Bi(),r=Lne(),i=pM(),s=Bne(),o=Object.prototype,a=o.hasOwnProperty;function l(c,d){var h=n(c),m=!h&&e(c),g=!h&&!m&&r(c),y=!h&&!m&&!g&&s(c),b=h||m||g||y,x=b?t(c.length,String):[],S=x.length;for(var N in c)(d||a.call(c,N))&&!(b&&(N=="length"||g&&(N=="offset"||N=="parent")||y&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,S)))&&x.push(N);return x}return RT=l,RT}var DT,fF;function hDe(){if(fF)return DT;fF=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return DT=e,DT}var LT,hF;function Vne(){if(hF)return LT;hF=1;function t(e,n){return function(r){return e(n(r))}}return LT=t,LT}var FT,pF;function pDe(){if(pF)return FT;pF=1;var t=Vne(),e=t(Object.keys,Object);return FT=e,FT}var BT,mF;function mDe(){if(mF)return BT;mF=1;var t=hDe(),e=pDe(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return BT=i,BT}var VT,gF;function Hy(){if(gF)return VT;gF=1;var t=J_(),e=mM();function n(r){return r!=null&&e(r.length)&&!t(r)}return VT=n,VT}var zT,yF;function s2(){if(yF)return zT;yF=1;var t=fDe(),e=mDe(),n=Hy();function r(i){return n(i)?t(i):e(i)}return zT=r,zT}var UT,vF;function gDe(){if(vF)return UT;vF=1;var t=rDe(),e=oDe(),n=s2();function r(i){return t(i,n,e)}return UT=r,UT}var qT,xF;function yDe(){if(xF)return qT;xF=1;var t=gDe(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,l,c,d){var h=a&e,m=t(s),g=m.length,y=t(o),b=y.length;if(g!=b&&!h)return!1;for(var x=g;x--;){var S=m[x];if(!(h?S in o:r.call(o,S)))return!1}var N=d.get(s),T=d.get(o);if(N&&T)return N==o&&T==s;var j=!0;d.set(s,o),d.set(o,s);for(var P=h;++x<g;){S=m[x];var E=s[S],O=o[S];if(l)var _=h?l(O,E,S,o,s,d):l(E,O,S,s,o,d);if(!(_===void 0?E===O||c(E,O,a,l,d):_)){j=!1;break}P||(P=S=="constructor")}if(j&&!P){var $=s.constructor,B=o.constructor;$!=B&&"constructor"in s&&"constructor"in o&&!(typeof $=="function"&&$ instanceof $&&typeof B=="function"&&B instanceof B)&&(j=!1)}return d.delete(s),d.delete(o),j}return qT=i,qT}var HT,bF;function vDe(){if(bF)return HT;bF=1;var t=ed(),e=Xo(),n=t(e,"DataView");return HT=n,HT}var WT,wF;function xDe(){if(wF)return WT;wF=1;var t=ed(),e=Xo(),n=t(e,"Promise");return WT=n,WT}var KT,SF;function zne(){if(SF)return KT;SF=1;var t=ed(),e=Xo(),n=t(e,"Set");return KT=n,KT}var GT,CF;function bDe(){if(CF)return GT;CF=1;var t=ed(),e=Xo(),n=t(e,"WeakMap");return GT=n,GT}var QT,NF;function wDe(){if(NF)return QT;NF=1;var t=vDe(),e=tM(),n=xDe(),r=zne(),i=bDe(),s=Ya(),o=one(),a="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",h="[object WeakMap]",m="[object DataView]",g=o(t),y=o(e),b=o(n),x=o(r),S=o(i),N=s;return(t&&N(new t(new ArrayBuffer(1)))!=m||e&&N(new e)!=a||n&&N(n.resolve())!=c||r&&N(new r)!=d||i&&N(new i)!=h)&&(N=function(T){var j=s(T),P=j==l?T.constructor:void 0,E=P?o(P):"";if(E)switch(E){case g:return m;case y:return a;case b:return c;case x:return d;case S:return h}return j}),QT=N,QT}var YT,PF;function SDe(){if(PF)return YT;PF=1;var t=$ne(),e=Rne(),n=nDe(),r=yDe(),i=wDe(),s=Bi(),o=Lne(),a=Bne(),l=1,c="[object Arguments]",d="[object Array]",h="[object Object]",m=Object.prototype,g=m.hasOwnProperty;function y(b,x,S,N,T,j){var P=s(b),E=s(x),O=P?d:i(b),_=E?d:i(x);O=O==c?h:O,_=_==c?h:_;var $=O==h,B=_==h,I=O==_;if(I&&o(b)){if(!o(x))return!1;P=!0,$=!1}if(I&&!$)return j||(j=new t),P||a(b)?e(b,x,S,N,T,j):n(b,x,O,S,N,T,j);if(!(S&l)){var V=$&&g.call(b,"__wrapped__"),U=B&&g.call(x,"__wrapped__");if(V||U){var L=V?b.value():b,z=U?x.value():x;return j||(j=new t),T(L,z,S,N,j)}}return I?(j||(j=new t),r(b,x,S,N,T,j)):!1}return YT=y,YT}var XT,TF;function gM(){if(TF)return XT;TF=1;var t=SDe(),e=Xa();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,o,n,a)}return XT=n,XT}var ZT,AF;function CDe(){if(AF)return ZT;AF=1;var t=$ne(),e=gM(),n=1,r=2;function i(s,o,a,l){var c=a.length,d=c,h=!l;if(s==null)return!d;for(s=Object(s);c--;){var m=a[c];if(h&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++c<d;){m=a[c];var g=m[0],y=s[g],b=m[1];if(h&&m[2]){if(y===void 0&&!(g in s))return!1}else{var x=new t;if(l)var S=l(y,b,g,s,o,x);if(!(S===void 0?e(b,y,n|r,l,x):S))return!1}}return!0}return ZT=i,ZT}var JT,jF;function Une(){if(jF)return JT;jF=1;var t=Pc();function e(n){return n===n&&!t(n)}return JT=e,JT}var eA,EF;function NDe(){if(EF)return eA;EF=1;var t=Une(),e=s2();function n(r){for(var i=e(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,t(a)]}return i}return eA=n,eA}var tA,kF;function qne(){if(kF)return tA;kF=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return tA=t,tA}var nA,OF;function PDe(){if(OF)return nA;OF=1;var t=CDe(),e=NDe(),n=qne();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return nA=r,nA}var rA,$F;function TDe(){if($F)return rA;$F=1;function t(e,n){return e!=null&&n in Object(e)}return rA=t,rA}var iA,_F;function ADe(){if(_F)return iA;_F=1;var t=cne(),e=hM(),n=Bi(),r=pM(),i=mM(),s=e2();function o(a,l,c){l=t(l,a);for(var d=-1,h=l.length,m=!1;++d<h;){var g=s(l[d]);if(!(m=a!=null&&c(a,g)))break;a=a[g]}return m||++d!=h?m:(h=a==null?0:a.length,!!h&&i(h)&&r(g,h)&&(n(a)||e(a)))}return iA=o,iA}var sA,MF;function jDe(){if(MF)return sA;MF=1;var t=TDe(),e=ADe();function n(r,i){return r!=null&&e(r,i,t)}return sA=n,sA}var oA,IF;function EDe(){if(IF)return oA;IF=1;var t=gM(),e=une(),n=jDe(),r=Z_(),i=Une(),s=qne(),o=e2(),a=1,l=2;function c(d,h){return r(d)&&i(h)?s(o(d),h):function(m){var g=e(m,d);return g===void 0&&g===h?n(m,d):t(h,g,a|l)}}return oA=c,oA}var aA,RF;function Dh(){if(RF)return aA;RF=1;function t(e){return e}return aA=t,aA}var lA,DF;function kDe(){if(DF)return lA;DF=1;function t(e){return function(n){return n?.[e]}}return lA=t,lA}var cA,LF;function ODe(){if(LF)return cA;LF=1;var t=iM();function e(n){return function(r){return t(r,n)}}return cA=e,cA}var uA,FF;function $De(){if(FF)return uA;FF=1;var t=kDe(),e=ODe(),n=Z_(),r=e2();function i(s){return n(s)?t(r(s)):e(s)}return uA=i,uA}var dA,BF;function Tc(){if(BF)return dA;BF=1;var t=PDe(),e=EDe(),n=Dh(),r=Bi(),i=$De();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return dA=s,dA}var fA,VF;function Hne(){if(VF)return fA;VF=1;function t(e,n,r,i){for(var s=e.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(e[o],o,e))return o;return-1}return fA=t,fA}var hA,zF;function _De(){if(zF)return hA;zF=1;function t(e){return e!==e}return hA=t,hA}var pA,UF;function MDe(){if(UF)return pA;UF=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return pA=t,pA}var mA,qF;function IDe(){if(qF)return mA;qF=1;var t=Hne(),e=_De(),n=MDe();function r(i,s,o){return s===s?n(i,s,o):t(i,e,o)}return mA=r,mA}var gA,HF;function RDe(){if(HF)return gA;HF=1;var t=IDe();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return gA=e,gA}var yA,WF;function DDe(){if(WF)return yA;WF=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return yA=t,yA}var vA,KF;function LDe(){if(KF)return vA;KF=1;function t(){}return vA=t,vA}var xA,GF;function FDe(){if(GF)return xA;GF=1;var t=zne(),e=LDe(),n=fM(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return xA=i,xA}var bA,QF;function BDe(){if(QF)return bA;QF=1;var t=_ne(),e=RDe(),n=DDe(),r=Ine(),i=FDe(),s=fM(),o=200;function a(l,c,d){var h=-1,m=e,g=l.length,y=!0,b=[],x=b;if(d)y=!1,m=n;else if(g>=o){var S=c?null:i(l);if(S)return s(S);y=!1,m=r,x=new t}else x=c?[]:b;e:for(;++h<g;){var N=l[h],T=c?c(N):N;if(N=d||N!==0?N:0,y&&T===T){for(var j=x.length;j--;)if(x[j]===T)continue e;c&&x.push(T),b.push(N)}else m(x,T,d)||(x!==b&&x.push(T),b.push(N))}return b}return bA=a,bA}var wA,YF;function VDe(){if(YF)return wA;YF=1;var t=Tc(),e=BDe();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return wA=n,wA}var zDe=VDe();const XF=Zt(zDe);function Wne(t,e,n){return e===!0?XF(t,n):Pt(e)?XF(t,e):t}function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}var UDe=["ref"];function ZF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(n),!0).forEach(function(r){o2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gne(r.key),r)}}function HDe(t,e,n){return e&&JF(t.prototype,e),n&&JF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WDe(t,e,n){return e=J1(e),KDe(t,Kne()?Reflect.construct(e,n||[],J1(t).constructor):e.apply(t,n))}function KDe(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GDe(t)}function GDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kne=function(){return!!t})()}function J1(t){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J1(t)}function QDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e3(t,e)}function e3(t,e){return e3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},e3(t,e)}function o2(t,e,n){return e=Gne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gne(t){var e=YDe(t,"string");return Wf(e)=="symbol"?e:e+""}function YDe(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XDe(t,e){if(t==null)return{};var n=ZDe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JDe(t){return t.value}function e8e(t,e){if(H.isValidElement(t))return H.cloneElement(t,e);if(typeof t=="function")return H.createElement(t,e);e.ref;var n=XDe(e,UDe);return H.createElement(dM,n)}var eB=1,bf=(function(t){function e(){var n;qDe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=WDe(this,e,[].concat(i)),o2(n,"lastBoundingBox",{width:-1,height:-1}),n}return QDe(e,t),HDe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>eB||Math.abs(i.height-this.lastBoundingBox.height)>eB)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?pa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,h,m;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var g=this.getBBoxSnapshot();h={left:((c||0)-g.width)/2}}else h=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var y=this.getBBoxSnapshot();m={top:((d||0)-y.height)/2}}else m=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return pa(pa({},h),m)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,h=pa(pa({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return H.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(g){r.wrapperNode=g}},e8e(s,pa(pa({},this.props),{},{payload:Wne(d,c,JDe)})))}}],[{key:"getWithHeight",value:function(r,i){var s=pa(pa({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&_e(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(C.PureComponent);o2(bf,"displayName","Legend");o2(bf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var SA,tB;function t8e(){if(tB)return SA;tB=1;var t=zy(),e=hM(),n=Bi(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return SA=i,SA}var CA,nB;function Qne(){if(nB)return CA;nB=1;var t=Dne(),e=t8e();function n(r,i,s,o,a){var l=-1,c=r.length;for(s||(s=e),a||(a=[]);++l<c;){var d=r[l];i>0&&s(d)?i>1?n(d,i-1,s,o,a):t(a,d):o||(a[a.length]=d)}return a}return CA=n,CA}var NA,rB;function n8e(){if(rB)return NA;rB=1;function t(e){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),l=a.length;l--;){var c=a[e?l:++s];if(r(o[c],c,o)===!1)break}return n}}return NA=t,NA}var PA,iB;function r8e(){if(iB)return PA;iB=1;var t=n8e(),e=t();return PA=e,PA}var TA,sB;function Yne(){if(sB)return TA;sB=1;var t=r8e(),e=s2();function n(r,i){return r&&t(r,i,e)}return TA=n,TA}var AA,oB;function i8e(){if(oB)return AA;oB=1;var t=Hy();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var o=i.length,a=r?o:-1,l=Object(i);(r?a--:++a<o)&&s(l[a],a,l)!==!1;);return i}}return AA=e,AA}var jA,aB;function yM(){if(aB)return jA;aB=1;var t=Yne(),e=i8e(),n=e(t);return jA=n,jA}var EA,lB;function Xne(){if(lB)return EA;lB=1;var t=yM(),e=Hy();function n(r,i){var s=-1,o=e(r)?Array(r.length):[];return t(r,function(a,l,c){o[++s]=i(a,l,c)}),o}return EA=n,EA}var kA,cB;function s8e(){if(cB)return kA;cB=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return kA=t,kA}var OA,uB;function o8e(){if(uB)return OA;uB=1;var t=Ih();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,o=n===n,a=t(n),l=r!==void 0,c=r===null,d=r===r,h=t(r);if(!c&&!h&&!a&&n>r||a&&l&&d&&!c&&!h||s&&l&&d||!i&&d||!o)return 1;if(!s&&!a&&!h&&n<r||h&&i&&o&&!s&&!a||c&&i&&o||!l&&o||!d)return-1}return 0}return OA=e,OA}var $A,dB;function a8e(){if(dB)return $A;dB=1;var t=o8e();function e(n,r,i){for(var s=-1,o=n.criteria,a=r.criteria,l=o.length,c=i.length;++s<l;){var d=t(o[s],a[s]);if(d){if(s>=c)return d;var h=i[s];return d*(h=="desc"?-1:1)}}return n.index-r.index}return $A=e,$A}var _A,fB;function l8e(){if(fB)return _A;fB=1;var t=rM(),e=iM(),n=Tc(),r=Xne(),i=s8e(),s=Fne(),o=a8e(),a=Dh(),l=Bi();function c(d,h,m){h.length?h=t(h,function(b){return l(b)?function(x){return e(x,b.length===1?b[0]:b)}:b}):h=[a];var g=-1;h=t(h,s(n));var y=r(d,function(b,x,S){var N=t(h,function(T){return T(b)});return{criteria:N,index:++g,value:b}});return i(y,function(b,x){return o(b,x,m)})}return _A=c,_A}var MA,hB;function c8e(){if(hB)return MA;hB=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return MA=t,MA}var IA,pB;function u8e(){if(pB)return IA;pB=1;var t=c8e(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=e(o.length-i,0),c=Array(l);++a<l;)c[a]=o[i+a];a=-1;for(var d=Array(i+1);++a<i;)d[a]=o[a];return d[i]=s(c),t(r,this,d)}}return IA=n,IA}var RA,mB;function d8e(){if(mB)return RA;mB=1;function t(e){return function(){return e}}return RA=t,RA}var DA,gB;function Zne(){if(gB)return DA;gB=1;var t=ed(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return DA=e,DA}var LA,yB;function f8e(){if(yB)return LA;yB=1;var t=d8e(),e=Zne(),n=Dh(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return LA=r,LA}var FA,vB;function h8e(){if(vB)return FA;vB=1;var t=800,e=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),l=e-(a-o);if(o=a,l>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return FA=r,FA}var BA,xB;function p8e(){if(xB)return BA;xB=1;var t=f8e(),e=h8e(),n=e(t);return BA=n,BA}var VA,bB;function m8e(){if(bB)return VA;bB=1;var t=Dh(),e=u8e(),n=p8e();function r(i,s){return n(e(i,s,t),i+"")}return VA=r,VA}var zA,wB;function a2(){if(wB)return zA;wB=1;var t=eM(),e=Hy(),n=pM(),r=Pc();function i(s,o,a){if(!r(a))return!1;var l=typeof o;return(l=="number"?e(a)&&n(o,a.length):l=="string"&&o in a)?t(a[o],s):!1}return zA=i,zA}var UA,SB;function g8e(){if(SB)return UA;SB=1;var t=Qne(),e=l8e(),n=m8e(),r=a2(),i=n(function(s,o){if(s==null)return[];var a=o.length;return a>1&&r(s,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return UA=i,UA}var y8e=g8e();const vM=Zt(y8e);function _g(t){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(t)}function t3(){return t3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t3.apply(this,arguments)}function v8e(t,e){return S8e(t)||w8e(t,e)||b8e(t,e)||x8e()}function x8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b8e(t,e){if(t){if(typeof t=="string")return CB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CB(t,e)}}function CB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function S8e(t){if(Array.isArray(t))return t}function NB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NB(Object(n),!0).forEach(function(r){C8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C8e(t,e,n){return e=N8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N8e(t){var e=P8e(t,"string");return _g(e)=="symbol"?e:e+""}function P8e(t,e){if(_g(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T8e(t){return Array.isArray(t)&&dr(t[0])&&dr(t[1])?t.join(" ~ "):t}var A8e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,h=e.formatter,m=e.itemSorter,g=e.wrapperClassName,y=e.labelClassName,b=e.label,x=e.labelFormatter,S=e.accessibilityLayer,N=S===void 0?!1:S,T=function(){if(d&&d.length){var V={padding:0,margin:0},U=(m?vM(d,m):d).map(function(L,z){if(L.type==="none")return null;var F=qA({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},a),q=L.formatter||h||T8e,M=L.value,D=L.name,Q=M,W=D;if(q&&Q!=null&&W!=null){var Y=q(M,D,L,z,d);if(Array.isArray(Y)){var le=v8e(Y,2);Q=le[0],W=le[1]}else Q=Y}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:F},dr(W)?H.createElement("span",{className:"recharts-tooltip-item-name"},W):null,dr(W)?H.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,H.createElement("span",{className:"recharts-tooltip-item-value"},Q),H.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:V},U)}return null},j=qA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),P=qA({margin:0},c),E=!kt(b),O=E?b:"",_=It("recharts-default-tooltip",g),$=It("recharts-tooltip-label",y);E&&x&&d!==void 0&&d!==null&&(O=x(b,d));var B=N?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",t3({className:_,style:j},B),H.createElement("p",{className:$,style:P},H.isValidElement(O)?O:"".concat(O)),T())};function Mg(t){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(t)}function D0(t,e,n){return e=j8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j8e(t){var e=E8e(t,"string");return Mg(e)=="symbol"?e:e+""}function E8e(t,e){if(Mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lp="recharts-tooltip-wrapper",k8e={visibility:"hidden"};function O8e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return It(Lp,D0(D0(D0(D0({},"".concat(Lp,"-right"),_e(n)&&e&&_e(e.x)&&n>=e.x),"".concat(Lp,"-left"),_e(n)&&e&&_e(e.x)&&n<e.x),"".concat(Lp,"-bottom"),_e(r)&&e&&_e(e.y)&&r>=e.y),"".concat(Lp,"-top"),_e(r)&&e&&_e(e.y)&&r<e.y))}function PB(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&_e(s[r]))return s[r];var d=n[r]-a-i,h=n[r]+i;if(e[r])return o[r]?d:h;if(o[r]){var m=d,g=l[r];return m<g?Math.max(h,l[r]):Math.max(d,l[r])}var y=h+a,b=l[r]+c;return y>b?Math.max(d,l[r]):Math.max(h,l[r])}function $8e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function _8e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,d,h;return o.height>0&&o.width>0&&n?(d=PB({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),h=PB({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=$8e({translateX:d,translateY:h,useTranslate3d:a})):c=k8e,{cssProperties:c,cssClasses:O8e({translateX:d,translateY:h,coordinate:n})}}function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function TB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(n),!0).forEach(function(r){r3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ere(r.key),r)}}function R8e(t,e,n){return e&&I8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D8e(t,e,n){return e=eb(e),L8e(t,Jne()?Reflect.construct(e,n||[],eb(t).constructor):e.apply(t,n))}function L8e(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F8e(t)}function F8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jne=function(){return!!t})()}function eb(t){return eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eb(t)}function B8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n3(t,e)}function n3(t,e){return n3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n3(t,e)}function r3(t,e,n){return e=ere(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ere(t){var e=V8e(t,"string");return Kf(e)=="symbol"?e:e+""}function V8e(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jB=1,z8e=(function(t){function e(){var n;M8e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=D8e(this,e,[].concat(i)),r3(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),r3(n,"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return B8e(e,t),R8e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>jB||Math.abs(r.height-this.state.lastBoundingBox.height)>jB)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,h=i.hasPayload,m=i.isAnimationActive,g=i.offset,y=i.position,b=i.reverseDirection,x=i.useTranslate3d,S=i.viewBox,N=i.wrapperStyle,T=_8e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:g,position:y,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:S}),j=T.cssClasses,P=T.cssProperties,E=AB(AB({transition:m&&s?"transform ".concat(a,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},N);return H.createElement("div",{tabIndex:-1,className:j,style:E,ref:function(_){r.wrapperNode=_}},c)}}])})(C.PureComponent),U8e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Lh={isSsr:U8e()};function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function EB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EB(Object(n),!0).forEach(function(r){xM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nre(r.key),r)}}function W8e(t,e,n){return e&&H8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K8e(t,e,n){return e=tb(e),G8e(t,tre()?Reflect.construct(e,n||[],tb(t).constructor):e.apply(t,n))}function G8e(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q8e(t)}function Q8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tre=function(){return!!t})()}function tb(t){return tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tb(t)}function Y8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i3(t,e)}function i3(t,e){return i3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i3(t,e)}function xM(t,e,n){return e=nre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nre(t){var e=X8e(t,"string");return Gf(e)=="symbol"?e:e+""}function X8e(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Z8e(t){return t.dataKey}function J8e(t,e){return H.isValidElement(t)?H.cloneElement(t,e):typeof t=="function"?H.createElement(t,e):H.createElement(A8e,e)}var Xs=(function(t){function e(){return q8e(this,e),K8e(this,e,arguments)}return Y8e(e,t),W8e(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,h=i.filterNull,m=i.isAnimationActive,g=i.offset,y=i.payload,b=i.payloadUniqBy,x=i.position,S=i.reverseDirection,N=i.useTranslate3d,T=i.viewBox,j=i.wrapperStyle,P=y??[];h&&P.length&&(P=Wne(y.filter(function(O){return O.value!=null&&(O.hide!==!0||r.props.includeHidden)}),b,Z8e));var E=P.length>0;return H.createElement(z8e,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:m,active:s,coordinate:d,hasPayload:E,offset:g,position:x,reverseDirection:S,useTranslate3d:N,viewBox:T,wrapperStyle:j},J8e(c,kB(kB({},this.props),{},{payload:P})))}}])})(C.PureComponent);xM(Xs,"displayName","Tooltip");xM(Xs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Lh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var HA,OB;function e6e(){if(OB)return HA;OB=1;var t=Xo(),e=function(){return t.Date.now()};return HA=e,HA}var WA,$B;function t6e(){if($B)return WA;$B=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return WA=e,WA}var KA,_B;function n6e(){if(_B)return KA;_B=1;var t=t6e(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return KA=n,KA}var GA,MB;function rre(){if(MB)return GA;MB=1;var t=n6e(),e=Pc(),n=Ih(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=e(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=t(c);var h=s.test(c);return h||o.test(c)?a(c.slice(2),h?2:8):i.test(c)?r:+c}return GA=l,GA}var QA,IB;function r6e(){if(IB)return QA;IB=1;var t=Pc(),e=e6e(),n=rre(),r="Expected a function",i=Math.max,s=Math.min;function o(a,l,c){var d,h,m,g,y,b,x=0,S=!1,N=!1,T=!0;if(typeof a!="function")throw new TypeError(r);l=n(l)||0,t(c)&&(S=!!c.leading,N="maxWait"in c,m=N?i(n(c.maxWait)||0,l):m,T="trailing"in c?!!c.trailing:T);function j(U){var L=d,z=h;return d=h=void 0,x=U,g=a.apply(z,L),g}function P(U){return x=U,y=setTimeout(_,l),S?j(U):g}function E(U){var L=U-b,z=U-x,F=l-L;return N?s(F,m-z):F}function O(U){var L=U-b,z=U-x;return b===void 0||L>=l||L<0||N&&z>=m}function _(){var U=e();if(O(U))return $(U);y=setTimeout(_,E(U))}function $(U){return y=void 0,T&&d?j(U):(d=h=void 0,g)}function B(){y!==void 0&&clearTimeout(y),x=0,d=b=h=y=void 0}function I(){return y===void 0?g:$(e())}function V(){var U=e(),L=O(U);if(d=arguments,h=this,b=U,L){if(y===void 0)return P(b);if(N)return clearTimeout(y),y=setTimeout(_,l),j(b)}return y===void 0&&(y=setTimeout(_,l)),g}return V.cancel=B,V.flush=I,V}return QA=o,QA}var YA,RB;function i6e(){if(RB)return YA;RB=1;var t=r6e(),e=Pc(),n="Expected a function";function r(i,s,o){var a=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(a="leading"in o?!!o.leading:a,l="trailing"in o?!!o.trailing:l),t(i,s,{leading:a,maxWait:s,trailing:l})}return YA=r,YA}var s6e=i6e();const ire=Zt(s6e);function Ig(t){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}function DB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DB(Object(n),!0).forEach(function(r){o6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o6e(t,e,n){return e=a6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a6e(t){var e=l6e(t,"string");return Ig(e)=="symbol"?e:e+""}function l6e(t,e){if(Ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c6e(t,e){return h6e(t)||f6e(t,e)||d6e(t,e)||u6e()}function u6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d6e(t,e){if(t){if(typeof t=="string")return LB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LB(t,e)}}function LB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function h6e(t){if(Array.isArray(t))return t}var FB=C.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,d=c===void 0?0:c,h=t.minHeight,m=t.maxHeight,g=t.children,y=t.debounce,b=y===void 0?0:y,x=t.id,S=t.className,N=t.onResize,T=t.style,j=T===void 0?{}:T,P=C.useRef(null),E=C.useRef();E.current=N,C.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var O=C.useState({containerWidth:i.width,containerHeight:i.height}),_=c6e(O,2),$=_[0],B=_[1],I=C.useCallback(function(U,L){B(function(z){var F=Math.round(U),q=Math.round(L);return z.containerWidth===F&&z.containerHeight===q?z:{containerWidth:F,containerHeight:q}})},[]);C.useEffect(function(){var U=function(D){var Q,W=D[0].contentRect,Y=W.width,le=W.height;I(Y,le),(Q=E.current)===null||Q===void 0||Q.call(E,Y,le)};b>0&&(U=ire(U,b,{trailing:!0,leading:!1}));var L=new ResizeObserver(U),z=P.current.getBoundingClientRect(),F=z.width,q=z.height;return I(F,q),L.observe(P.current),function(){L.disconnect()}},[I,b]);var V=C.useMemo(function(){var U=$.containerWidth,L=$.containerHeight;if(U<0||L<0)return null;$a(ou(o)||ou(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),$a(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=ou(o)?U:o,F=ou(l)?L:l;n&&n>0&&(z?F=z/n:F&&(z=F*n),m&&F>m&&(F=m)),$a(z>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,F,o,l,d,h,n);var q=!Array.isArray(g)&&Oa(g.type).endsWith("Chart");return H.Children.map(g,function(M){return H.isValidElement(M)?C.cloneElement(M,L0({width:z,height:F},q?{style:L0({height:"100%",width:"100%",maxHeight:F,maxWidth:z},M.props.style)}:{})):M})},[n,g,l,m,h,d,$,o]);return H.createElement("div",{id:x?"".concat(x):void 0,className:It("recharts-responsive-container",S),style:L0(L0({},j),{},{width:o,height:l,minWidth:d,minHeight:h,maxHeight:m}),ref:P},V)}),bM=function(e){return null};bM.displayName="Cell";function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function BB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BB(Object(n),!0).forEach(function(r){p6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p6e(t,e,n){return e=m6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m6e(t){var e=g6e(t,"string");return Rg(e)=="symbol"?e:e+""}function g6e(t,e){if(Rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fd={widthCache:{},cacheCount:0},y6e=2e3,v6e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VB="recharts_measurement_span";function x6e(t){var e=s3({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Sm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Lh.isSsr)return{width:0,height:0};var r=x6e(n),i=JSON.stringify({text:e,copyStyle:r});if(Fd.widthCache[i])return Fd.widthCache[i];try{var s=document.getElementById(VB);s||(s=document.createElement("span"),s.setAttribute("id",VB),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=s3(s3({},v6e),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return Fd.widthCache[i]=l,++Fd.cacheCount>y6e&&(Fd.cacheCount=0,Fd.widthCache={}),l}catch{return{width:0,height:0}}},b6e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Dg(t){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(t)}function nb(t,e){return N6e(t)||C6e(t,e)||S6e(t,e)||w6e()}function w6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S6e(t,e){if(t){if(typeof t=="string")return zB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zB(t,e)}}function zB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function N6e(t){if(Array.isArray(t))return t}function P6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A6e(r.key),r)}}function T6e(t,e,n){return e&&UB(t.prototype,e),n&&UB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function A6e(t){var e=j6e(t,"string");return Dg(e)=="symbol"?e:e+""}function j6e(t,e){if(Dg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,E6e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,k6e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sre={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},O6e=Object.keys(sre),rf="NaN";function $6e(t,e){return t*sre[e]}var F0=(function(){function t(e,n){P6e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!E6e.test(n)&&(this.num=NaN,this.unit=""),O6e.includes(n)&&(this.num=$6e(e,n),this.unit="px")}return T6e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=k6e.exec(n))!==null&&r!==void 0?r:[],s=nb(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])})();function ore(t){if(t.includes(rf))return rf;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=qB.exec(e))!==null&&n!==void 0?n:[],i=nb(r,4),s=i[1],o=i[2],a=i[3],l=F0.parse(s??""),c=F0.parse(a??""),d=o==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return rf;e=e.replace(qB,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,m=(h=HB.exec(e))!==null&&h!==void 0?h:[],g=nb(m,4),y=g[1],b=g[2],x=g[3],S=F0.parse(y??""),N=F0.parse(x??""),T=b==="+"?S.add(N):S.subtract(N);if(T.isNaN())return rf;e=e.replace(HB,T.toString())}return e}var WB=/\(([^()]*)\)/;function _6e(t){for(var e=t;e.includes("(");){var n=WB.exec(e),r=nb(n,2),i=r[1];e=e.replace(WB,ore(i))}return e}function M6e(t){var e=t.replace(/\s+/g,"");return e=_6e(e),e=ore(e),e}function I6e(t){try{return M6e(t)}catch{return rf}}function XA(t){var e=I6e(t.slice(5,-1));return e===rf?"":e}var R6e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],D6e=["dx","dy","angle","className","breakAll"];function o3(){return o3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o3.apply(this,arguments)}function KB(t,e){if(t==null)return{};var n=L6e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function L6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GB(t,e){return z6e(t)||V6e(t,e)||B6e(t,e)||F6e()}function F6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B6e(t,e){if(t){if(typeof t=="string")return QB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QB(t,e)}}function QB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function z6e(t){if(Array.isArray(t))return t}var are=/[ \f\n\r\t\v\u2028\u2029]+/,lre=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];kt(n)||(r?s=n.toString().split(""):s=n.toString().split(are));var o=s.map(function(l){return{word:l,width:Sm(l,i).width}}),a=r?0:Sm("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},U6e=function(e,n,r,i,s){var o=e.maxLines,a=e.children,l=e.style,c=e.breakAll,d=_e(o),h=a,m=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(F,q){var M=q.word,D=q.width,Q=F[F.length-1];if(Q&&(i==null||s||Q.width+D+r<Number(i)))Q.words.push(M),Q.width+=D+r;else{var W={words:[M],width:D};F.push(W)}return F},[])},g=m(n),y=function(z){return z.reduce(function(F,q){return F.width>q.width?F:q})};if(!d)return g;for(var b="",x=function(z){var F=h.slice(0,z),q=lre({breakAll:c,style:l,children:F+b}).wordsWithComputedWidth,M=m(q),D=M.length>o||y(M).width>Number(i);return[D,M]},S=0,N=h.length-1,T=0,j;S<=N&&T<=h.length-1;){var P=Math.floor((S+N)/2),E=P-1,O=x(E),_=GB(O,2),$=_[0],B=_[1],I=x(P),V=GB(I,1),U=V[0];if(!$&&!U&&(S=P+1),$&&U&&(N=P-1),!$&&U){j=B;break}T++}return j||g},YB=function(e){var n=kt(e)?[]:e.toString().split(are);return[{words:n}]},q6e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((n||r)&&!Lh.isSsr){var l,c,d=lre({breakAll:o,children:i,style:s});if(d){var h=d.wordsWithComputedWidth,m=d.spaceWidth;l=h,c=m}else return YB(i);return U6e({breakAll:o,children:i,maxLines:a,style:s},l,c,n,r)}return YB(i)},XB="#808080",rb=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,h=d===void 0?!1:d,m=e.textAnchor,g=m===void 0?"start":m,y=e.verticalAnchor,b=y===void 0?"end":y,x=e.fill,S=x===void 0?XB:x,N=KB(e,R6e),T=C.useMemo(function(){return q6e({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:h,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,h,N.style,N.width]),j=N.dx,P=N.dy,E=N.angle,O=N.className,_=N.breakAll,$=KB(N,D6e);if(!dr(r)||!dr(s))return null;var B=r+(_e(j)?j:0),I=s+(_e(P)?P:0),V;switch(b){case"start":V=XA("calc(".concat(c,")"));break;case"middle":V=XA("calc(".concat((T.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:V=XA("calc(".concat(T.length-1," * -").concat(a,")"));break}var U=[];if(h){var L=T[0].width,z=N.width;U.push("scale(".concat((_e(z)?z/L:1)/L,")"))}return E&&U.push("rotate(".concat(E,", ").concat(B,", ").concat(I,")")),U.length&&($.transform=U.join(" ")),H.createElement("text",o3({},Mt($,!0),{x:B,y:I,className:It("recharts-text",O),textAnchor:g,fill:S.includes("url")?XB:S}),T.map(function(F,q){var M=F.words.join(_?"":" ");return H.createElement("tspan",{x:B,dy:q===0?V:a,key:"".concat(M,"-").concat(q)},M)}))};function Jl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function H6e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wM(t){let e,n,r;t.length!==2?(e=Jl,n=(a,l)=>Jl(t(a),l),r=(a,l)=>t(a)-l):(e=t===Jl||t===H6e?t:W6e,n=t,r=t);function i(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const h=c+d>>>1;n(a[h],l)<0?c=h+1:d=h}while(c<d)}return c}function s(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const h=c+d>>>1;n(a[h],l)<=0?c=h+1:d=h}while(c<d)}return c}function o(a,l,c=0,d=a.length){const h=i(a,l,c,d-1);return h>c&&r(a[h-1],l)>-r(a[h],l)?h-1:h}return{left:i,center:o,right:s}}function W6e(){return 0}function cre(t){return t===null?NaN:+t}function*K6e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const G6e=wM(Jl),Wy=G6e.right;wM(cre).center;class ZB extends Map{constructor(e,n=X6e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(JB(this,e))}has(e){return super.has(JB(this,e))}set(e,n){return super.set(Q6e(this,e),n)}delete(e){return super.delete(Y6e(this,e))}}function JB({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Q6e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Y6e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function X6e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Z6e(t=Jl){if(t===Jl)return ure;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function ure(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const J6e=Math.sqrt(50),e9e=Math.sqrt(10),t9e=Math.sqrt(2);function ib(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=J6e?10:s>=e9e?5:s>=t9e?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?ib(t,e,n*2):[a,l,c]}function a3(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?ib(e,t,n):ib(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function l3(t,e,n){return e=+e,t=+t,n=+n,ib(t,e,n)[2]}function c3(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?l3(e,t,n):l3(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function eV(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function tV(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function dre(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?ure:Z6e(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),h=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*h*(l-h)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(e-c*h/l+m)),y=Math.min(r,Math.floor(e+(l-c)*h/l+m));dre(t,e,g,y,i)}const s=t[e];let o=n,a=r;for(Fp(t,n,e),i(t[r],s)>0&&Fp(t,n,r);o<a;){for(Fp(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?Fp(t,n,a):(++a,Fp(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Fp(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function n9e(t,e,n){if(t=Float64Array.from(K6e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return tV(t);if(e>=1)return eV(t);var r,i=(r-1)*e,s=Math.floor(i),o=eV(dre(t,s).subarray(0,s+1)),a=tV(t.subarray(s+1));return o+(a-o)*(i-s)}}function r9e(t,e,n=cre){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function i9e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ms(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Za(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const u3=Symbol("implicit");function SM(){var t=new ZB,e=[],n=[],r=u3;function i(s){let o=t.get(s);if(o===void 0){if(r!==u3)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new ZB;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return SM(e,n).unknown(r)},Ms.apply(i,arguments),i}function Lg(){var t=SM().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,c=0,d=.5;delete t.unknown;function h(){var m=e().length,g=i<r,y=g?i:r,b=g?r:i;s=(b-y)/Math.max(1,m-l+c*2),a&&(s=Math.floor(s)),y+=(b-y-s*(m-l))*d,o=s*(1-l),a&&(y=Math.round(y),o=Math.round(o));var x=i9e(m).map(function(S){return y+s*S});return n(g?x.reverse():x)}return t.domain=function(m){return arguments.length?(e(m),h()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,a=!0,h()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(m){return arguments.length?(a=!!m,h()):a},t.padding=function(m){return arguments.length?(l=Math.min(1,c=+m),h()):l},t.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),h()):l},t.paddingOuter=function(m){return arguments.length?(c=+m,h()):c},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),h()):d},t.copy=function(){return Lg(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(d)},Ms.apply(h(),arguments)}function fre(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return fre(e())},t}function Cm(){return fre(Lg.apply(null,arguments).paddingInner(1))}function CM(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function hre(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ky(){}var Fg=.7,sb=1/Fg,wf="\\s*([+-]?\\d+)\\s*",Bg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s9e=/^#([0-9a-f]{3,8})$/,o9e=new RegExp(`^rgb\\(${wf},${wf},${wf}\\)$`),a9e=new RegExp(`^rgb\\(${Bo},${Bo},${Bo}\\)$`),l9e=new RegExp(`^rgba\\(${wf},${wf},${wf},${Bg}\\)$`),c9e=new RegExp(`^rgba\\(${Bo},${Bo},${Bo},${Bg}\\)$`),u9e=new RegExp(`^hsl\\(${Bg},${Bo},${Bo}\\)$`),d9e=new RegExp(`^hsla\\(${Bg},${Bo},${Bo},${Bg}\\)$`),nV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};CM(Ky,Vg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:rV,formatHex:rV,formatHex8:f9e,formatHsl:h9e,formatRgb:iV,toString:iV});function rV(){return this.rgb().formatHex()}function f9e(){return this.rgb().formatHex8()}function h9e(){return pre(this).formatHsl()}function iV(){return this.rgb().formatRgb()}function Vg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=s9e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?sV(e):n===3?new Ii(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?B0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?B0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=o9e.exec(t))?new Ii(e[1],e[2],e[3],1):(e=a9e.exec(t))?new Ii(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=l9e.exec(t))?B0(e[1],e[2],e[3],e[4]):(e=c9e.exec(t))?B0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=u9e.exec(t))?lV(e[1],e[2]/100,e[3]/100,1):(e=d9e.exec(t))?lV(e[1],e[2]/100,e[3]/100,e[4]):nV.hasOwnProperty(t)?sV(nV[t]):t==="transparent"?new Ii(NaN,NaN,NaN,0):null}function sV(t){return new Ii(t>>16&255,t>>8&255,t&255,1)}function B0(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ii(t,e,n,r)}function p9e(t){return t instanceof Ky||(t=Vg(t)),t?(t=t.rgb(),new Ii(t.r,t.g,t.b,t.opacity)):new Ii}function d3(t,e,n,r){return arguments.length===1?p9e(t):new Ii(t,e,n,r??1)}function Ii(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}CM(Ii,d3,hre(Ky,{brighter(t){return t=t==null?sb:Math.pow(sb,t),new Ii(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fg:Math.pow(Fg,t),new Ii(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ii(bu(this.r),bu(this.g),bu(this.b),ob(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oV,formatHex:oV,formatHex8:m9e,formatRgb:aV,toString:aV}));function oV(){return`#${au(this.r)}${au(this.g)}${au(this.b)}`}function m9e(){return`#${au(this.r)}${au(this.g)}${au(this.b)}${au((isNaN(this.opacity)?1:this.opacity)*255)}`}function aV(){const t=ob(this.opacity);return`${t===1?"rgb(":"rgba("}${bu(this.r)}, ${bu(this.g)}, ${bu(this.b)}${t===1?")":`, ${t})`}`}function ob(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function bu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function au(t){return t=bu(t),(t<16?"0":"")+t.toString(16)}function lV(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new so(t,e,n,r)}function pre(t){if(t instanceof so)return new so(t.h,t.s,t.l,t.opacity);if(t instanceof Ky||(t=Vg(t)),!t)return new so;if(t instanceof so)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new so(o,a,l,t.opacity)}function g9e(t,e,n,r){return arguments.length===1?pre(t):new so(t,e,n,r??1)}function so(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}CM(so,g9e,hre(Ky,{brighter(t){return t=t==null?sb:Math.pow(sb,t),new so(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fg:Math.pow(Fg,t),new so(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ii(ZA(t>=240?t-240:t+120,i,r),ZA(t,i,r),ZA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new so(cV(this.h),V0(this.s),V0(this.l),ob(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ob(this.opacity);return`${t===1?"hsl(":"hsla("}${cV(this.h)}, ${V0(this.s)*100}%, ${V0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function cV(t){return t=(t||0)%360,t<0?t+360:t}function V0(t){return Math.max(0,Math.min(1,t||0))}function ZA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const NM=t=>()=>t;function y9e(t,e){return function(n){return t+n*e}}function v9e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function x9e(t){return(t=+t)==1?mre:function(e,n){return n-e?v9e(e,n,t):NM(isNaN(e)?n:e)}}function mre(t,e){var n=e-t;return n?y9e(t,n):NM(isNaN(t)?e:t)}const uV=(function t(e){var n=x9e(e);function r(i,s){var o=n((i=d3(i)).r,(s=d3(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=mre(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=a(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r})(1);function b9e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function w9e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function S9e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Fh(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function C9e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ab(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function N9e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Fh(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var f3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,JA=new RegExp(f3.source,"g");function P9e(t){return function(){return t}}function T9e(t){return function(e){return t(e)+""}}function A9e(t,e){var n=f3.lastIndex=JA.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=f3.exec(t))&&(i=JA.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:ab(r,i)})),n=JA.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?T9e(l[0].x):P9e(e):(e=l.length,function(c){for(var d=0,h;d<e;++d)a[(h=l[d]).i]=h.x(c);return a.join("")})}function Fh(t,e){var n=typeof e,r;return e==null||n==="boolean"?NM(e):(n==="number"?ab:n==="string"?(r=Vg(e))?(e=r,uV):A9e:e instanceof Vg?uV:e instanceof Date?C9e:w9e(e)?b9e:Array.isArray(e)?S9e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?N9e:ab)(t,e)}function PM(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function j9e(t,e){e===void 0&&(e=t,t=Fh);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function E9e(t){return function(){return t}}function lb(t){return+t}var dV=[0,1];function xi(t){return t}function h3(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:E9e(isNaN(e)?NaN:.5)}function k9e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function O9e(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=h3(i,r),s=n(o,s)):(r=h3(r,i),s=n(s,o)),function(a){return s(r(a))}}function $9e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=h3(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=Wy(t,a,1,r)-1;return s[l](i[l](a))}}function Gy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function l2(){var t=dV,e=dV,n=Fh,r,i,s,o=xi,a,l,c;function d(){var m=Math.min(t.length,e.length);return o!==xi&&(o=k9e(t[0],t[m-1])),a=m>2?$9e:O9e,l=c=null,h}function h(m){return m==null||isNaN(m=+m)?s:(l||(l=a(t.map(r),e,n)))(r(o(m)))}return h.invert=function(m){return o(i((c||(c=a(e,t.map(r),ab)))(m)))},h.domain=function(m){return arguments.length?(t=Array.from(m,lb),d()):t.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),n=PM,d()},h.clamp=function(m){return arguments.length?(o=m?!0:xi,d()):o!==xi},h.interpolate=function(m){return arguments.length?(n=m,d()):n},h.unknown=function(m){return arguments.length?(s=m,h):s},function(m,g){return r=m,i=g,d()}}function TM(){return l2()(xi,xi)}function _9e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function cb(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Qf(t){return t=cb(Math.abs(t)),t?t[1]:NaN}function M9e(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function I9e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var R9e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zg(t){if(!(e=R9e.exec(t)))throw new Error("invalid format: "+t);var e;return new AM({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}zg.prototype=AM.prototype;function AM(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}AM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function D9e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var gre;function L9e(t,e){var n=cb(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(gre=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+cb(t,Math.max(0,e+s-1))[0]}function fV(t,e){var n=cb(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const hV={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:_9e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>fV(t*100,e),r:fV,s:L9e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function pV(t){return t}var mV=Array.prototype.map,gV=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function F9e(t){var e=t.grouping===void 0||t.thousands===void 0?pV:M9e(mV.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?pV:I9e(mV.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(h){h=zg(h);var m=h.fill,g=h.align,y=h.sign,b=h.symbol,x=h.zero,S=h.width,N=h.comma,T=h.precision,j=h.trim,P=h.type;P==="n"?(N=!0,P="g"):hV[P]||(T===void 0&&(T=12),j=!0,P="g"),(x||m==="0"&&g==="=")&&(x=!0,m="0",g="=");var E=b==="$"?n:b==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",O=b==="$"?r:/[%p]/.test(P)?o:"",_=hV[P],$=/[defgprs%]/.test(P);T=T===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function B(I){var V=E,U=O,L,z,F;if(P==="c")U=_(I)+U,I="";else{I=+I;var q=I<0||1/I<0;if(I=isNaN(I)?l:_(Math.abs(I),T),j&&(I=D9e(I)),q&&+I==0&&y!=="+"&&(q=!1),V=(q?y==="("?y:a:y==="-"||y==="("?"":y)+V,U=(P==="s"?gV[8+gre/3]:"")+U+(q&&y==="("?")":""),$){for(L=-1,z=I.length;++L<z;)if(F=I.charCodeAt(L),48>F||F>57){U=(F===46?i+I.slice(L+1):I.slice(L))+U,I=I.slice(0,L);break}}}N&&!x&&(I=e(I,1/0));var M=V.length+I.length+U.length,D=M<S?new Array(S-M+1).join(m):"";switch(N&&x&&(I=e(D+I,D.length?S-U.length:1/0),D=""),g){case"<":I=V+I+U+D;break;case"=":I=V+D+I+U;break;case"^":I=D.slice(0,M=D.length>>1)+V+I+U+D.slice(M);break;default:I=D+V+I+U;break}return s(I)}return B.toString=function(){return h+""},B}function d(h,m){var g=c((h=zg(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(Qf(m)/3)))*3,b=Math.pow(10,-y),x=gV[8+y/3];return function(S){return g(b*S)+x}}return{format:c,formatPrefix:d}}var z0,jM,yre;B9e({thousands:",",grouping:[3],currency:["$",""]});function B9e(t){return z0=F9e(t),jM=z0.format,yre=z0.formatPrefix,z0}function V9e(t){return Math.max(0,-Qf(Math.abs(t)))}function z9e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qf(e)/3)))*3-Qf(Math.abs(t)))}function U9e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qf(e)-Qf(t))+1}function vre(t,e,n,r){var i=c3(t,e,n),s;switch(r=zg(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=z9e(i,o))&&(r.precision=s),yre(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=U9e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=V9e(i))&&(r.precision=s-(r.type==="%")*2);break}}return jM(r)}function Ac(t){var e=t.domain;return t.ticks=function(n){var r=e();return a3(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return vre(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,d=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);d-- >0;){if(c=l3(o,a,n),c===l)return r[i]=o,r[s]=a,e(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function ub(){var t=TM();return t.copy=function(){return Gy(t,ub())},Ms.apply(t,arguments),Ac(t)}function xre(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,lb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return xre(t).unknown(e)},t=arguments.length?Array.from(t,lb):[0,1],Ac(n)}function bre(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function yV(t){return Math.log(t)}function vV(t){return Math.exp(t)}function q9e(t){return-Math.log(-t)}function H9e(t){return-Math.exp(-t)}function W9e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function K9e(t){return t===10?W9e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function G9e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function xV(t){return(e,n)=>-t(-e,n)}function EM(t){const e=t(yV,vV),n=e.domain;let r=10,i,s;function o(){return i=G9e(r),s=K9e(r),n()[0]<0?(i=xV(i),s=xV(s),t(q9e,H9e)):t(yV,vV),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let c=l[0],d=l[l.length-1];const h=d<c;h&&([c,d]=[d,c]);let m=i(c),g=i(d),y,b;const x=a==null?10:+a;let S=[];if(!(r%1)&&g-m<x){if(m=Math.floor(m),g=Math.ceil(g),c>0){for(;m<=g;++m)for(y=1;y<r;++y)if(b=m<0?y/s(-m):y*s(m),!(b<c)){if(b>d)break;S.push(b)}}else for(;m<=g;++m)for(y=r-1;y>=1;--y)if(b=m>0?y/s(-m):y*s(m),!(b<c)){if(b>d)break;S.push(b)}S.length*2<x&&(S=a3(c,d,x))}else S=a3(m,g,Math.min(g-m,x)).map(s);return h?S.reverse():S},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=zg(l)).precision==null&&(l.trim=!0),l=jM(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=c?l(d):""}},e.nice=()=>n(bre(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function wre(){const t=EM(l2()).domain([1,10]);return t.copy=()=>Gy(t,wre()).base(t.base()),Ms.apply(t,arguments),t}function bV(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function wV(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function kM(t){var e=1,n=t(bV(e),wV(e));return n.constant=function(r){return arguments.length?t(bV(e=+r),wV(e)):e},Ac(n)}function Sre(){var t=kM(l2());return t.copy=function(){return Gy(t,Sre()).constant(t.constant())},Ms.apply(t,arguments)}function SV(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Q9e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Y9e(t){return t<0?-t*t:t*t}function OM(t){var e=t(xi,xi),n=1;function r(){return n===1?t(xi,xi):n===.5?t(Q9e,Y9e):t(SV(n),SV(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ac(e)}function $M(){var t=OM(l2());return t.copy=function(){return Gy(t,$M()).exponent(t.exponent())},Ms.apply(t,arguments),t}function X9e(){return $M.apply(null,arguments).exponent(.5)}function CV(t){return Math.sign(t)*t*t}function Z9e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Cre(){var t=TM(),e=[0,1],n=!1,r;function i(s){var o=Z9e(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(CV(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,lb)).map(CV)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Cre(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ms.apply(i,arguments),Ac(i)}function Nre(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=r9e(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[Wy(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Jl),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return Nre().domain(t).range(e).unknown(r)},Ms.apply(s,arguments)}function Pre(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[Wy(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Pre().domain([t,e]).range(i).unknown(s)},Ms.apply(Ac(o),arguments)}function Tre(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Wy(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Tre().domain(t).range(e).unknown(n)},Ms.apply(i,arguments)}const ej=new Date,tj=new Date;function mr(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),e(s,a),t(s);while(c<s&&s<o);return l},i.filter=s=>mr(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(ej.setTime(+s),tj.setTime(+o),t(ej),t(tj),Math.floor(n(ej,tj))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const db=mr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);db.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?mr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):db);db.range;const Sa=1e3,As=Sa*60,Ca=As*60,Ua=Ca*24,_M=Ua*7,NV=Ua*30,nj=Ua*365,lu=mr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Sa)},(t,e)=>(e-t)/Sa,t=>t.getUTCSeconds());lu.range;const MM=mr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Sa)},(t,e)=>{t.setTime(+t+e*As)},(t,e)=>(e-t)/As,t=>t.getMinutes());MM.range;const IM=mr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*As)},(t,e)=>(e-t)/As,t=>t.getUTCMinutes());IM.range;const RM=mr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Sa-t.getMinutes()*As)},(t,e)=>{t.setTime(+t+e*Ca)},(t,e)=>(e-t)/Ca,t=>t.getHours());RM.range;const DM=mr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ca)},(t,e)=>(e-t)/Ca,t=>t.getUTCHours());DM.range;const Qy=mr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*As)/Ua,t=>t.getDate()-1);Qy.range;const c2=mr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ua,t=>t.getUTCDate()-1);c2.range;const Are=mr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ua,t=>Math.floor(t/Ua));Are.range;function td(t){return mr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*As)/_M)}const u2=td(0),fb=td(1),J9e=td(2),eLe=td(3),Yf=td(4),tLe=td(5),nLe=td(6);u2.range;fb.range;J9e.range;eLe.range;Yf.range;tLe.range;nLe.range;function nd(t){return mr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/_M)}const d2=nd(0),hb=nd(1),rLe=nd(2),iLe=nd(3),Xf=nd(4),sLe=nd(5),oLe=nd(6);d2.range;hb.range;rLe.range;iLe.range;Xf.range;sLe.range;oLe.range;const LM=mr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());LM.range;const FM=mr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());FM.range;const qa=mr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());qa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});qa.range;const Ha=mr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ha.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ha.range;function jre(t,e,n,r,i,s){const o=[[lu,1,Sa],[lu,5,5*Sa],[lu,15,15*Sa],[lu,30,30*Sa],[s,1,As],[s,5,5*As],[s,15,15*As],[s,30,30*As],[i,1,Ca],[i,3,3*Ca],[i,6,6*Ca],[i,12,12*Ca],[r,1,Ua],[r,2,2*Ua],[n,1,_M],[e,1,NV],[e,3,3*NV],[t,1,nj]];function a(c,d,h){const m=d<c;m&&([c,d]=[d,c]);const g=h&&typeof h.range=="function"?h:l(c,d,h),y=g?g.range(c,+d+1):[];return m?y.reverse():y}function l(c,d,h){const m=Math.abs(d-c)/h,g=wM(([,,x])=>x).right(o,m);if(g===o.length)return t.every(c3(c/nj,d/nj,h));if(g===0)return db.every(Math.max(c3(c,d,h),1));const[y,b]=o[m/o[g-1][2]<o[g][2]/m?g-1:g];return y.every(b)}return[a,l]}const[aLe,lLe]=jre(Ha,FM,d2,Are,DM,IM),[cLe,uLe]=jre(qa,LM,u2,Qy,RM,MM);function rj(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ij(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bp(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function dLe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=Vp(i),d=zp(i),h=Vp(s),m=zp(s),g=Vp(o),y=zp(o),b=Vp(a),x=zp(a),S=Vp(l),N=zp(l),T={a:q,A:M,b:D,B:Q,c:null,d:kV,e:kV,f:MLe,g:qLe,G:WLe,H:OLe,I:$Le,j:_Le,L:Ere,m:ILe,M:RLe,p:W,q:Y,Q:_V,s:MV,S:DLe,u:LLe,U:FLe,V:BLe,w:VLe,W:zLe,x:null,X:null,y:ULe,Y:HLe,Z:KLe,"%":$V},j={a:le,A:pe,b:he,B:Ae,c:null,d:OV,e:OV,f:XLe,g:a7e,G:c7e,H:GLe,I:QLe,j:YLe,L:Ore,m:ZLe,M:JLe,p:me,q:Se,Q:_V,s:MV,S:e7e,u:t7e,U:n7e,V:r7e,w:i7e,W:s7e,x:null,X:null,y:o7e,Y:l7e,Z:u7e,"%":$V},P={a:B,A:I,b:V,B:U,c:L,d:jV,e:jV,f:ALe,g:AV,G:TV,H:EV,I:EV,j:CLe,L:TLe,m:SLe,M:NLe,p:$,q:wLe,Q:ELe,s:kLe,S:PLe,u:gLe,U:yLe,V:vLe,w:mLe,W:xLe,x:z,X:F,y:AV,Y:TV,Z:bLe,"%":jLe};T.x=E(n,T),T.X=E(r,T),T.c=E(e,T),j.x=E(n,j),j.X=E(r,j),j.c=E(e,j);function E(ue,Pe){return function(Oe){var oe=[],lt=-1,ae=0,yt=ue.length,ot,Ut,qt;for(Oe instanceof Date||(Oe=new Date(+Oe));++lt<yt;)ue.charCodeAt(lt)===37&&(oe.push(ue.slice(ae,lt)),(Ut=PV[ot=ue.charAt(++lt)])!=null?ot=ue.charAt(++lt):Ut=ot==="e"?" ":"0",(qt=Pe[ot])&&(ot=qt(Oe,Ut)),oe.push(ot),ae=lt+1);return oe.push(ue.slice(ae,lt)),oe.join("")}}function O(ue,Pe){return function(Oe){var oe=Bp(1900,void 0,1),lt=_(oe,ue,Oe+="",0),ae,yt;if(lt!=Oe.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(Pe&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(ae=ij(Bp(oe.y,0,1)),yt=ae.getUTCDay(),ae=yt>4||yt===0?hb.ceil(ae):hb(ae),ae=c2.offset(ae,(oe.V-1)*7),oe.y=ae.getUTCFullYear(),oe.m=ae.getUTCMonth(),oe.d=ae.getUTCDate()+(oe.w+6)%7):(ae=rj(Bp(oe.y,0,1)),yt=ae.getDay(),ae=yt>4||yt===0?fb.ceil(ae):fb(ae),ae=Qy.offset(ae,(oe.V-1)*7),oe.y=ae.getFullYear(),oe.m=ae.getMonth(),oe.d=ae.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),yt="Z"in oe?ij(Bp(oe.y,0,1)).getUTCDay():rj(Bp(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(yt+5)%7:oe.w+oe.U*7-(yt+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,ij(oe)):rj(oe)}}function _(ue,Pe,Oe,oe){for(var lt=0,ae=Pe.length,yt=Oe.length,ot,Ut;lt<ae;){if(oe>=yt)return-1;if(ot=Pe.charCodeAt(lt++),ot===37){if(ot=Pe.charAt(lt++),Ut=P[ot in PV?Pe.charAt(lt++):ot],!Ut||(oe=Ut(ue,Oe,oe))<0)return-1}else if(ot!=Oe.charCodeAt(oe++))return-1}return oe}function $(ue,Pe,Oe){var oe=c.exec(Pe.slice(Oe));return oe?(ue.p=d.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function B(ue,Pe,Oe){var oe=g.exec(Pe.slice(Oe));return oe?(ue.w=y.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function I(ue,Pe,Oe){var oe=h.exec(Pe.slice(Oe));return oe?(ue.w=m.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function V(ue,Pe,Oe){var oe=S.exec(Pe.slice(Oe));return oe?(ue.m=N.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function U(ue,Pe,Oe){var oe=b.exec(Pe.slice(Oe));return oe?(ue.m=x.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function L(ue,Pe,Oe){return _(ue,e,Pe,Oe)}function z(ue,Pe,Oe){return _(ue,n,Pe,Oe)}function F(ue,Pe,Oe){return _(ue,r,Pe,Oe)}function q(ue){return o[ue.getDay()]}function M(ue){return s[ue.getDay()]}function D(ue){return l[ue.getMonth()]}function Q(ue){return a[ue.getMonth()]}function W(ue){return i[+(ue.getHours()>=12)]}function Y(ue){return 1+~~(ue.getMonth()/3)}function le(ue){return o[ue.getUTCDay()]}function pe(ue){return s[ue.getUTCDay()]}function he(ue){return l[ue.getUTCMonth()]}function Ae(ue){return a[ue.getUTCMonth()]}function me(ue){return i[+(ue.getUTCHours()>=12)]}function Se(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var Pe=E(ue+="",T);return Pe.toString=function(){return ue},Pe},parse:function(ue){var Pe=O(ue+="",!1);return Pe.toString=function(){return ue},Pe},utcFormat:function(ue){var Pe=E(ue+="",j);return Pe.toString=function(){return ue},Pe},utcParse:function(ue){var Pe=O(ue+="",!0);return Pe.toString=function(){return ue},Pe}}}var PV={"-":"",_:" ",0:"0"},kr=/^\s*\d+/,fLe=/^%/,hLe=/[\\^$*+?|[\]().{}]/g;function zt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function pLe(t){return t.replace(hLe,"\\$&")}function Vp(t){return new RegExp("^(?:"+t.map(pLe).join("|")+")","i")}function zp(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function mLe(t,e,n){var r=kr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function gLe(t,e,n){var r=kr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function yLe(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function vLe(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function xLe(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function TV(t,e,n){var r=kr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function AV(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bLe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function wLe(t,e,n){var r=kr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function SLe(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function jV(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function CLe(t,e,n){var r=kr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function EV(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function NLe(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function PLe(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function TLe(t,e,n){var r=kr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ALe(t,e,n){var r=kr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jLe(t,e,n){var r=fLe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ELe(t,e,n){var r=kr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function kLe(t,e,n){var r=kr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function kV(t,e){return zt(t.getDate(),e,2)}function OLe(t,e){return zt(t.getHours(),e,2)}function $Le(t,e){return zt(t.getHours()%12||12,e,2)}function _Le(t,e){return zt(1+Qy.count(qa(t),t),e,3)}function Ere(t,e){return zt(t.getMilliseconds(),e,3)}function MLe(t,e){return Ere(t,e)+"000"}function ILe(t,e){return zt(t.getMonth()+1,e,2)}function RLe(t,e){return zt(t.getMinutes(),e,2)}function DLe(t,e){return zt(t.getSeconds(),e,2)}function LLe(t){var e=t.getDay();return e===0?7:e}function FLe(t,e){return zt(u2.count(qa(t)-1,t),e,2)}function kre(t){var e=t.getDay();return e>=4||e===0?Yf(t):Yf.ceil(t)}function BLe(t,e){return t=kre(t),zt(Yf.count(qa(t),t)+(qa(t).getDay()===4),e,2)}function VLe(t){return t.getDay()}function zLe(t,e){return zt(fb.count(qa(t)-1,t),e,2)}function ULe(t,e){return zt(t.getFullYear()%100,e,2)}function qLe(t,e){return t=kre(t),zt(t.getFullYear()%100,e,2)}function HLe(t,e){return zt(t.getFullYear()%1e4,e,4)}function WLe(t,e){var n=t.getDay();return t=n>=4||n===0?Yf(t):Yf.ceil(t),zt(t.getFullYear()%1e4,e,4)}function KLe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zt(e/60|0,"0",2)+zt(e%60,"0",2)}function OV(t,e){return zt(t.getUTCDate(),e,2)}function GLe(t,e){return zt(t.getUTCHours(),e,2)}function QLe(t,e){return zt(t.getUTCHours()%12||12,e,2)}function YLe(t,e){return zt(1+c2.count(Ha(t),t),e,3)}function Ore(t,e){return zt(t.getUTCMilliseconds(),e,3)}function XLe(t,e){return Ore(t,e)+"000"}function ZLe(t,e){return zt(t.getUTCMonth()+1,e,2)}function JLe(t,e){return zt(t.getUTCMinutes(),e,2)}function e7e(t,e){return zt(t.getUTCSeconds(),e,2)}function t7e(t){var e=t.getUTCDay();return e===0?7:e}function n7e(t,e){return zt(d2.count(Ha(t)-1,t),e,2)}function $re(t){var e=t.getUTCDay();return e>=4||e===0?Xf(t):Xf.ceil(t)}function r7e(t,e){return t=$re(t),zt(Xf.count(Ha(t),t)+(Ha(t).getUTCDay()===4),e,2)}function i7e(t){return t.getUTCDay()}function s7e(t,e){return zt(hb.count(Ha(t)-1,t),e,2)}function o7e(t,e){return zt(t.getUTCFullYear()%100,e,2)}function a7e(t,e){return t=$re(t),zt(t.getUTCFullYear()%100,e,2)}function l7e(t,e){return zt(t.getUTCFullYear()%1e4,e,4)}function c7e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Xf(t):Xf.ceil(t),zt(t.getUTCFullYear()%1e4,e,4)}function u7e(){return"+0000"}function $V(){return"%"}function _V(t){return+t}function MV(t){return Math.floor(+t/1e3)}var Bd,_re,Mre;d7e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function d7e(t){return Bd=dLe(t),_re=Bd.format,Bd.parse,Mre=Bd.utcFormat,Bd.utcParse,Bd}function f7e(t){return new Date(t)}function h7e(t){return t instanceof Date?+t:+new Date(+t)}function BM(t,e,n,r,i,s,o,a,l,c){var d=TM(),h=d.invert,m=d.domain,g=c(".%L"),y=c(":%S"),b=c("%I:%M"),x=c("%I %p"),S=c("%a %d"),N=c("%b %d"),T=c("%B"),j=c("%Y");function P(E){return(l(E)<E?g:a(E)<E?y:o(E)<E?b:s(E)<E?x:r(E)<E?i(E)<E?S:N:n(E)<E?T:j)(E)}return d.invert=function(E){return new Date(h(E))},d.domain=function(E){return arguments.length?m(Array.from(E,h7e)):m().map(f7e)},d.ticks=function(E){var O=m();return t(O[0],O[O.length-1],E??10)},d.tickFormat=function(E,O){return O==null?P:c(O)},d.nice=function(E){var O=m();return(!E||typeof E.range!="function")&&(E=e(O[0],O[O.length-1],E??10)),E?m(bre(O,E)):d},d.copy=function(){return Gy(d,BM(t,e,n,r,i,s,o,a,l,c))},d}function p7e(){return Ms.apply(BM(cLe,uLe,qa,LM,u2,Qy,RM,MM,lu,_re).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function m7e(){return Ms.apply(BM(aLe,lLe,Ha,FM,d2,c2,DM,IM,lu,Mre).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function f2(){var t=0,e=1,n,r,i,s,o=xi,a=!1,l;function c(h){return h==null||isNaN(h=+h)?l:o(i===0?.5:(h=(s(h)-n)*i,a?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(h){return arguments.length?(a=!!h,c):a},c.interpolator=function(h){return arguments.length?(o=h,c):o};function d(h){return function(m){var g,y;return arguments.length?([g,y]=m,o=h(g,y),c):[o(0),o(1)]}}return c.range=d(Fh),c.rangeRound=d(PM),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return s=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),c}}function jc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ire(){var t=Ac(f2()(xi));return t.copy=function(){return jc(t,Ire())},Za.apply(t,arguments)}function Rre(){var t=EM(f2()).domain([1,10]);return t.copy=function(){return jc(t,Rre()).base(t.base())},Za.apply(t,arguments)}function Dre(){var t=kM(f2());return t.copy=function(){return jc(t,Dre()).constant(t.constant())},Za.apply(t,arguments)}function VM(){var t=OM(f2());return t.copy=function(){return jc(t,VM()).exponent(t.exponent())},Za.apply(t,arguments)}function g7e(){return VM.apply(null,arguments).exponent(.5)}function Lre(){var t=[],e=xi;function n(r){if(r!=null&&!isNaN(r=+r))return e((Wy(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Jl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>n9e(t,s/r))},n.copy=function(){return Lre(e).domain(t)},Za.apply(n,arguments)}function h2(){var t=0,e=.5,n=1,r=1,i,s,o,a,l,c=xi,d,h=!1,m;function g(b){return isNaN(b=+b)?m:(b=.5+((b=+d(b))-s)*(r*b<r*s?a:l),c(h?Math.max(0,Math.min(1,b)):b))}g.domain=function(b){return arguments.length?([t,e,n]=b,i=d(t=+t),s=d(e=+e),o=d(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,g):[t,e,n]},g.clamp=function(b){return arguments.length?(h=!!b,g):h},g.interpolator=function(b){return arguments.length?(c=b,g):c};function y(b){return function(x){var S,N,T;return arguments.length?([S,N,T]=x,c=j9e(b,[S,N,T]),g):[c(0),c(.5),c(1)]}}return g.range=y(Fh),g.rangeRound=y(PM),g.unknown=function(b){return arguments.length?(m=b,g):m},function(b){return d=b,i=b(t),s=b(e),o=b(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,g}}function Fre(){var t=Ac(h2()(xi));return t.copy=function(){return jc(t,Fre())},Za.apply(t,arguments)}function Bre(){var t=EM(h2()).domain([.1,1,10]);return t.copy=function(){return jc(t,Bre()).base(t.base())},Za.apply(t,arguments)}function Vre(){var t=kM(h2());return t.copy=function(){return jc(t,Vre()).constant(t.constant())},Za.apply(t,arguments)}function zM(){var t=OM(h2());return t.copy=function(){return jc(t,zM()).exponent(t.exponent())},Za.apply(t,arguments)}function y7e(){return zM.apply(null,arguments).exponent(.5)}const IV=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lg,scaleDiverging:Fre,scaleDivergingLog:Bre,scaleDivergingPow:zM,scaleDivergingSqrt:y7e,scaleDivergingSymlog:Vre,scaleIdentity:xre,scaleImplicit:u3,scaleLinear:ub,scaleLog:wre,scaleOrdinal:SM,scalePoint:Cm,scalePow:$M,scaleQuantile:Nre,scaleQuantize:Pre,scaleRadial:Cre,scaleSequential:Ire,scaleSequentialLog:Rre,scaleSequentialPow:VM,scaleSequentialQuantile:Lre,scaleSequentialSqrt:g7e,scaleSequentialSymlog:Dre,scaleSqrt:X9e,scaleSymlog:Sre,scaleThreshold:Tre,scaleTime:p7e,scaleUtc:m7e,tickFormat:vre},Symbol.toStringTag,{value:"Module"}));var sj,RV;function zre(){if(RV)return sj;RV=1;var t=Ih();function e(n,r,i){for(var s=-1,o=n.length;++s<o;){var a=n[s],l=r(a);if(l!=null&&(c===void 0?l===l&&!t(l):i(l,c)))var c=l,d=a}return d}return sj=e,sj}var oj,DV;function v7e(){if(DV)return oj;DV=1;function t(e,n){return e>n}return oj=t,oj}var aj,LV;function x7e(){if(LV)return aj;LV=1;var t=zre(),e=v7e(),n=Dh();function r(i){return i&&i.length?t(i,n,e):void 0}return aj=r,aj}var b7e=x7e();const p2=Zt(b7e);var lj,FV;function w7e(){if(FV)return lj;FV=1;function t(e,n){return e<n}return lj=t,lj}var cj,BV;function S7e(){if(BV)return cj;BV=1;var t=zre(),e=w7e(),n=Dh();function r(i){return i&&i.length?t(i,n,e):void 0}return cj=r,cj}var C7e=S7e();const m2=Zt(C7e);var uj,VV;function N7e(){if(VV)return uj;VV=1;var t=rM(),e=Tc(),n=Xne(),r=Bi();function i(s,o){var a=r(s)?t:n;return a(s,e(o,3))}return uj=i,uj}var dj,zV;function P7e(){if(zV)return dj;zV=1;var t=Qne(),e=N7e();function n(r,i){return t(e(r,i),1)}return dj=n,dj}var T7e=P7e();const A7e=Zt(T7e);var fj,UV;function j7e(){if(UV)return fj;UV=1;var t=gM();function e(n,r){return t(n,r)}return fj=e,fj}var E7e=j7e();const g2=Zt(E7e);var Bh=1e9,k7e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qM,Nn=!0,_s="[DecimalError] ",wu=_s+"Invalid argument: ",UM=_s+"Exponent out of range: ",Vh=Math.floor,Xc=Math.pow,O7e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ji,wr=1e7,vn=7,Ure=9007199254740991,pb=Vh(Ure/vn),qe={};qe.absoluteValue=qe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};qe.comparedTo=qe.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};qe.decimalPlaces=qe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*vn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};qe.dividedBy=qe.div=function(t){return _a(this,new this.constructor(t))};qe.dividedToIntegerBy=qe.idiv=function(t){var e=this,n=e.constructor;return on(_a(e,new n(t),0,1),n.precision)};qe.equals=qe.eq=function(t){return!this.cmp(t)};qe.exponent=function(){return er(this)};qe.greaterThan=qe.gt=function(t){return this.cmp(t)>0};qe.greaterThanOrEqualTo=qe.gte=function(t){return this.cmp(t)>=0};qe.isInteger=qe.isint=function(){return this.e>this.d.length-2};qe.isNegative=qe.isneg=function(){return this.s<0};qe.isPositive=qe.ispos=function(){return this.s>0};qe.isZero=function(){return this.s===0};qe.lessThan=qe.lt=function(t){return this.cmp(t)<0};qe.lessThanOrEqualTo=qe.lte=function(t){return this.cmp(t)<1};qe.logarithm=qe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ji))throw Error(_s+"NaN");if(n.s<1)throw Error(_s+(n.s?"NaN":"-Infinity"));return n.eq(Ji)?new r(0):(Nn=!1,e=_a(Ug(n,s),Ug(t,s),s),Nn=!0,on(e,i))};qe.minus=qe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Wre(e,t):qre(e,(t.s=-t.s,t))};qe.modulo=qe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(_s+"NaN");return n.s?(Nn=!1,e=_a(n,t,0,1).times(t),Nn=!0,n.minus(e)):on(new r(n),i)};qe.naturalExponential=qe.exp=function(){return Hre(this)};qe.naturalLogarithm=qe.ln=function(){return Ug(this)};qe.negated=qe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};qe.plus=qe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qre(e,t):Wre(e,(t.s=-t.s,t))};qe.precision=qe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wu+t);if(e=er(i)+1,r=i.d.length-1,n=r*vn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};qe.squareRoot=qe.sqrt=function(){var t,e,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(_s+"NaN")}for(t=er(a),Nn=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Mo(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Vh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus(_a(a,s,o+2)).times(.5),Mo(s.d).slice(0,o)===(e=Mo(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(on(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return Nn=!0,on(r,n)};qe.times=qe.mul=function(t){var e,n,r,i,s,o,a,l,c,d=this,h=d.constructor,m=d.d,g=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,n=d.e+t.e,l=m.length,c=g.length,l<c&&(s=m,m=g,g=s,o=l,l=c,c=o),s=[],o=l+c,r=o;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+g[r]*m[i-r-1]+e,s[i--]=a%wr|0,e=a/wr|0;s[i]=(s[i]+e)%wr|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Nn?on(t,h.precision):t};qe.toDecimalPlaces=qe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ko(t,0,Bh),e===void 0?e=r.rounding:Ko(e,0,8),on(n,t+er(n)+1,e))};qe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=qu(r,!0):(Ko(t,0,Bh),e===void 0?e=i.rounding:Ko(e,0,8),r=on(new i(r),t+1,e),n=qu(r,!0,t+1)),n};qe.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?qu(i):(Ko(t,0,Bh),e===void 0?e=s.rounding:Ko(e,0,8),r=on(new s(i),t+er(i)+1,e),n=qu(r.abs(),!1,t+er(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};qe.toInteger=qe.toint=function(){var t=this,e=t.constructor;return on(new e(t),er(t)+1,e.rounding)};qe.toNumber=function(){return+this};qe.toPower=qe.pow=function(t){var e,n,r,i,s,o,a=this,l=a.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Ji);if(a=new l(a),!a.s){if(t.s<1)throw Error(_s+"Infinity");return a}if(a.eq(Ji))return a;if(r=l.precision,t.eq(Ji))return on(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=d<0?-d:d)<=Ure){for(i=new l(Ji),e=Math.ceil(r/vn+4),Nn=!1;n%2&&(i=i.times(a),HV(i.d,e)),n=Vh(n/2),n!==0;)a=a.times(a),HV(a.d,e);return Nn=!0,t.s<0?new l(Ji).div(i):on(i,r)}}else if(s<0)throw Error(_s+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,Nn=!1,i=t.times(Ug(a,r+c)),Nn=!0,i=Hre(i),i.s=s,i};qe.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=er(i),r=qu(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ko(t,1,Bh),e===void 0?e=s.rounding:Ko(e,0,8),i=on(new s(i),t,e),n=er(i),r=qu(i,t<=n||n<=s.toExpNeg,t)),r};qe.toSignificantDigits=qe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ko(t,1,Bh),e===void 0?e=r.rounding:Ko(e,0,8)),on(new r(n),t,e)};qe.toString=qe.valueOf=qe.val=qe.toJSON=qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=er(t),n=t.constructor;return qu(t,e<=n.toExpNeg||e>=n.toExpPos)};function qre(t,e){var n,r,i,s,o,a,l,c,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Nn?on(e,h):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=c.length):(r=c,i=o,a=l.length),o=Math.ceil(h/vn),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=c.length,a-s<0&&(s=a,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/wr|0,l[s]%=wr;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,Nn?on(e,h):e}function Ko(t,e,n){if(t!==~~t||t<e||t>n)throw Error(wu+t)}function Mo(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=vn-r.length,n&&(s+=Dl(n)),s+=r;o=t[e],r=o+"",n=vn-r.length,n&&(s+=Dl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var _a=(function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%wr|0,o=s/wr|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*wr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,c,d,h,m,g,y,b,x,S,N,T,j,P,E,O,_,$=r.constructor,B=r.s==i.s?1:-1,I=r.d,V=i.d;if(!r.s)return new $(r);if(!i.s)throw Error(_s+"Division by zero");for(l=r.e-i.e,O=V.length,P=I.length,g=new $(B),y=g.d=[],c=0;V[c]==(I[c]||0);)++c;if(V[c]>(I[c]||0)&&--l,s==null?N=s=$.precision:o?N=s+(er(r)-er(i))+1:N=s,N<0)return new $(0);if(N=N/vn+2|0,c=0,O==1)for(d=0,V=V[0],N++;(c<P||d)&&N--;c++)T=d*wr+(I[c]||0),y[c]=T/V|0,d=T%V|0;else{for(d=wr/(V[0]+1)|0,d>1&&(V=t(V,d),I=t(I,d),O=V.length,P=I.length),j=O,b=I.slice(0,O),x=b.length;x<O;)b[x++]=0;_=V.slice(),_.unshift(0),E=V[0],V[1]>=wr/2&&++E;do d=0,a=e(V,b,O,x),a<0?(S=b[0],O!=x&&(S=S*wr+(b[1]||0)),d=S/E|0,d>1?(d>=wr&&(d=wr-1),h=t(V,d),m=h.length,x=b.length,a=e(h,b,m,x),a==1&&(d--,n(h,O<m?_:V,m))):(d==0&&(a=d=1),h=V.slice()),m=h.length,m<x&&h.unshift(0),n(b,h,x),a==-1&&(x=b.length,a=e(V,b,O,x),a<1&&(d++,n(b,O<x?_:V,x))),x=b.length):a===0&&(d++,b=[0]),y[c++]=d,a&&b[0]?b[x++]=I[j]||0:(b=[I[j]],x=1);while((j++<P||b[0]!==void 0)&&N--)}return y[0]||y.shift(),g.e=l,on(g,o?s+er(g)+1:s)}})();function Hre(t,e){var n,r,i,s,o,a,l=0,c=0,d=t.constructor,h=d.precision;if(er(t)>16)throw Error(UM+er(t));if(!t.s)return new d(Ji);for(Nn=!1,a=h,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(Xc(2,c))/Math.LN10*2+5|0,a+=r,n=i=s=new d(Ji),d.precision=a;;){if(i=on(i.times(t),a),n=n.times(++l),o=s.plus(_a(i,n,a)),Mo(o.d).slice(0,a)===Mo(s.d).slice(0,a)){for(;c--;)s=on(s.times(s),a);return d.precision=h,e==null?(Nn=!0,on(s,h)):s}s=o}}function er(t){for(var e=t.e*vn,n=t.d[0];n>=10;n/=10)e++;return e}function hj(t,e,n){if(e>t.LN10.sd())throw Nn=!0,n&&(t.precision=n),Error(_s+"LN10 precision limit exceeded");return on(new t(t.LN10),e)}function Dl(t){for(var e="";t--;)e+="0";return e}function Ug(t,e){var n,r,i,s,o,a,l,c,d,h=1,m=10,g=t,y=g.d,b=g.constructor,x=b.precision;if(g.s<1)throw Error(_s+(g.s?"NaN":"-Infinity"));if(g.eq(Ji))return new b(0);if(e==null?(Nn=!1,c=x):c=e,g.eq(10))return e==null&&(Nn=!0),hj(b,c);if(c+=m,b.precision=c,n=Mo(y),r=n.charAt(0),s=er(g),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=Mo(g.d),r=n.charAt(0),h++;s=er(g),r>1?(g=new b("0."+n),s++):g=new b(r+"."+n.slice(1))}else return l=hj(b,c+2,x).times(s+""),g=Ug(new b(r+"."+n.slice(1)),c-m).plus(l),b.precision=x,e==null?(Nn=!0,on(g,x)):g;for(a=o=g=_a(g.minus(Ji),g.plus(Ji),c),d=on(g.times(g),c),i=3;;){if(o=on(o.times(d),c),l=a.plus(_a(o,new b(i),c)),Mo(l.d).slice(0,c)===Mo(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(hj(b,c+2,x).times(s+""))),a=_a(a,new b(h),c),b.precision=x,e==null?(Nn=!0,on(a,x)):a;a=l,i+=2}}function qV(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Vh(n/vn),t.d=[],r=(n+1)%vn,n<0&&(r+=vn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=vn;r<i;)t.d.push(+e.slice(r,r+=vn));e=e.slice(r),r=vn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Nn&&(t.e>pb||t.e<-pb))throw Error(UM+n)}else t.s=0,t.e=0,t.d=[0];return t}function on(t,e,n){var r,i,s,o,a,l,c,d,h=t.d;for(o=1,s=h[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=vn,i=e,c=h[d=0];else{if(d=Math.ceil((r+1)/vn),s=h.length,d>=s)return t;for(c=s=h[d],o=1;s>=10;s/=10)o++;r%=vn,i=r-vn+o}if(n!==void 0&&(s=Xc(10,o-i-1),a=c/s%10|0,l=e<0||h[d+1]!==void 0||c%s,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/Xc(10,o-i):0:h[d-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(s=er(t),h.length=1,e=e-s-1,h[0]=Xc(10,(vn-e%vn)%vn),t.e=Vh(-e/vn)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=d,s=1,d--):(h.length=d+1,s=Xc(10,vn-r),h[d]=i>0?(c/Xc(10,o-i)%Xc(10,i)|0)*s:0),l)for(;;)if(d==0){(h[0]+=s)==wr&&(h[0]=1,++t.e);break}else{if(h[d]+=s,h[d]!=wr)break;h[d--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(Nn&&(t.e>pb||t.e<-pb))throw Error(UM+er(t));return t}function Wre(t,e){var n,r,i,s,o,a,l,c,d,h,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Nn?on(e,g):e;if(l=t.d,h=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(d=o<0,d?(n=l,o=-o,a=h.length):(n=h,r=c,a=l.length),i=Math.max(Math.ceil(g/vn),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=h.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}o=0}for(d&&(n=l,l=h,h=n,e.s=-e.s),a=l.length,i=h.length-a;i>0;--i)l[a++]=0;for(i=h.length;i>o;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=wr-1;--l[s],l[i]+=wr}l[i]-=h[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Nn?on(e,g):e):new m(0)}function qu(t,e,n){var r,i=er(t),s=Mo(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Dl(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Dl(-i-1)+s,n&&(r=n-o)>0&&(s+=Dl(r))):i>=o?(s+=Dl(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Dl(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Dl(r))),t.s<0?"-"+s:s}function HV(t,e){if(t.length>e)return t.length=e,!0}function Kre(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(wu+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return qV(o,s.toString())}else if(typeof s!="string")throw Error(wu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,O7e.test(s))qV(o,s);else throw Error(wu+s)}if(i.prototype=qe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Kre,i.config=i.set=$7e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function $7e(t){if(!t||typeof t!="object")throw Error(_s+"Object expected");var e,n,r,i=["precision",1,Bh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Vh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(wu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wu+n+": "+r);return this}var qM=Kre(k7e);Ji=new qM(1);const tn=qM;function _7e(t){return D7e(t)||R7e(t)||I7e(t)||M7e()}function M7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I7e(t,e){if(t){if(typeof t=="string")return p3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p3(t,e)}}function R7e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function D7e(t){if(Array.isArray(t))return p3(t)}function p3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var L7e=function(e){return e},Gre={},Qre=function(e){return e===Gre},WV=function(e){return function n(){return arguments.length===0||arguments.length===1&&Qre(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},F7e=function t(e,n){return e===1?n:WV(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==Gre}).length;return o>=e?n.apply(void 0,i):t(e-o,WV(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var d=i.map(function(h){return Qre(h)?l.shift():h});return n.apply(void 0,_7e(d).concat(l))}))})},y2=function(e){return F7e(e.length,e)},m3=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},B7e=y2(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),V7e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return L7e;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},g3=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Yre=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(a,l){return a===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function z7e(t){var e;return t===0?e=1:e=Math.floor(new tn(t).abs().log(10).toNumber())+1,e}function U7e(t,e,n){for(var r=new tn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var q7e=y2(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),H7e=y2(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),W7e=y2(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const v2={rangeStep:U7e,getDigitCount:z7e,interpolateNumber:q7e,uninterpolateNumber:H7e,uninterpolateTruncation:W7e};function y3(t){return Q7e(t)||G7e(t)||Xre(t)||K7e()}function K7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G7e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Q7e(t){if(Array.isArray(t))return v3(t)}function qg(t,e){return Z7e(t)||X7e(t,e)||Xre(t,e)||Y7e()}function Y7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xre(t,e){if(t){if(typeof t=="string")return v3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v3(t,e)}}function v3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X7e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function Z7e(t){if(Array.isArray(t))return t}function Zre(t){var e=qg(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function Jre(t,e,n){if(t.lte(0))return new tn(0);var r=v2.getDigitCount(t.toNumber()),i=new tn(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new tn(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return e?l:new tn(Math.ceil(l))}function J7e(t,e,n){var r=1,i=new tn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new tn(10).pow(v2.getDigitCount(t)-1),i=new tn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new tn(Math.floor(t)))}else t===0?i=new tn(Math.floor((e-1)/2)):n||(i=new tn(Math.floor(t)));var o=Math.floor((e-1)/2),a=V7e(B7e(function(l){return i.add(new tn(l-o).mul(r)).toNumber()}),m3);return a(0,e)}function eie(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new tn(0),tickMin:new tn(0),tickMax:new tn(0)};var s=Jre(new tn(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new tn(0):(o=new tn(t).add(e).div(2),o=o.sub(new tn(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),l=Math.ceil(new tn(e).sub(o).div(s).toNumber()),c=a+l+1;return c>n?eie(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:s,tickMin:o.sub(new tn(a).mul(s)),tickMax:o.add(new tn(l).mul(s))})}function eFe(t){var e=qg(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=Zre([n,r]),l=qg(a,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var h=d===1/0?[c].concat(y3(m3(0,i-1).map(function(){return 1/0}))):[].concat(y3(m3(0,i-1).map(function(){return-1/0})),[d]);return n>r?g3(h):h}if(c===d)return J7e(c,i,s);var m=eie(c,d,o,s),g=m.step,y=m.tickMin,b=m.tickMax,x=v2.rangeStep(y,b.add(new tn(.1).mul(g)),g);return n>r?g3(x):x}function tFe(t,e){var n=qg(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Zre([r,i]),a=qg(o,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),h=Jre(new tn(c).sub(l).div(d-1),s,0),m=[].concat(y3(v2.rangeStep(new tn(l),new tn(c).sub(new tn(.99).mul(h)),h)),[c]);return r>i?g3(m):m}var nFe=Yre(eFe),rFe=Yre(tFe),iFe="Invariant failed";function Hu(t,e){throw new Error(iFe)}var sFe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mb.apply(this,arguments)}function oFe(t,e){return uFe(t)||cFe(t,e)||lFe(t,e)||aFe()}function aFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lFe(t,e){if(t){if(typeof t=="string")return KV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KV(t,e)}}function KV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function uFe(t){if(Array.isArray(t))return t}function dFe(t,e){if(t==null)return{};var n=fFe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fFe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pFe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rie(r.key),r)}}function mFe(t,e,n){return e&&pFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gFe(t,e,n){return e=gb(e),yFe(t,tie()?Reflect.construct(e,n||[],gb(t).constructor):e.apply(t,n))}function yFe(t,e){if(e&&(Zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vFe(t)}function vFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tie=function(){return!!t})()}function gb(t){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gb(t)}function xFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x3(t,e)}function x3(t,e){return x3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x3(t,e)}function nie(t,e,n){return e=rie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rie(t){var e=bFe(t,"string");return Zf(e)=="symbol"?e:e+""}function bFe(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yy=(function(t){function e(){return hFe(this,e),gFe(this,e,arguments)}return xFe(e,t),mFe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,h=r.yAxis,m=dFe(r,sFe),g=Mt(m,!1);this.props.direction==="x"&&d.type!=="number"&&Hu();var y=l.map(function(b){var x=c(b,a),S=x.x,N=x.y,T=x.value,j=x.errorVal;if(!j)return null;var P=[],E,O;if(Array.isArray(j)){var _=oFe(j,2);E=_[0],O=_[1]}else E=O=j;if(s==="vertical"){var $=d.scale,B=N+i,I=B+o,V=B-o,U=$(T-E),L=$(T+O);P.push({x1:L,y1:I,x2:L,y2:V}),P.push({x1:U,y1:B,x2:L,y2:B}),P.push({x1:U,y1:I,x2:U,y2:V})}else if(s==="horizontal"){var z=h.scale,F=S+i,q=F-o,M=F+o,D=z(T-E),Q=z(T+O);P.push({x1:q,y1:Q,x2:M,y2:Q}),P.push({x1:F,y1:D,x2:F,y2:Q}),P.push({x1:q,y1:D,x2:M,y2:D})}return H.createElement(qn,mb({className:"recharts-errorBar",key:"bar-".concat(P.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},g),P.map(function(W){return H.createElement("line",mb({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return H.createElement(qn,{className:"recharts-errorBars"},y)}}])})(H.Component);nie(Yy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});nie(Yy,"displayName","ErrorBar");function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function GV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GV(Object(n),!0).forEach(function(r){wFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wFe(t,e,n){return e=SFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SFe(t){var e=CFe(t,"string");return Hg(e)=="symbol"?e:e+""}function CFe(t,e){if(Hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iie=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Gi(n,bf);if(!o)return null;var a=bf.defaultProps,l=a!==void 0?Wc(Wc({},a),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:s==="children"?c=(r||[]).reduce(function(d,h){var m=h.item,g=h.props,y=g.sectors||g.data||[];return d.concat(y.map(function(b){return{type:o.props.iconType||m.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):c=(r||[]).map(function(d){var h=d.item,m=h.type.defaultProps,g=m!==void 0?Wc(Wc({},m),h.props):{},y=g.dataKey,b=g.name,x=g.legendType,S=g.hide;return{inactive:S,dataKey:y,type:l.iconType||x||"square",color:HM(h),value:b||y,payload:g}}),Wc(Wc(Wc({},l),bf.getWithHeight(o,i)),{},{payload:c,item:o})};function Wg(t){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}function QV(t){return AFe(t)||TFe(t)||PFe(t)||NFe()}function NFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PFe(t,e){if(t){if(typeof t=="string")return b3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b3(t,e)}}function TFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AFe(t){if(Array.isArray(t))return b3(t)}function b3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YV(Object(n),!0).forEach(function(r){Sf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sf(t,e,n){return e=jFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jFe(t){var e=EFe(t,"string");return Wg(e)=="symbol"?e:e+""}function EFe(t,e){if(Wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ls(t,e,n){return kt(t)||kt(e)?n:dr(e)?Os(t,e,n):Pt(e)?e(t):n}function Nm(t,e,n,r){var i=A7e(t,function(a){return ls(a,e)});if(n==="number"){var s=i.filter(function(a){return _e(a)||parseFloat(a)});return s.length?[m2(s),p2(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!kt(a)}):i;return o.map(function(a){return dr(a)||a instanceof Date?a:""})}var kFe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(n=r?.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<a;c++){var d=c>0?i[c-1].coordinate:i[a-1].coordinate,h=i[c].coordinate,m=c>=a-1?i[0].coordinate:i[c+1].coordinate,g=void 0;if(lo(h-d)!==lo(m-h)){var y=[];if(lo(m-h)===lo(l[1]-l[0])){g=m;var b=h+l[1]-l[0];y[0]=Math.min(b,(b+d)/2),y[1]=Math.max(b,(b+d)/2)}else{g=d;var x=m+l[1]-l[0];y[0]=Math.min(h,(x+h)/2),y[1]=Math.max(h,(x+h)/2)}var S=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){o=i[c].index;break}}else{var N=Math.min(d,m),T=Math.max(d,m);if(e>(N+h)/2&&e<=(T+h)/2){o=i[c].index;break}}}else for(var j=0;j<a;j++)if(j===0&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j>0&&j<a-1&&e>(r[j].coordinate+r[j-1].coordinate)/2&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j===a-1&&e>(r[j].coordinate+r[j-1].coordinate)/2){o=r[j].index;break}return o},HM=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Dn(Dn({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:a;break;default:l=a;break}return l},OFe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),l=0,c=a.length;l<c;l++)for(var d=s[a[l]].stackGroups,h=Object.keys(d),m=0,g=h.length;m<g;m++){var y=d[h[m]],b=y.items,x=y.cateAxisId,S=b.filter(function(O){return Oa(O.type).indexOf("Bar")>=0});if(S&&S.length){var N=S[0].type.defaultProps,T=N!==void 0?Dn(Dn({},N),S[0].props):S[0].props,j=T.barSize,P=T[x];o[P]||(o[P]=[]);var E=kt(j)?n:j;o[P].push({item:S[0],stackList:S.slice(1),barSize:kt(E)?void 0:Uu(E,r,0)})}}return o},$Fe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var c=Uu(n,i,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,g=i/l,y=o.reduce(function(j,P){return j+P.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&g>0&&(m=!0,g*=.9,y=l*g);var b=(i-y)/2>>0,x={offset:b-c,size:0};d=o.reduce(function(j,P){var E={item:P.item,position:{offset:x.offset+x.size+c,size:m?g:P.barSize}},O=[].concat(QV(j),[E]);return x=O[O.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(_){O.push({item:_,position:x})}),O},h)}else{var S=Uu(r,i,0,!0);i-2*S-(l-1)*c<=0&&(c=0);var N=(i-2*S-(l-1)*c)/l;N>1&&(N>>=0);var T=a===+a?Math.min(N,a):N;d=o.reduce(function(j,P,E){var O=[].concat(QV(j),[{item:P.item,position:{offset:S+(N+c)*E+(N-T)/2,size:T}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(_){O.push({item:_,position:O[O.length-1].position})}),O},h)}return d},_Fe=function(e,n,r,i){var s=r.children,o=r.width,a=r.margin,l=o-(a.left||0)-(a.right||0),c=iie({children:s,legendWidth:l});if(c){var d=i||{},h=d.width,m=d.height,g=c.align,y=c.verticalAlign,b=c.layout;if((b==="vertical"||b==="horizontal"&&y==="middle")&&g!=="center"&&_e(e[g]))return Dn(Dn({},e),{},Sf({},g,e[g]+(h||0)));if((b==="horizontal"||b==="vertical"&&g==="center")&&y!=="middle"&&_e(e[y]))return Dn(Dn({},e),{},Sf({},y,e[y]+(m||0)))}return e},MFe=function(e,n,r){return kt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},sie=function(e,n,r,i,s){var o=n.props.children,a=$s(o,Yy).filter(function(c){return MFe(i,s,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var h=ls(d,r);if(kt(h))return c;var m=Array.isArray(h)?[m2(h),p2(h)]:[h,h],g=l.reduce(function(y,b){var x=ls(d,b,0),S=m[0]-Math.abs(Array.isArray(x)?x[0]:x),N=m[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(S,y[0]),Math.max(N,y[1])]},[1/0,-1/0]);return[Math.min(g[0],c[0]),Math.max(g[1],c[1])]},[1/0,-1/0])}return null},IFe=function(e,n,r,i,s){var o=n.map(function(a){return sie(e,a,r,s,i)}).filter(function(a){return!kt(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},oie=function(e,n,r,i,s){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&sie(e,l,c,i)||Nm(e,c,r,s)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,c){for(var d=0,h=c.length;d<h;d++)a[c[d]]||(a[c[d]]=!0,l.push(c[d]));return l},[])},aie=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},lie=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,o,a=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(o=!0),l.coordinate});return s||a.push(n),o||a.push(r),a},Na=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&a?.length>=2?lo(a[0]-a[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var m=s?s.indexOf(h):h;return{coordinate:i(m)+c,value:h,offset:c}});return d.filter(function(h){return!Uy(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,m){return{coordinate:i(h)+c,value:h,index:m,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+c,value:h,offset:c}}):i.domain().map(function(h,m){return{coordinate:i(h)+c,value:s?s[h]:h,index:m,offset:c}})},pj=new WeakMap,U0=function(e,n){if(typeof n!="function")return e;pj.has(e)||pj.set(e,new WeakMap);var r=pj.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},RFe=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:Lg(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:ub(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Cm(),realScaleType:"point"}:s==="category"?{scale:Lg(),realScaleType:"band"}:{scale:ub(),realScaleType:"linear"};if(zu(i)){var l="scale".concat(t2(i));return{scale:(IV[l]||Cm)(),realScaleType:IV[l]?l:"point"}}return Pt(i)?{scale:i}:{scale:Cm(),realScaleType:"point"}},XV=1e-4,DFe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-XV,o=Math.max(i[0],i[1])+XV,a=e(n[0]),l=e(n[r-1]);(a<s||a>o||l<s||l>o)&&e.domain([n[0],n[r-1]])}},LFe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},FFe=function(e,n){if(!n||n.length!==2||!_e(n[0])||!_e(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!_e(e[0])||e[0]<r)&&(s[0]=r),(!_e(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},BFe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<n;++a){var l=Uy(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1])}},VFe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var a=Uy(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},zFe={sign:BFe,expand:P5e,none:qf,silhouette:T5e,wiggle:A5e,positive:VFe},UFe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),s=zFe[r],o=N5e().keys(i).value(function(a,l){return+ls(a,l,0)}).order(Yk).offset(s);return o(e)},qFe=function(e,n,r,i,s,o){if(!e)return null;var a=o?n.reverse():n,l={},c=a.reduce(function(h,m){var g,y=(g=m.type)!==null&&g!==void 0&&g.defaultProps?Dn(Dn({},m.type.defaultProps),m.props):m.props,b=y.stackId,x=y.hide;if(x)return h;var S=y[r],N=h[S]||{hasStack:!1,stackGroups:{}};if(dr(b)){var T=N.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};T.items.push(m),N.hasStack=!0,N.stackGroups[b]=T}else N.stackGroups[qy("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[m]};return Dn(Dn({},h),{},Sf({},S,N))},l),d={};return Object.keys(c).reduce(function(h,m){var g=c[m];if(g.hasStack){var y={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(b,x){var S=g.stackGroups[x];return Dn(Dn({},b),{},Sf({},x,{numericAxisId:r,cateAxisId:i,items:S.items,stackedData:UFe(e,S.items,s)}))},y)}return Dn(Dn({},h),{},Sf({},m,g))},d)},HFe=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=nFe(c,s,a);return e.domain([m2(d),p2(d)]),{niceTicks:d}}if(s&&i==="number"){var h=e.domain(),m=rFe(h,s,a);return{niceTicks:m}}return null};function ZV(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!kt(i[e.dataKey])){var a=q1(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=ls(i,kt(o)?e.dataKey:o);return kt(l)?null:e.scale(l)}var JV=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=ls(o,n.dataKey,n.domain[a]);return kt(l)?null:n.scale(l)-s/2+i},WFe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},KFe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Dn(Dn({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(dr(s)){var o=n[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},GFe=function(e){return e.reduce(function(n,r){return[m2(r.concat([n[0]]).filter(_e)),p2(r.concat([n[1]]).filter(_e))]},[1/0,-1/0])},cie=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,l=a.reduce(function(c,d){var h=GFe(d.slice(n,r+1));return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},ez=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tz=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w3=function(e,n,r){if(Pt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(_e(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(ez.test(e[0])){var s=+ez.exec(e[0])[1];i[0]=n[0]-s}else Pt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(_e(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(tz.test(e[1])){var o=+tz.exec(e[1])[1];i[1]=n[1]+o}else Pt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},yb=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=vM(n,function(h){return h.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var c=s[a],d=s[a-1];o=Math.min((c.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},nz=function(e,n,r){return!e||!e.length||g2(e,Os(r,"type.defaultProps.domain"))?n:e},uie=function(e,n){var r=e.type.defaultProps?Dn(Dn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return Dn(Dn({},Mt(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:HM(e),value:ls(n,i),type:l,payload:n,chartType:c,hide:d})};function Kg(t){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kg(t)}function rz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rz(Object(n),!0).forEach(function(r){QFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QFe(t,e,n){return e=YFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YFe(t){var e=XFe(t,"string");return Kg(e)=="symbol"?e:e+""}function XFe(t,e){if(Kg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vb=Math.PI/180,ZFe=function(e){return e*180/Math.PI},Ur=function(e,n,r,i){return{x:e+Math.cos(-vb*i)*r,y:n+Math.sin(-vb*i)*r}},JFe=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},eBe=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,a=JFe({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var l=(r-s)/a,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:a,angle:ZFe(c),angleInRadian:c}},tBe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},nBe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},sz=function(e,n){var r=e.x,i=e.y,s=eBe({x:r,y:i},n),o=s.radius,a=s.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var d=tBe(n),h=d.startAngle,m=d.endAngle,g=a,y;if(h<=m){for(;g>m;)g-=360;for(;g<h;)g+=360;y=g>=h&&g<=m}else{for(;g>h;)g-=360;for(;g<m;)g+=360;y=g>=m&&g<=h}return y?iz(iz({},n),{},{radius:o,angle:nBe(g,n)}):null};function Gg(t){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}var rBe=["offset"];function iBe(t){return lBe(t)||aBe(t)||oBe(t)||sBe()}function sBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oBe(t,e){if(t){if(typeof t=="string")return S3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S3(t,e)}}function aBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lBe(t){if(Array.isArray(t))return S3(t)}function S3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cBe(t,e){if(t==null)return{};var n=uBe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oz(Object(n),!0).forEach(function(r){dBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dBe(t,e,n){return e=fBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fBe(t){var e=hBe(t,"string");return Gg(e)=="symbol"?e:e+""}function hBe(t,e){if(Gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qg(){return Qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qg.apply(this,arguments)}var pBe=function(e){var n=e.value,r=e.formatter,i=kt(e.children)?n:e.children;return Pt(r)?r(i):i},mBe=function(e,n){var r=lo(n-e),i=Math.min(Math.abs(n-e),360);return r*i},gBe=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,c=l.cx,d=l.cy,h=l.innerRadius,m=l.outerRadius,g=l.startAngle,y=l.endAngle,b=l.clockWise,x=(h+m)/2,S=mBe(g,y),N=S>=0?1:-1,T,j;i==="insideStart"?(T=g+N*o,j=b):i==="insideEnd"?(T=y-N*o,j=!b):i==="end"&&(T=y+N*o,j=b),j=S<=0?j:!j;var P=Ur(c,d,x,T),E=Ur(c,d,x,T+(j?1:-1)*359),O="M".concat(P.x,",").concat(P.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(j?0:1,`,
    `).concat(E.x,",").concat(E.y),_=kt(e.id)?qy("recharts-radial-line-"):e.id;return H.createElement("text",Qg({},r,{dominantBaseline:"central",className:It("recharts-radial-bar-label",a)}),H.createElement("defs",null,H.createElement("path",{id:_,d:O})),H.createElement("textPath",{xlinkHref:"#".concat(_)},n))},yBe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,a=s.cy,l=s.innerRadius,c=s.outerRadius,d=s.startAngle,h=s.endAngle,m=(d+h)/2;if(i==="outside"){var g=Ur(o,a,c+r,m),y=g.x,b=g.y;return{x:y,y:b,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,S=Ur(o,a,x,m),N=S.x,T=S.y;return{x:N,y:T,textAnchor:"middle",verticalAnchor:"middle"}},vBe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,a=o.x,l=o.y,c=o.width,d=o.height,h=d>=0?1:-1,m=h*i,g=h>0?"end":"start",y=h>0?"start":"end",b=c>=0?1:-1,x=b*i,S=b>0?"end":"start",N=b>0?"start":"end";if(s==="top"){var T={x:a+c/2,y:l-h*i,textAnchor:"middle",verticalAnchor:g};return ar(ar({},T),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var j={x:a+c/2,y:l+d+m,textAnchor:"middle",verticalAnchor:y};return ar(ar({},j),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(s==="left"){var P={x:a-x,y:l+d/2,textAnchor:S,verticalAnchor:"middle"};return ar(ar({},P),r?{width:Math.max(P.x-r.x,0),height:d}:{})}if(s==="right"){var E={x:a+c+x,y:l+d/2,textAnchor:N,verticalAnchor:"middle"};return ar(ar({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:d}:{})}var O=r?{width:c,height:d}:{};return s==="insideLeft"?ar({x:a+x,y:l+d/2,textAnchor:N,verticalAnchor:"middle"},O):s==="insideRight"?ar({x:a+c-x,y:l+d/2,textAnchor:S,verticalAnchor:"middle"},O):s==="insideTop"?ar({x:a+c/2,y:l+m,textAnchor:"middle",verticalAnchor:y},O):s==="insideBottom"?ar({x:a+c/2,y:l+d-m,textAnchor:"middle",verticalAnchor:g},O):s==="insideTopLeft"?ar({x:a+x,y:l+m,textAnchor:N,verticalAnchor:y},O):s==="insideTopRight"?ar({x:a+c-x,y:l+m,textAnchor:S,verticalAnchor:y},O):s==="insideBottomLeft"?ar({x:a+x,y:l+d-m,textAnchor:N,verticalAnchor:g},O):s==="insideBottomRight"?ar({x:a+c-x,y:l+d-m,textAnchor:S,verticalAnchor:g},O):Rh(s)&&(_e(s.x)||ou(s.x))&&(_e(s.y)||ou(s.y))?ar({x:a+Uu(s.x,c),y:l+Uu(s.y,d),textAnchor:"end",verticalAnchor:"end"},O):ar({x:a+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},xBe=function(e){return"cx"in e&&_e(e.cx)};function ii(t){var e=t.offset,n=e===void 0?5:e,r=cBe(t,rBe),i=ar({offset:n},r),s=i.viewBox,o=i.position,a=i.value,l=i.children,c=i.content,d=i.className,h=d===void 0?"":d,m=i.textBreakAll;if(!s||kt(a)&&kt(l)&&!C.isValidElement(c)&&!Pt(c))return null;if(C.isValidElement(c))return C.cloneElement(c,i);var g;if(Pt(c)){if(g=C.createElement(c,i),C.isValidElement(g))return g}else g=pBe(i);var y=xBe(s),b=Mt(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return gBe(i,g,b);var x=y?yBe(i):vBe(i);return H.createElement(rb,Qg({className:It("recharts-label",h)},b,x,{breakAll:m}),g)}ii.displayName="Label";var die=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,h=e.x,m=e.y,g=e.top,y=e.left,b=e.width,x=e.height,S=e.clockWise,N=e.labelViewBox;if(N)return N;if(_e(b)&&_e(x)){if(_e(h)&&_e(m))return{x:h,y:m,width:b,height:x};if(_e(g)&&_e(y))return{x:g,y,width:b,height:x}}return _e(h)&&_e(m)?{x:h,y:m,width:0,height:0}:_e(n)&&_e(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:d||l||a||0,clockWise:S}:e.viewBox?e.viewBox:{}},bBe=function(e,n){return e?e===!0?H.createElement(ii,{key:"label-implicit",viewBox:n}):dr(e)?H.createElement(ii,{key:"label-implicit",viewBox:n,value:e}):C.isValidElement(e)?e.type===ii?C.cloneElement(e,{key:"label-implicit",viewBox:n}):H.createElement(ii,{key:"label-implicit",content:e,viewBox:n}):Pt(e)?H.createElement(ii,{key:"label-implicit",content:e,viewBox:n}):Rh(e)?H.createElement(ii,Qg({viewBox:n},e,{key:"label-implicit"})):null:null},wBe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=die(e),o=$s(i,ii).map(function(l,c){return C.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return o;var a=bBe(e.label,n||s);return[a].concat(iBe(o))};ii.parseViewBox=die;ii.renderCallByParent=wBe;var mj,az;function SBe(){if(az)return mj;az=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return mj=t,mj}var CBe=SBe();const NBe=Zt(CBe);function Yg(t){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(t)}var PBe=["valueAccessor"],TBe=["data","dataKey","clockWise","id","textBreakAll"];function ABe(t){return OBe(t)||kBe(t)||EBe(t)||jBe()}function jBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EBe(t,e){if(t){if(typeof t=="string")return C3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C3(t,e)}}function kBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OBe(t){if(Array.isArray(t))return C3(t)}function C3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xb.apply(this,arguments)}function lz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lz(Object(n),!0).forEach(function(r){$Be(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Be(t,e,n){return e=_Be(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Be(t){var e=MBe(t,"string");return Yg(e)=="symbol"?e:e+""}function MBe(t,e){if(Yg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uz(t,e){if(t==null)return{};var n=IBe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var RBe=function(e){return Array.isArray(e.value)?NBe(e.value):e.value};function ec(t){var e=t.valueAccessor,n=e===void 0?RBe:e,r=uz(t,PBe),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,l=r.textBreakAll,c=uz(r,TBe);return!i||!i.length?null:H.createElement(qn,{className:"recharts-label-list"},i.map(function(d,h){var m=kt(s)?n(d,h):ls(d&&d.payload,s),g=kt(a)?{}:{id:"".concat(a,"-").concat(h)};return H.createElement(ii,xb({},Mt(d,!0),c,g,{parentViewBox:d.parentViewBox,value:m,textBreakAll:l,viewBox:ii.parseViewBox(kt(o)?d:cz(cz({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}ec.displayName="LabelList";function DBe(t,e){return t?t===!0?H.createElement(ec,{key:"labelList-implicit",data:e}):H.isValidElement(t)||Pt(t)?H.createElement(ec,{key:"labelList-implicit",data:e,content:t}):Rh(t)?H.createElement(ec,xb({data:e},t,{key:"labelList-implicit"})):null:null}function LBe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=$s(r,ec).map(function(o,a){return C.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var s=DBe(t.label,e);return[s].concat(ABe(i))}ec.renderCallByParent=LBe;function Xg(t){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(t)}function N3(){return N3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N3.apply(this,arguments)}function dz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dz(Object(n),!0).forEach(function(r){FBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FBe(t,e,n){return e=BBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BBe(t){var e=VBe(t,"string");return Xg(e)=="symbol"?e:e+""}function VBe(t,e){if(Xg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zBe=function(e,n){var r=lo(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},q0=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(a?1:-1)+i,h=Math.asin(l/d)/vb,m=c?s:s+o*h,g=Ur(n,r,d,m),y=Ur(n,r,i,m),b=c?s-o*h:s,x=Ur(n,r,d*Math.cos(h*vb),b);return{center:g,circleTangency:y,lineTangency:x,theta:h}},fie=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=zBe(o,a),c=o+l,d=Ur(n,r,s,o),h=Ur(n,r,s,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var g=Ur(n,r,i,o),y=Ur(n,r,i,c);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(n,",").concat(r," Z");return m},UBe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,h=lo(d-c),m=q0({cx:n,cy:r,radius:s,angle:c,sign:h,cornerRadius:o,cornerIsExternal:l}),g=m.circleTangency,y=m.lineTangency,b=m.theta,x=q0({cx:n,cy:r,radius:s,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:l}),S=x.circleTangency,N=x.lineTangency,T=x.theta,j=l?Math.abs(c-d):Math.abs(c-d)-b-T;if(j<0)return a?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):fie({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d});var P="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(j>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
  `);if(i>0){var E=q0({cx:n,cy:r,radius:i,angle:c,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=E.circleTangency,_=E.lineTangency,$=E.theta,B=q0({cx:n,cy:r,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),I=B.circleTangency,V=B.lineTangency,U=B.theta,L=l?Math.abs(c-d):Math.abs(c-d)-$-U;if(L<0&&o===0)return"".concat(P,"L").concat(n,",").concat(r,"Z");P+="L".concat(V.x,",").concat(V.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(h>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,"Z")}else P+="L".concat(n,",").concat(r,"Z");return P},qBe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hie=function(e){var n=fz(fz({},qBe),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,h=n.endAngle,m=n.className;if(o<s||d===h)return null;var g=It("recharts-sector",m),y=o-s,b=Uu(a,y,0,!0),x;return b>0&&Math.abs(d-h)<360?x=UBe({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(b,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:h}):x=fie({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:h}),H.createElement("path",N3({},Mt(n,!0),{className:g,d:x,role:"img"}))};function Zg(t){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function P3(){return P3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P3.apply(this,arguments)}function hz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hz(Object(n),!0).forEach(function(r){HBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HBe(t,e,n){return e=WBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WBe(t){var e=KBe(t,"string");return Zg(e)=="symbol"?e:e+""}function KBe(t,e){if(Zg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mz={curveBasisClosed:h5e,curveBasisOpen:p5e,curveBasis:f5e,curveBumpX:ZRe,curveBumpY:JRe,curveLinearClosed:m5e,curveLinear:r2,curveMonotoneX:g5e,curveMonotoneY:y5e,curveNatural:v5e,curveStep:x5e,curveStepAfter:w5e,curveStepBefore:b5e},H0=function(e){return e.x===+e.x&&e.y===+e.y},Up=function(e){return e.x},qp=function(e){return e.y},GBe=function(e,n){if(Pt(e))return e;var r="curve".concat(t2(e));return(r==="curveMonotone"||r==="curveBump")&&n?mz["".concat(r).concat(n==="vertical"?"Y":"X")]:mz[r]||r2},QBe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=GBe(r,a),h=c?s.filter(function(b){return H0(b)}):s,m;if(Array.isArray(o)){var g=c?o.filter(function(b){return H0(b)}):o,y=h.map(function(b,x){return pz(pz({},b),{},{base:g[x]})});return a==="vertical"?m=R0().y(qp).x1(Up).x0(function(b){return b.base.x}):m=R0().x(Up).y1(qp).y0(function(b){return b.base.y}),m.defined(H0).curve(d),m(y)}return a==="vertical"&&_e(o)?m=R0().y(qp).x1(Up).x0(o):_e(o)?m=R0().x(Up).y1(qp).y0(o):m=vne().x(Up).y(qp),m.defined(H0).curve(d),m(h)},T3=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?QBe(e):i;return C.createElement("path",P3({},Mt(e,!1),H1(e),{className:It("recharts-curve",n),d:o,ref:s}))};function YBe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function gz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):YBe(i)};requestAnimationFrame(r)}function A3(t){"@babel/helpers - typeof";return A3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A3(t)}function XBe(t){return tVe(t)||eVe(t)||JBe(t)||ZBe()}function ZBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JBe(t,e){if(t){if(typeof t=="string")return yz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yz(t,e)}}function yz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tVe(t){if(Array.isArray(t))return t}function nVe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,a=XBe(o),l=a[0],c=a.slice(1);if(typeof l=="number"){gz(i.bind(null,c),l);return}i(l),gz(i.bind(null,c));return}A3(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Jg(t){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jg(t)}function vz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vz(Object(n),!0).forEach(function(r){pie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pie(t,e,n){return e=rVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rVe(t){var e=iVe(t,"string");return Jg(e)==="symbol"?e:String(e)}function iVe(t,e){if(Jg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sVe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},oVe=function(e){return e},aVe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Pm=function(e,n){return Object.keys(n).reduce(function(r,i){return xz(xz({},r),{},pie({},i,e(i,n[i])))},{})},bz=function(e,n,r){return e.map(function(i){return"".concat(aVe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function lVe(t,e){return dVe(t)||uVe(t,e)||mie(t,e)||cVe()}function cVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uVe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function dVe(t){if(Array.isArray(t))return t}function fVe(t){return mVe(t)||pVe(t)||mie(t)||hVe()}function hVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mie(t,e){if(t){if(typeof t=="string")return j3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j3(t,e)}}function pVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mVe(t){if(Array.isArray(t))return j3(t)}function j3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bb=1e-4,gie=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},yie=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},wz=function(e,n){return function(r){var i=gie(e,n);return yie(i,r)}},gVe=function(e,n){return function(r){var i=gie(e,n),s=[].concat(fVe(i.map(function(o,a){return o*a}).slice(1)),[0]);return yie(s,r)}},Sz=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=lVe(c,4);i=d[0],s=d[1],o=d[2],a=d[3]}}}var h=wz(i,o),m=wz(s,a),g=gVe(i,o),y=function(S){return S>1?1:S<0?0:S},b=function(S){for(var N=S>1?1:S,T=N,j=0;j<8;++j){var P=h(T)-N,E=g(T);if(Math.abs(P-N)<bb||E<bb)return m(T);T=y(T-P/E)}return m(T)};return b.isStepper=!1,b},yVe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,l=function(d,h,m){var g=-(d-h)*r,y=m*s,b=m+(g-y)*a/1e3,x=m*a/1e3+d;return Math.abs(x-h)<bb&&Math.abs(b)<bb?[h,0]:[x,b]};return l.isStepper=!0,l.dt=a,l},vVe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Sz(i);case"spring":return yVe();default:if(i.split("(")[0]==="cubic-bezier")return Sz(i)}return typeof i=="function"?i:null};function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function Cz(t){return wVe(t)||bVe(t)||vie(t)||xVe()}function xVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wVe(t){if(Array.isArray(t))return k3(t)}function Nz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nz(Object(n),!0).forEach(function(r){E3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E3(t,e,n){return e=SVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SVe(t){var e=CVe(t,"string");return ey(e)==="symbol"?e:String(e)}function CVe(t,e){if(ey(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ey(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NVe(t,e){return AVe(t)||TVe(t,e)||vie(t,e)||PVe()}function PVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vie(t,e){if(t){if(typeof t=="string")return k3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k3(t,e)}}function k3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TVe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function AVe(t){if(Array.isArray(t))return t}var wb=function(e,n,r){return e+(n-e)*r},O3=function(e){var n=e.from,r=e.to;return n!==r},jVe=function t(e,n,r){var i=Pm(function(s,o){if(O3(o)){var a=e(o.from,o.to,o.velocity),l=NVe(a,2),c=l[0],d=l[1];return Ir(Ir({},o),{},{from:c,velocity:d})}return o},n);return r<1?Pm(function(s,o){return O3(o)?Ir(Ir({},o),{},{velocity:wb(o.velocity,i[s].velocity,r),from:wb(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const EVe=(function(t,e,n,r,i){var s=sVe(t,e),o=s.reduce(function(x,S){return Ir(Ir({},x),{},E3({},S,[t[S],e[S]]))},{}),a=s.reduce(function(x,S){return Ir(Ir({},x),{},E3({},S,{from:t[S],velocity:0,to:e[S]}))},{}),l=-1,c,d,h=function(){return null},m=function(){return Pm(function(S,N){return N.from},a)},g=function(){return!Object.values(a).filter(O3).length},y=function(S){c||(c=S);var N=S-c,T=N/n.dt;a=jVe(n,a,T),i(Ir(Ir(Ir({},t),e),m())),c=S,g()||(l=requestAnimationFrame(h))},b=function(S){d||(d=S);var N=(S-d)/r,T=Pm(function(P,E){return wb.apply(void 0,Cz(E).concat([n(N)]))},o);if(i(Ir(Ir(Ir({},t),e),T)),N<1)l=requestAnimationFrame(h);else{var j=Pm(function(P,E){return wb.apply(void 0,Cz(E).concat([n(1)]))},o);i(Ir(Ir(Ir({},t),e),j))}};return h=n.isStepper?y:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}});function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}var kVe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function OVe(t,e){if(t==null)return{};var n=$Ve(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Ve(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gj(t){return RVe(t)||IVe(t)||MVe(t)||_Ve()}function _Ve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MVe(t,e){if(t){if(typeof t=="string")return $3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $3(t,e)}}function IVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RVe(t){if(Array.isArray(t))return $3(t)}function $3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pz(Object(n),!0).forEach(function(r){rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rm(t,e,n){return e=xie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xie(r.key),r)}}function FVe(t,e,n){return e&&LVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xie(t){var e=BVe(t,"string");return Jf(e)==="symbol"?e:String(e)}function BVe(t,e){if(Jf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_3(t,e)}function _3(t,e){return _3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_3(t,e)}function zVe(t){var e=UVe();return function(){var r=Sb(t),i;if(e){var s=Sb(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return M3(this,i)}}function M3(t,e){if(e&&(Jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I3(t)}function I3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UVe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sb(t){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sb(t)}var Wa=(function(t){VVe(n,t);var e=zVe(n);function n(r,i){var s;DVe(this,n),s=e.call(this,r,i);var o=s.props,a=o.isActive,l=o.attributeName,c=o.from,d=o.to,h=o.steps,m=o.children,g=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(I3(s)),s.changeStyle=s.changeStyle.bind(I3(s)),!a||g<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),M3(s);if(h&&h.length)s.state={style:h[0].style};else if(c){if(typeof m=="function")return s.state={style:c},M3(s);s.state={style:l?rm({},l,c):c}}else s.state={style:{}};return s}return FVe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,d=s.to,h=s.from,m=this.state.style;if(a){if(!o){var g={style:l?rm({},l,d):d};this.state&&m&&(l&&m[l]!==d||!l&&m!==d)&&this.setState(g);return}if(!(oee(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=y||c?h:i.to;if(this.state&&m){var x={style:l?rm({},l,b):b};(l&&m[l]!==b||!l&&m!==b)&&this.setState(x)}this.runAnimation(qs(qs({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,l=i.duration,c=i.easing,d=i.begin,h=i.onAnimationEnd,m=i.onAnimationStart,g=EVe(o,a,vVe(c),l,this.changeStyle),y=function(){s.stopJSAnimation=g()};this.manager.start([m,d,y,l,h])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,l=i.onAnimationStart,c=o[0],d=c.style,h=c.duration,m=h===void 0?0:h,g=function(b,x,S){if(S===0)return b;var N=x.duration,T=x.easing,j=T===void 0?"ease":T,P=x.style,E=x.properties,O=x.onAnimationEnd,_=S>0?o[S-1]:x,$=E||Object.keys(P);if(typeof j=="function"||j==="spring")return[].concat(gj(b),[s.runJSAnimation.bind(s,{from:_.style,to:P,duration:N,easing:j}),N]);var B=bz($,N,j),I=qs(qs(qs({},_.style),P),{},{transition:B});return[].concat(gj(b),[I,N,O]).filter(oVe)};return this.manager.start([l].concat(gj(o.reduce(g,[d,Math.max(m,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=nVe());var s=i.begin,o=i.duration,a=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,m=i.steps,g=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof g=="function"||c==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var b=a?rm({},a,l):l,x=bz(Object.keys(b),o,c);y.start([d,s,qs(qs({},b),{},{transition:x}),o,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=OVe(i,kVe),c=C.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!a||c===0||o<=0)return s;var h=function(g){var y=g.props,b=y.style,x=b===void 0?{}:b,S=y.className,N=C.cloneElement(g,qs(qs({},l),{},{style:qs(qs({},x),d),className:S}));return N};return c===1?h(C.Children.only(s)):H.createElement("div",null,C.Children.map(s,function(m){return h(m)}))}}]),n})(C.PureComponent);Wa.displayName="Animate";Wa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Wa.propTypes={from:fe.oneOfType([fe.object,fe.string]),to:fe.oneOfType([fe.object,fe.string]),attributeName:fe.string,duration:fe.number,begin:fe.number,easing:fe.oneOfType([fe.string,fe.func]),steps:fe.arrayOf(fe.shape({duration:fe.number.isRequired,style:fe.object.isRequired,easing:fe.oneOfType([fe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),fe.func]),properties:fe.arrayOf("string"),onAnimationEnd:fe.func})),children:fe.oneOfType([fe.node,fe.func]),isActive:fe.bool,canBegin:fe.bool,onAnimationEnd:fe.func,shouldReAnimate:fe.bool,onAnimationStart:fe.func,onAnimationReStart:fe.func};function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function Cb(){return Cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cb.apply(this,arguments)}function qVe(t,e){return GVe(t)||KVe(t,e)||WVe(t,e)||HVe()}function HVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WVe(t,e){if(t){if(typeof t=="string")return Tz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tz(t,e)}}function Tz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KVe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function GVe(t){if(Array.isArray(t))return t}function Az(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Az(Object(n),!0).forEach(function(r){QVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Az(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QVe(t,e,n){return e=YVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YVe(t){var e=XVe(t,"string");return ty(e)=="symbol"?e:e+""}function XVe(t,e){if(ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ez=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&s instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=s[m]>o?o:s[m];d="M".concat(e,",").concat(n+a*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(e+l*h[0],",").concat(n)),d+="L ".concat(e+r-l*h[1],",").concat(n),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+a*h[1])),d+="L ".concat(e+r,",").concat(n+i-a*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(e+r-l*h[2],",").concat(n+i)),d+="L ".concat(e+l*h[3],",").concat(n+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-a*h[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var y=Math.min(o,s);d="M ".concat(e,",").concat(n+a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r,",").concat(n+a*y,`
            L `).concat(e+r,",").concat(n+i-a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e,",").concat(n+i-a*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},ZVe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(s,s+a),d=Math.max(s,s+a),h=Math.min(o,o+l),m=Math.max(o,o+l);return r>=c&&r<=d&&i>=h&&i<=m}return!1},JVe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WM=function(e){var n=jz(jz({},JVe),e),r=C.useRef(),i=C.useState(-1),s=qVe(i,2),o=s[0],a=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&a(j)}catch{}},[]);var l=n.x,c=n.y,d=n.width,h=n.height,m=n.radius,g=n.className,y=n.animationEasing,b=n.animationDuration,x=n.animationBegin,S=n.isAnimationActive,N=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||h!==+h||d===0||h===0)return null;var T=It("recharts-rectangle",g);return N?H.createElement(Wa,{canBegin:o>0,from:{width:d,height:h,x:l,y:c},to:{width:d,height:h,x:l,y:c},duration:b,animationEasing:y,isActive:N},function(j){var P=j.width,E=j.height,O=j.x,_=j.y;return H.createElement(Wa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:S,easing:y},H.createElement("path",Cb({},Mt(n,!0),{className:T,d:Ez(O,_,P,E,m),ref:r})))}):H.createElement("path",Cb({},Mt(n,!0),{className:T,d:Ez(l,c,d,h,m)}))};function R3(){return R3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R3.apply(this,arguments)}var KM=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=It("recharts-dot",s);return n===+n&&r===+r&&i===+i?C.createElement("circle",R3({},Mt(e,!1),H1(e),{className:o,cx:n,cy:r,r:i})):null};function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}var eze=["x","y","top","left","width","height","className"];function D3(){return D3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D3.apply(this,arguments)}function kz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kz(Object(n),!0).forEach(function(r){nze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nze(t,e,n){return e=rze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rze(t){var e=ize(t,"string");return ny(e)=="symbol"?e:e+""}function ize(t,e){if(ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sze(t,e){if(t==null)return{};var n=oze(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var aze=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},lze=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,l=e.left,c=l===void 0?0:l,d=e.width,h=d===void 0?0:d,m=e.height,g=m===void 0?0:m,y=e.className,b=sze(e,eze),x=tze({x:r,y:s,top:a,left:c,width:h,height:g},b);return!_e(r)||!_e(s)||!_e(h)||!_e(g)||!_e(a)||!_e(c)?null:H.createElement("path",D3({},Mt(x,!0),{className:It("recharts-cross",y),d:aze(r,s,h,g,a,c)}))},yj,Oz;function cze(){if(Oz)return yj;Oz=1;var t=Vne(),e=t(Object.getPrototypeOf,Object);return yj=e,yj}var vj,$z;function uze(){if($z)return vj;$z=1;var t=Ya(),e=cze(),n=Xa(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,l=o.call(Object);function c(d){if(!n(d)||t(d)!=r)return!1;var h=e(d);if(h===null)return!0;var m=a.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==l}return vj=c,vj}var dze=uze();const fze=Zt(dze);var xj,_z;function hze(){if(_z)return xj;_z=1;var t=Ya(),e=Xa(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return xj=r,xj}var pze=hze();const mze=Zt(pze);function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function Nb(){return Nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nb.apply(this,arguments)}function gze(t,e){return bze(t)||xze(t,e)||vze(t,e)||yze()}function yze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vze(t,e){if(t){if(typeof t=="string")return Mz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mz(t,e)}}function Mz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function bze(t){if(Array.isArray(t))return t}function Iz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iz(Object(n),!0).forEach(function(r){wze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wze(t,e,n){return e=Sze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sze(t){var e=Cze(t,"string");return ry(e)=="symbol"?e:e+""}function Cze(t,e){if(ry(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dz=function(e,n,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-o/2,",").concat(n+s),a+="L ".concat(e+r-o/2-i,",").concat(n+s),a+="L ".concat(e,",").concat(n," Z"),a},Nze={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pze=function(e){var n=Rz(Rz({},Nze),e),r=C.useRef(),i=C.useState(-1),s=gze(i,2),o=s[0],a=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&a(T)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,h=n.lowerWidth,m=n.height,g=n.className,y=n.animationEasing,b=n.animationDuration,x=n.animationBegin,S=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||h!==+h||m!==+m||d===0&&h===0||m===0)return null;var N=It("recharts-trapezoid",g);return S?H.createElement(Wa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:l,y:c},to:{upperWidth:d,lowerWidth:h,height:m,x:l,y:c},duration:b,animationEasing:y,isActive:S},function(T){var j=T.upperWidth,P=T.lowerWidth,E=T.height,O=T.x,_=T.y;return H.createElement(Wa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:y},H.createElement("path",Nb({},Mt(n,!0),{className:N,d:Dz(O,_,j,P,E),ref:r})))}):H.createElement("g",null,H.createElement("path",Nb({},Mt(n,!0),{className:N,d:Dz(l,c,d,h,m)})))},Tze=["option","shapeType","propTransformer","activeClassName","isActive"];function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function Aze(t,e){if(t==null)return{};var n=jze(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lz(Object(n),!0).forEach(function(r){Eze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eze(t,e,n){return e=kze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kze(t){var e=Oze(t,"string");return iy(e)=="symbol"?e:e+""}function Oze(t,e){if(iy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ze(t,e){return Pb(Pb({},e),t)}function _ze(t,e){return t==="symbols"}function Fz(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return H.createElement(WM,n);case"trapezoid":return H.createElement(Pze,n);case"sector":return H.createElement(hie,n);case"symbols":if(_ze(e))return H.createElement(uM,n);break;default:return null}}function Mze(t){return C.isValidElement(t)?t.props:t}function Ize(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?$ze:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,l=Aze(t,Tze),c;if(C.isValidElement(e))c=C.cloneElement(e,Pb(Pb({},l),Mze(e)));else if(Pt(e))c=e(l);else if(fze(e)&&!mze(e)){var d=i(e,l);c=H.createElement(Fz,{shapeType:n,elementProps:d})}else{var h=l;c=H.createElement(Fz,{shapeType:n,elementProps:h})}return a?H.createElement(qn,{className:o},c):c}function x2(t,e){return e!=null&&"trapezoids"in t.props}function b2(t,e){return e!=null&&"sectors"in t.props}function sy(t,e){return e!=null&&"points"in t.props}function Rze(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function Dze(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Lze(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Fze(t,e){var n;return x2(t,e)?n=Rze:b2(t,e)?n=Dze:sy(t,e)&&(n=Lze),n}function Bze(t,e){var n;return x2(t,e)?n="trapezoids":b2(t,e)?n="sectors":sy(t,e)&&(n="points"),n}function Vze(t,e){if(x2(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(b2(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return sy(t,e)?e.payload:{}}function zze(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Bze(n,e),s=Vze(n,e),o=r.filter(function(l,c){var d=g2(s,l),h=n.props[i].filter(function(y){var b=Fze(n,e);return b(y,e)}),m=n.props[i].indexOf(h[h.length-1]),g=c===m;return d&&g}),a=r.indexOf(o[o.length-1]);return a}var bj,Bz;function Uze(){if(Bz)return bj;Bz=1;var t=Math.ceil,e=Math.max;function n(r,i,s,o){for(var a=-1,l=e(t((i-r)/(s||1)),0),c=Array(l);l--;)c[o?l:++a]=r,r+=s;return c}return bj=n,bj}var wj,Vz;function bie(){if(Vz)return wj;Vz=1;var t=rre(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return wj=r,wj}var Sj,zz;function qze(){if(zz)return Sj;zz=1;var t=Uze(),e=a2(),n=bie();function r(i){return function(s,o,a){return a&&typeof a!="number"&&e(s,o,a)&&(o=a=void 0),s=n(s),o===void 0?(o=s,s=0):o=n(o),a=a===void 0?s<o?1:-1:n(a),t(s,o,a,i)}}return Sj=r,Sj}var Cj,Uz;function Hze(){if(Uz)return Cj;Uz=1;var t=qze(),e=t();return Cj=e,Cj}var Wze=Hze();const Tb=Zt(Wze);function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function qz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qz(Object(n),!0).forEach(function(r){wie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wie(t,e,n){return e=Kze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kze(t){var e=Gze(t,"string");return oy(e)=="symbol"?e:e+""}function Gze(t,e){if(oy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qze=["Webkit","Moz","O","ms"],Yze=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Qze.reduce(function(s,o){return Hz(Hz({},s),{},wie({},o+r,n))},{});return i[e]=n,i};function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ab.apply(this,arguments)}function Wz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wz(Object(n),!0).forEach(function(r){Ki(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cie(r.key),r)}}function Zze(t,e,n){return e&&Kz(t.prototype,e),n&&Kz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jze(t,e,n){return e=jb(e),eUe(t,Sie()?Reflect.construct(e,n||[],jb(t).constructor):e.apply(t,n))}function eUe(t,e){if(e&&(eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tUe(t)}function tUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sie=function(){return!!t})()}function jb(t){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jb(t)}function nUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L3(t,e)}function L3(t,e){return L3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L3(t,e)}function Ki(t,e,n){return e=Cie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cie(t){var e=rUe(t,"string");return eh(e)=="symbol"?e:e+""}function rUe(t,e){if(eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iUe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Cm().domain(Tb(0,l)).range([s,s+o-a]),d=c.domain().map(function(h){return c(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},Gz=function(e){return e.changedTouches&&!!e.changedTouches.length},th=(function(t){function e(n){var r;return Xze(this,e),r=Jze(this,e,[n]),Ki(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ki(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ki(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o?.({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),Ki(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ki(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ki(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ki(r,"handleSlideDragStart",function(i){var s=Gz(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return nUe(e,t),Zze(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,d=c.length-1,h=Math.min(i,s),m=Math.max(i,s),g=e.getIndexInRange(o,h),y=e.getIndexInRange(o,m);return{startIndex:g-g%l,endIndex:y===d?d:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,l=ls(s[r],a,r);return Pt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,l=this.props,c=l.x,d=l.width,h=l.travellerWidth,m=l.startIndex,g=l.endIndex,y=l.onChange,b=r.pageX-s;b>0?b=Math.min(b,c+d-h-a,c+d-h-o):b<0&&(b=Math.max(b,c-o,c-a));var x=this.getIndex({startX:o+b,endX:a+b});(x.startIndex!==m||x.endIndex!==g)&&y&&y(x),this.setState({startX:o+b,endX:a+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=Gz(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[o],d=this.props,h=d.x,m=d.width,g=d.travellerWidth,y=d.onChange,b=d.gap,x=d.data,S={startX:this.state.startX,endX:this.state.endX},N=r.pageX-s;N>0?N=Math.min(N,h+m-g-c):N<0&&(N=Math.max(N,h-c)),S[o]=c+N;var T=this.getIndex(S),j=T.startIndex,P=T.endIndex,E=function(){var _=x.length-1;return o==="startX"&&(a>l?j%b===0:P%b===0)||a<l&&P===_||o==="endX"&&(a>l?P%b===0:j%b===0)||a>l&&P===_};this.setState(Ki(Ki({},o,c+N),"brushMoveStartX",r.pageX),function(){y&&E()&&y(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,l=o.startX,c=o.endX,d=this.state[i],h=a.indexOf(d);if(h!==-1){var m=h+r;if(!(m===-1||m>=a.length)){var g=a[m];i==="startX"&&g>=c||i==="endX"&&g<=l||this.setState(Ki({},i,g),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.fill,c=r.stroke;return H.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.data,c=r.children,d=r.padding,h=C.Children.only(c);return h?H.cloneElement(h,{x:i,y:s,width:o,height:a,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,l=this.props,c=l.y,d=l.travellerWidth,h=l.height,m=l.traveller,g=l.ariaLabel,y=l.data,b=l.startIndex,x=l.endIndex,S=Math.max(r,this.props.x),N=Nj(Nj({},Mt(this.props,!1)),{},{x:S,y:c,width:d,height:h}),T=g||"Min value: ".concat((s=y[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=y[x])===null||o===void 0?void 0:o.name);return H.createElement(qn,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),a.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,N))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,l=s.stroke,c=s.travellerWidth,d=Math.min(r,i)+c,h=Math.max(Math.abs(i-r)-c,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:h,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,h=d.startX,m=d.endX,g=5,y={pointerEvents:"none",fill:c};return H.createElement(qn,{className:"recharts-brush-texts"},H.createElement(rb,Ab({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-g,y:o+a/2},y),this.getTextOfTick(i)),H.createElement(rb,Ab({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+l+g,y:o+a/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,l=r.y,c=r.width,d=r.height,h=r.alwaysShowText,m=this.state,g=m.startX,y=m.endX,b=m.isTextActive,x=m.isSlideMoving,S=m.isTravellerMoving,N=m.isTravellerFocused;if(!i||!i.length||!_e(a)||!_e(l)||!_e(c)||!_e(d)||c<=0||d<=0)return null;var T=It("recharts-brush",s),j=H.Children.count(o)===1,P=Yze("userSelect","none");return H.createElement(qn,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(g,y),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(y,"endX"),(b||x||S||N||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,l=r.stroke,c=Math.floor(s+a/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:s,width:o,height:a,fill:l,stroke:"none"}),H.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return H.isValidElement(r)?s=H.cloneElement(r,i):Pt(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,h=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return Nj({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o},s&&s.length?iUe({data:s,width:o,x:a,travellerWidth:l,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+o-l]);var m=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);r[l]>i?a=l:o=l}return i>=r[a]?a:o}}])})(C.PureComponent);Ki(th,"displayName","Brush");Ki(th,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Pj,Qz;function sUe(){if(Qz)return Pj;Qz=1;var t=yM();function e(n,r){var i;return t(n,function(s,o,a){return i=r(s,o,a),!i}),!!i}return Pj=e,Pj}var Tj,Yz;function oUe(){if(Yz)return Tj;Yz=1;var t=Mne(),e=Tc(),n=sUe(),r=Bi(),i=a2();function s(o,a,l){var c=r(o)?t:n;return l&&i(o,a,l)&&(a=void 0),c(o,e(a,3))}return Tj=s,Tj}var aUe=oUe();const lUe=Zt(aUe);var Vo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Aj,Xz;function cUe(){if(Xz)return Aj;Xz=1;var t=Zne();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Aj=e,Aj}var jj,Zz;function uUe(){if(Zz)return jj;Zz=1;var t=cUe(),e=Yne(),n=Tc();function r(i,s){var o={};return s=n(s,3),e(i,function(a,l,c){t(o,l,s(a,l,c))}),o}return jj=r,jj}var dUe=uUe();const fUe=Zt(dUe);var Ej,Jz;function hUe(){if(Jz)return Ej;Jz=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return Ej=t,Ej}var kj,eU;function pUe(){if(eU)return kj;eU=1;var t=yM();function e(n,r){var i=!0;return t(n,function(s,o,a){return i=!!r(s,o,a),i}),i}return kj=e,kj}var Oj,tU;function mUe(){if(tU)return Oj;tU=1;var t=hUe(),e=pUe(),n=Tc(),r=Bi(),i=a2();function s(o,a,l){var c=r(o)?t:e;return l&&i(o,a,l)&&(a=void 0),c(o,n(a,3))}return Oj=s,Oj}var gUe=mUe();const Nie=Zt(gUe);var yUe=["x","y"];function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function F3(){return F3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F3.apply(this,arguments)}function nU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nU(Object(n),!0).forEach(function(r){vUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vUe(t,e,n){return e=xUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xUe(t){var e=bUe(t,"string");return ay(e)=="symbol"?e:e+""}function bUe(t,e){if(ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wUe(t,e){if(t==null)return{};var n=SUe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CUe(t,e){var n=t.x,r=t.y,i=wUe(t,yUe),s="".concat(n),o=parseInt(s,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),d=parseInt(c,10),h="".concat(e.width||i.width),m=parseInt(h,10);return Hp(Hp(Hp(Hp(Hp({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:m,name:e.name,radius:e.radius})}function rU(t){return H.createElement(Ize,F3({shapeType:"rectangle",propTransformer:CUe,activeClassName:"recharts-active-bar"},t))}var NUe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=_e(r)||xRe(r);return s?e(r,i):(s||Hu(),n)}},PUe=["value","background"],Pie;function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function TUe(t,e){if(t==null)return{};var n=AUe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(this,arguments)}function iU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iU(Object(n),!0).forEach(function(r){Wl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Aie(r.key),r)}}function EUe(t,e,n){return e&&sU(t.prototype,e),n&&sU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kUe(t,e,n){return e=kb(e),OUe(t,Tie()?Reflect.construct(e,n||[],kb(t).constructor):e.apply(t,n))}function OUe(t,e){if(e&&(nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ue(t)}function $Ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tie=function(){return!!t})()}function kb(t){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kb(t)}function _Ue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B3(t,e)}function B3(t,e){return B3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B3(t,e)}function Wl(t,e,n){return e=Aie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aie(t){var e=MUe(t,"string");return nh(e)=="symbol"?e:e+""}function MUe(t,e){if(nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rd=(function(t){function e(){var n;jUe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=kUe(this,e,[].concat(i)),Wl(n,"state",{isAnimationFinished:!1}),Wl(n,"id",qy("recharts-bar-")),Wl(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Wl(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return _Ue(e,t),EUe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,c=s.activeBar,d=Mt(this.props,!1);return r&&r.map(function(h,m){var g=m===l,y=g?c:o,b=Xn(Xn(Xn({},d),h),{},{isActive:g,option:y,index:m,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(qn,Eb({className:"recharts-bar-rectangle"},W1(i.props,h,m),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(m)}),H.createElement(rU,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,h=i.animationId,m=this.state.prevData;return H.createElement(Wa,{begin:l,duration:c,isActive:a,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,b=s.map(function(x,S){var N=m&&m[S];if(N){var T=to(N.x,x.x),j=to(N.y,x.y),P=to(N.width,x.width),E=to(N.height,x.height);return Xn(Xn({},x),{},{x:T(y),y:j(y),width:P(y),height:E(y)})}if(o==="horizontal"){var O=to(0,x.height),_=O(y);return Xn(Xn({},x),{},{y:x.y+x.height-_,height:_})}var $=to(0,x.width),B=$(y);return Xn(Xn({},x),{},{width:B})});return H.createElement(qn,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!g2(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,l=Mt(this.props.background,!1);return s.map(function(c,d){c.value;var h=c.background,m=TUe(c,PUe);if(!h)return null;var g=Xn(Xn(Xn(Xn(Xn({},m),{},{fill:"#eee"},h),l),W1(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return H.createElement(rU,Eb({key:"background-bar-".concat(d),option:r.props.background,isActive:d===a},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,h=$s(d,Yy);if(!h)return null;var m=c==="vertical"?o[0].height/2:o[0].width/2,g=function(x,S){var N=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:N,errorVal:ls(x,S)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(qn,y,h.map(function(b){return H.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,a=r.xAxis,l=r.yAxis,c=r.left,d=r.top,h=r.width,m=r.height,g=r.isAnimationActive,y=r.background,b=r.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,S=It("recharts-bar",o),N=a&&a.allowDataOverflow,T=l&&l.allowDataOverflow,j=N||T,P=kt(b)?this.id:b;return H.createElement(qn,{className:S},N||T?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(P)},H.createElement("rect",{x:N?c:c-h/2,y:T?d:d-m/2,width:N?h:h*2,height:T?m:m*2}))):null,H.createElement(qn,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(P,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,P),(!g||x)&&ec.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(C.PureComponent);Pie=rd;Wl(rd,"displayName","Bar");Wl(rd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Lh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wl(rd,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,h=t.displayedData,m=t.offset,g=LFe(r,n);if(!g)return null;var y=e.layout,b=n.type.defaultProps,x=b!==void 0?Xn(Xn({},b),n.props):n.props,S=x.dataKey,N=x.children,T=x.minPointSize,j=y==="horizontal"?o:s,P=c?j.scale.domain():null,E=WFe({numericAxis:j}),O=$s(N,bM),_=h.map(function($,B){var I,V,U,L,z,F;c?I=FFe(c[d+B],P):(I=ls($,S),Array.isArray(I)||(I=[E,I]));var q=NUe(T,Pie.defaultProps.minPointSize)(I[1],B);if(y==="horizontal"){var M,D=[o.scale(I[0]),o.scale(I[1])],Q=D[0],W=D[1];V=JV({axis:s,ticks:a,bandSize:i,offset:g.offset,entry:$,index:B}),U=(M=W??Q)!==null&&M!==void 0?M:void 0,L=g.size;var Y=Q-W;if(z=Number.isNaN(Y)?0:Y,F={x:V,y:o.y,width:L,height:o.height},Math.abs(q)>0&&Math.abs(z)<Math.abs(q)){var le=lo(z||q)*(Math.abs(q)-Math.abs(z));U-=le,z+=le}}else{var pe=[s.scale(I[0]),s.scale(I[1])],he=pe[0],Ae=pe[1];if(V=he,U=JV({axis:o,ticks:l,bandSize:i,offset:g.offset,entry:$,index:B}),L=Ae-he,z=g.size,F={x:s.x,y:U,width:s.width,height:z},Math.abs(q)>0&&Math.abs(L)<Math.abs(q)){var me=lo(L||q)*(Math.abs(q)-Math.abs(L));L+=me}}return Xn(Xn(Xn({},$),{},{x:V,y:U,width:L,height:z,value:c?I:I[1],payload:$,background:F},O&&O[B]&&O[B].props),{},{tooltipPayload:[uie(n,$)],tooltipPosition:{x:V+L/2,y:U+z/2}})});return Xn({data:_,layout:y},m)});function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function IUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jie(r.key),r)}}function RUe(t,e,n){return e&&oU(t.prototype,e),n&&oU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aU(Object(n),!0).forEach(function(r){w2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w2(t,e,n){return e=jie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jie(t){var e=DUe(t,"string");return ly(e)=="symbol"?e:e+""}function DUe(t,e){if(ly(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eie=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.layout,c=e.children,d=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},m=!!Gi(c,rd);return d.reduce(function(g,y){var b=n[y],x=b.orientation,S=b.domain,N=b.padding,T=N===void 0?{}:N,j=b.mirror,P=b.reversed,E="".concat(x).concat(j?"Mirror":""),O,_,$,B,I;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var V=S[1]-S[0],U=1/0,L=b.categoricalDomain.sort(SRe);if(L.forEach(function(pe,he){he>0&&(U=Math.min((pe||0)-(L[he-1]||0),U))}),Number.isFinite(U)){var z=U/V,F=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(O=z*F/2),b.padding==="no-gap"){var q=Uu(e.barCategoryGap,z*F),M=z*F/2;O=M-q-(M-q)/F*q}}}i==="xAxis"?_=[r.left+(T.left||0)+(O||0),r.left+r.width-(T.right||0)-(O||0)]:i==="yAxis"?_=l==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(O||0),r.top+r.height-(T.bottom||0)-(O||0)]:_=b.range,P&&(_=[_[1],_[0]]);var D=RFe(b,s,m),Q=D.scale,W=D.realScaleType;Q.domain(S).range(_),DFe(Q);var Y=HFe(Q,Zs(Zs({},b),{},{realScaleType:W}));i==="xAxis"?(I=x==="top"&&!j||x==="bottom"&&j,$=r.left,B=h[E]-I*b.height):i==="yAxis"&&(I=x==="left"&&!j||x==="right"&&j,$=h[E]-I*b.width,B=r.top);var le=Zs(Zs(Zs({},b),Y),{},{realScaleType:W,x:$,y:B,scale:Q,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return le.bandSize=yb(le,Y),!b.hide&&i==="xAxis"?h[E]+=(I?-1:1)*le.height:b.hide||(h[E]+=(I?-1:1)*le.width),Zs(Zs({},g),{},w2({},y,le))},{})},kie=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},LUe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return kie({x:n,y:r},{x:i,y:s})},Oie=(function(){function t(e){IUe(this,t),this.scale=e}return RUe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();w2(Oie,"EPS",1e-4);var GM=function(e){var n=Object.keys(e).reduce(function(r,i){return Zs(Zs({},r),{},w2({},i,Oie.create(e[i])))},{});return Zs(Zs({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return fUe(i,function(l,c){return n[c].apply(l,{bandAware:o,position:a})})},isInRange:function(i){return Nie(i,function(s,o){return n[o].isInRange(s)})}})};function FUe(t){return(t%180+180)%180}var BUe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=FUe(i),o=s*Math.PI/180,a=Math.atan(r/n),l=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},$j,lU;function VUe(){if(lU)return $j;lU=1;var t=Tc(),e=Hy(),n=s2();function r(i){return function(s,o,a){var l=Object(s);if(!e(s)){var c=t(o,3);s=n(s),o=function(h){return c(l[h],h,l)}}var d=i(s,o,a);return d>-1?l[c?s[d]:d]:void 0}}return $j=r,$j}var _j,cU;function zUe(){if(cU)return _j;cU=1;var t=bie();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return _j=e,_j}var Mj,uU;function UUe(){if(uU)return Mj;uU=1;var t=Hne(),e=Tc(),n=zUe(),r=Math.max;function i(s,o,a){var l=s==null?0:s.length;if(!l)return-1;var c=a==null?0:n(a);return c<0&&(c=r(l+c,0)),t(s,e(o,3),c)}return Mj=i,Mj}var Ij,dU;function qUe(){if(dU)return Ij;dU=1;var t=VUe(),e=UUe(),n=t(e);return Ij=n,Ij}var HUe=qUe();const WUe=Zt(HUe);var KUe=ane();const GUe=Zt(KUe);var QUe=GUe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),QM=C.createContext(void 0),YM=C.createContext(void 0),$ie=C.createContext(void 0),_ie=C.createContext({}),Mie=C.createContext(void 0),Iie=C.createContext(0),Rie=C.createContext(0),fU=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,a=e.children,l=e.width,c=e.height,d=QUe(s);return H.createElement(QM.Provider,{value:r},H.createElement(YM.Provider,{value:i},H.createElement(_ie.Provider,{value:s},H.createElement($ie.Provider,{value:d},H.createElement(Mie.Provider,{value:o},H.createElement(Iie.Provider,{value:c},H.createElement(Rie.Provider,{value:l},a)))))))},YUe=function(){return C.useContext(Mie)},Die=function(e){var n=C.useContext(QM);n==null&&Hu();var r=n[e];return r==null&&Hu(),r},XUe=function(){var e=C.useContext(QM);return Vl(e)},ZUe=function(){var e=C.useContext(YM),n=WUe(e,function(r){return Nie(r.domain,Number.isFinite)});return n||Vl(e)},Lie=function(e){var n=C.useContext(YM);n==null&&Hu();var r=n[e];return r==null&&Hu(),r},JUe=function(){var e=C.useContext($ie);return e},eqe=function(){return C.useContext(_ie)},XM=function(){return C.useContext(Rie)},ZM=function(){return C.useContext(Iie)};function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function tqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nqe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bie(r.key),r)}}function rqe(t,e,n){return e&&nqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iqe(t,e,n){return e=Ob(e),sqe(t,Fie()?Reflect.construct(e,n||[],Ob(t).constructor):e.apply(t,n))}function sqe(t,e){if(e&&(rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oqe(t)}function oqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fie=function(){return!!t})()}function Ob(t){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ob(t)}function aqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V3(t,e)}function V3(t,e){return V3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V3(t,e)}function hU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hU(Object(n),!0).forEach(function(r){JM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JM(t,e,n){return e=Bie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bie(t){var e=lqe(t,"string");return rh(e)=="symbol"?e:e+""}function lqe(t,e){if(rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cqe(t,e){return hqe(t)||fqe(t,e)||dqe(t,e)||uqe()}function uqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dqe(t,e){if(t){if(typeof t=="string")return mU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mU(t,e)}}function mU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fqe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function hqe(t){if(Array.isArray(t))return t}function z3(){return z3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z3.apply(this,arguments)}var pqe=function(e,n){var r;return H.isValidElement(e)?r=H.cloneElement(e,n):Pt(e)?r=e(n):r=H.createElement("line",z3({},n,{className:"recharts-reference-line-line"})),r},mqe=function(e,n,r,i,s,o,a,l,c){var d=s.x,h=s.y,m=s.width,g=s.height;if(r){var y=c.y,b=e.y.apply(y,{position:o});if(Vo(c,"discard")&&!e.y.isInRange(b))return null;var x=[{x:d+m,y:b},{x:d,y:b}];return l==="left"?x.reverse():x}if(n){var S=c.x,N=e.x.apply(S,{position:o});if(Vo(c,"discard")&&!e.x.isInRange(N))return null;var T=[{x:N,y:h+g},{x:N,y:h}];return a==="top"?T.reverse():T}if(i){var j=c.segment,P=j.map(function(E){return e.apply(E,{position:o})});return Vo(c,"discard")&&lUe(P,function(E){return!e.isInRange(E)})?null:P}return null};function gqe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,l=t.alwaysShow,c=YUe(),d=Die(i),h=Lie(s),m=JUe();if(!c||!m)return null;$a(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=GM({x:d.scale,y:h.scale}),y=dr(e),b=dr(n),x=r&&r.length===2,S=mqe(g,y,b,x,m,t.position,d.orientation,h.orientation,t);if(!S)return null;var N=cqe(S,2),T=N[0],j=T.x,P=T.y,E=N[1],O=E.x,_=E.y,$=Vo(t,"hidden")?"url(#".concat(c,")"):void 0,B=pU(pU({clipPath:$},Mt(t,!0)),{},{x1:j,y1:P,x2:O,y2:_});return H.createElement(qn,{className:It("recharts-reference-line",a)},pqe(o,B),ii.renderCallByParent(t,LUe({x1:j,y1:P,x2:O,y2:_})))}var e4=(function(t){function e(){return tqe(this,e),iqe(this,e,arguments)}return aqe(e,t),rqe(e,[{key:"render",value:function(){return H.createElement(gqe,this.props)}}])})(H.Component);JM(e4,"displayName","ReferenceLine");JM(e4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function U3(){return U3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U3.apply(this,arguments)}function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function gU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gU(Object(n),!0).forEach(function(r){S2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vqe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zie(r.key),r)}}function xqe(t,e,n){return e&&vqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bqe(t,e,n){return e=$b(e),wqe(t,Vie()?Reflect.construct(e,n||[],$b(t).constructor):e.apply(t,n))}function wqe(t,e){if(e&&(ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sqe(t)}function Sqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vie=function(){return!!t})()}function $b(t){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$b(t)}function Cqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q3(t,e)}function q3(t,e){return q3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q3(t,e)}function S2(t,e,n){return e=zie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zie(t){var e=Nqe(t,"string");return ih(e)=="symbol"?e:e+""}function Nqe(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pqe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=GM({x:i.scale,y:s.scale}),a=o.apply({x:n,y:r},{bandAware:!0});return Vo(e,"discard")&&!o.isInRange(a)?null:a},C2=(function(t){function e(){return yqe(this,e),bqe(this,e,arguments)}return Cqe(e,t),xqe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,l=r.clipPathId,c=dr(i),d=dr(s);if($a(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var h=Pqe(this.props);if(!h)return null;var m=h.x,g=h.y,y=this.props,b=y.shape,x=y.className,S=Vo(this.props,"hidden")?"url(#".concat(l,")"):void 0,N=yU(yU({clipPath:S},Mt(this.props,!0)),{},{cx:m,cy:g});return H.createElement(qn,{className:It("recharts-reference-dot",x)},e.renderDot(b,N),ii.renderCallByParent(this.props,{x:m-o,y:g-o,width:2*o,height:2*o}))}}])})(H.Component);S2(C2,"displayName","ReferenceDot");S2(C2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});S2(C2,"renderDot",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):Pt(t)?n=t(e):n=H.createElement(KM,U3({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function H3(){return H3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H3.apply(this,arguments)}function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function vU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vU(Object(n),!0).forEach(function(r){N2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aqe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qie(r.key),r)}}function jqe(t,e,n){return e&&Aqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eqe(t,e,n){return e=_b(e),kqe(t,Uie()?Reflect.construct(e,n||[],_b(t).constructor):e.apply(t,n))}function kqe(t,e){if(e&&(sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oqe(t)}function Oqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uie=function(){return!!t})()}function _b(t){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_b(t)}function $qe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W3(t,e)}function W3(t,e){return W3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W3(t,e)}function N2(t,e,n){return e=qie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qie(t){var e=_qe(t,"string");return sh(e)=="symbol"?e:e+""}function _qe(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mqe=function(e,n,r,i,s){var o=s.x1,a=s.x2,l=s.y1,c=s.y2,d=s.xAxis,h=s.yAxis;if(!d||!h)return null;var m=GM({x:d.scale,y:h.scale}),g={x:e?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:r?m.y.apply(l,{position:"start"}):m.y.rangeMin},y={x:n?m.x.apply(a,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(c,{position:"end"}):m.y.rangeMax};return Vo(s,"discard")&&(!m.isInRange(g)||!m.isInRange(y))?null:kie(g,y)},P2=(function(t){function e(){return Tqe(this,e),Eqe(this,e,arguments)}return $qe(e,t),jqe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;$a(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=dr(i),m=dr(s),g=dr(o),y=dr(a),b=this.props.shape;if(!h&&!m&&!g&&!y&&!b)return null;var x=Mqe(h,m,g,y,this.props);if(!x&&!b)return null;var S=Vo(this.props,"hidden")?"url(#".concat(d,")"):void 0;return H.createElement(qn,{className:It("recharts-reference-area",l)},e.renderRect(b,xU(xU({clipPath:S},Mt(this.props,!0)),x)),ii.renderCallByParent(this.props,x))}}])})(H.Component);N2(P2,"displayName","ReferenceArea");N2(P2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});N2(P2,"renderRect",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):Pt(t)?n=t(e):n=H.createElement(WM,H3({},e,{className:"recharts-reference-area-rect"})),n});function Hie(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Iqe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return BUe(r,n)}function Rqe(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function Mb(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Dqe(t,e){return Hie(t,e+1)}function Lqe(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,a=e.end,l=0,c=1,d=o,h=function(){var y=r?.[l];if(y===void 0)return{v:Hie(r,c)};var b=l,x,S=function(){return x===void 0&&(x=n(y,b)),x},N=y.coordinate,T=l===0||Mb(t,N,S,d,a);T||(l=0,d=o,c+=1),T&&(d=N+t*(S()/2+i),l+=c)},m;c<=s.length;)if(m=h(),m)return m.v;return[]}function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function bU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bU(Object(n),!0).forEach(function(r){Fqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fqe(t,e,n){return e=Bqe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bqe(t){var e=Vqe(t,"string");return cy(e)=="symbol"?e:e+""}function Vqe(t,e){if(cy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zqe(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,a=e.start,l=e.end,c=function(m){var g=s[m],y,b=function(){return y===void 0&&(y=n(g,m)),y};if(m===o-1){var x=t*(g.coordinate+t*b()/2-l);s[m]=g=Jr(Jr({},g),{},{tickCoord:x>0?g.coordinate-x*t:g.coordinate})}else s[m]=g=Jr(Jr({},g),{},{tickCoord:g.coordinate});var S=Mb(t,g.tickCoord,b,a,l);S&&(l=g.tickCoord-t*(b()/2+i),s[m]=Jr(Jr({},g),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return s}function Uqe(t,e,n,r,i,s){var o=(r||[]).slice(),a=o.length,l=e.start,c=e.end;if(s){var d=r[a-1],h=n(d,a-1),m=t*(d.coordinate+t*h/2-c);o[a-1]=d=Jr(Jr({},d),{},{tickCoord:m>0?d.coordinate-m*t:d.coordinate});var g=Mb(t,d.tickCoord,function(){return h},l,c);g&&(c=d.tickCoord-t*(h/2+i),o[a-1]=Jr(Jr({},d),{},{isShow:!0}))}for(var y=s?a-1:a,b=function(N){var T=o[N],j,P=function(){return j===void 0&&(j=n(T,N)),j};if(N===0){var E=t*(T.coordinate-t*P()/2-l);o[N]=T=Jr(Jr({},T),{},{tickCoord:E<0?T.coordinate-E*t:T.coordinate})}else o[N]=T=Jr(Jr({},T),{},{tickCoord:T.coordinate});var O=Mb(t,T.tickCoord,P,l,c);O&&(l=T.tickCoord+t*(P()/2+i),o[N]=Jr(Jr({},T),{},{isShow:!0}))},x=0;x<y;x++)b(x);return o}function t4(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(_e(l)||Lh.isSsr)return Dqe(i,typeof l=="number"&&_e(l)?l:0);var m=[],g=a==="top"||a==="bottom"?"width":"height",y=d&&g==="width"?Sm(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(T,j){var P=Pt(c)?c(T.value,j):T.value;return g==="width"?Iqe(Sm(P,{fontSize:e,letterSpacing:n}),y,h):Sm(P,{fontSize:e,letterSpacing:n})[g]},x=i.length>=2?lo(i[1].coordinate-i[0].coordinate):1,S=Rqe(s,x,g);return l==="equidistantPreserveStart"?Lqe(x,S,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?m=Uqe(x,S,b,i,o,l==="preserveStartEnd"):m=zqe(x,S,b,i,o),m.filter(function(N){return N.isShow}))}var qqe=["viewBox"],Hqe=["viewBox"],Wqe=["ticks"];function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sf.apply(this,arguments)}function wU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wU(Object(n),!0).forEach(function(r){n4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rj(t,e){if(t==null)return{};var n=Kqe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kqe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kie(r.key),r)}}function Qqe(t,e,n){return e&&SU(t.prototype,e),n&&SU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yqe(t,e,n){return e=Ib(e),Xqe(t,Wie()?Reflect.construct(e,n||[],Ib(t).constructor):e.apply(t,n))}function Xqe(t,e){if(e&&(oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zqe(t)}function Zqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wie=function(){return!!t})()}function Ib(t){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ib(t)}function Jqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K3(t,e)}function K3(t,e){return K3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K3(t,e)}function n4(t,e,n){return e=Kie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kie(t){var e=eHe(t,"string");return oh(e)=="symbol"?e:e+""}function eHe(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zh=(function(t){function e(n){var r;return Gqe(this,e),r=Yqe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Jqe(e,t),Qqe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=Rj(r,qqe),a=this.props,l=a.viewBox,c=Rj(a,Hqe);return!xf(s,l)||!xf(o,c)||!xf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,c=i.orientation,d=i.tickSize,h=i.mirror,m=i.tickMargin,g,y,b,x,S,N,T=h?-1:1,j=r.tickSize||d,P=_e(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":g=y=r.coordinate,x=o+ +!h*l,b=x-T*j,N=b-T*m,S=P;break;case"left":b=x=r.coordinate,y=s+ +!h*a,g=y-T*j,S=g-T*m,N=P;break;case"right":b=x=r.coordinate,y=s+ +h*a,g=y+T*j,S=g+T*m,N=P;break;default:g=y=r.coordinate,x=o+ +h*l,b=x+T*j,N=b+T*m,S=P;break}return{line:{x1:g,y1:b,x2:y,y2:x},tick:{x:S,y:N}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,h=or(or(or({},Mt(this.props,!1)),Mt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!c||l==="bottom"&&c);h=or(or({},h),{},{x1:i,y1:s+m*a,x2:i+o,y2:s+m*a})}else{var g=+(l==="left"&&!c||l==="right"&&c);h=or(or({},h),{},{x1:i+g*o,y1:s,x2:i+g*o,y2:s+a})}return H.createElement("line",sf({},h,{className:It("recharts-cartesian-axis-line",Os(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,a=this.props,l=a.tickLine,c=a.stroke,d=a.tick,h=a.tickFormatter,m=a.unit,g=t4(or(or({},this.props),{},{ticks:r}),i,s),y=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=Mt(this.props,!1),S=Mt(d,!1),N=or(or({},x),{},{fill:"none"},Mt(l,!1)),T=g.map(function(j,P){var E=o.getTickLineCoord(j),O=E.line,_=E.tick,$=or(or(or(or({textAnchor:y,verticalAnchor:b},x),{},{stroke:"none",fill:c},S),_),{},{index:P,payload:j,visibleTicksCount:g.length,tickFormatter:h});return H.createElement(qn,sf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},W1(o.props,j,P)),l&&H.createElement("line",sf({},N,O,{className:It("recharts-cartesian-axis-tick-line",Os(l,"className"))})),d&&e.renderTickItem(d,$,"".concat(Pt(h)?h(j.value,P):j.value).concat(m||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var h=this.props,m=h.ticks,g=Rj(h,Wqe),y=m;return Pt(l)&&(y=m&&m.length>0?l(this.props):l(g)),o<=0||a<=0||!y||!y.length?null:H.createElement(qn,{className:It("recharts-cartesian-axis",c),ref:function(x){r.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),ii.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,a=It(i.className,"recharts-cartesian-axis-tick-value");return H.isValidElement(r)?o=H.cloneElement(r,or(or({},i),{},{className:a})):Pt(r)?o=r(or(or({},i),{},{className:a})):o=H.createElement(rb,sf({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(C.Component);n4(zh,"displayName","CartesianAxis");n4(zh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tHe=["x1","y1","x2","y2","key"],nHe=["offset"];function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function CU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CU(Object(n),!0).forEach(function(r){rHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rHe(t,e,n){return e=iHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iHe(t){var e=sHe(t,"string");return Wu(e)=="symbol"?e:e+""}function sHe(t,e){if(Wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cu.apply(this,arguments)}function NU(t,e){if(t==null)return{};var n=oHe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var aHe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,a=e.height,l=e.ry;return H.createElement("rect",{x:i,y:s,ry:l,width:o,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Gie(t,e){var n;if(H.isValidElement(t))n=H.cloneElement(t,e);else if(Pt(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,a=e.key,l=NU(e,tHe),c=Mt(l,!1);c.offset;var d=NU(c,nHe);n=H.createElement("line",cu({},d,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:a}))}return n}function lHe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=si(si({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return Gie(i,c)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function cHe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=si(si({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return Gie(i,c)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function uHe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,a=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=a.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==d[0]&&d.unshift(0);var h=d.map(function(m,g){var y=!d[g+1],b=y?i+o-m:d[g+1]-m;if(b<=0)return null;var x=g%e.length;return H.createElement("rect",{key:"react-".concat(g),y:m,x:r,height:b,width:s,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function dHe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,a=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(m){return Math.round(m+s-s)}).sort(function(m,g){return m-g});s!==d[0]&&d.unshift(0);var h=d.map(function(m,g){var y=!d[g+1],b=y?s+a-m:d[g+1]-m;if(b<=0)return null;var x=g%r.length;return H.createElement("rect",{key:"react-".concat(g),x:m,y:o,width:b,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var fHe=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return lie(t4(si(si(si({},zh.defaultProps),r),{},{ticks:Na(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},hHe=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return lie(t4(si(si(si({},zh.defaultProps),r),{},{ticks:Na(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},Vd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function G3(t){var e,n,r,i,s,o,a=XM(),l=ZM(),c=eqe(),d=si(si({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Vd.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Vd.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Vd.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Vd.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Vd.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Vd.verticalFill,x:_e(t.x)?t.x:c.left,y:_e(t.y)?t.y:c.top,width:_e(t.width)?t.width:c.width,height:_e(t.height)?t.height:c.height}),h=d.x,m=d.y,g=d.width,y=d.height,b=d.syncWithTicks,x=d.horizontalValues,S=d.verticalValues,N=XUe(),T=ZUe();if(!_e(g)||g<=0||!_e(y)||y<=0||!_e(h)||h!==+h||!_e(m)||m!==+m)return null;var j=d.verticalCoordinatesGenerator||fHe,P=d.horizontalCoordinatesGenerator||hHe,E=d.horizontalPoints,O=d.verticalPoints;if((!E||!E.length)&&Pt(P)){var _=x&&x.length,$=P({yAxis:T?si(si({},T),{},{ticks:_?x:T.ticks}):void 0,width:a,height:l,offset:c},_?!0:b);$a(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Wu($),"]")),Array.isArray($)&&(E=$)}if((!O||!O.length)&&Pt(j)){var B=S&&S.length,I=j({xAxis:N?si(si({},N),{},{ticks:B?S:N.ticks}):void 0,width:a,height:l,offset:c},B?!0:b);$a(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Wu(I),"]")),Array.isArray(I)&&(O=I)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(aHe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),H.createElement(lHe,cu({},d,{offset:c,horizontalPoints:E,xAxis:N,yAxis:T})),H.createElement(cHe,cu({},d,{offset:c,verticalPoints:O,xAxis:N,yAxis:T})),H.createElement(uHe,cu({},d,{horizontalPoints:E})),H.createElement(dHe,cu({},d,{verticalPoints:O})))}G3.displayName="CartesianGrid";var pHe=["type","layout","connectNulls","ref"],mHe=["key"];function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function PU(t,e){if(t==null)return{};var n=gHe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tm.apply(this,arguments)}function TU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TU(Object(n),!0).forEach(function(r){Js(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zd(t){return bHe(t)||xHe(t)||vHe(t)||yHe()}function yHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vHe(t,e){if(t){if(typeof t=="string")return Q3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q3(t,e)}}function xHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bHe(t){if(Array.isArray(t))return Q3(t)}function Q3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yie(r.key),r)}}function SHe(t,e,n){return e&&AU(t.prototype,e),n&&AU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CHe(t,e,n){return e=Rb(e),NHe(t,Qie()?Reflect.construct(e,n||[],Rb(t).constructor):e.apply(t,n))}function NHe(t,e){if(e&&(ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PHe(t)}function PHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qie=function(){return!!t})()}function Rb(t){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rb(t)}function THe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y3(t,e)}function Y3(t,e){return Y3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y3(t,e)}function Js(t,e,n){return e=Yie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yie(t){var e=AHe(t,"string");return ah(e)=="symbol"?e:e+""}function AHe(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xy=(function(t){function e(){var n;wHe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=CHe(this,e,[].concat(i)),Js(n,"state",{isAnimationFinished:!0,totalLength:0}),Js(n,"generateSimpleStrokeDasharray",function(o,a){return"".concat(a,"px ").concat(o-a,"px")}),Js(n,"getStrokeDasharray",function(o,a,l){var c=l.reduce(function(S,N){return S+N});if(!c)return n.generateSimpleStrokeDasharray(a,o);for(var d=Math.floor(o/c),h=o%c,m=a-o,g=[],y=0,b=0;y<l.length;b+=l[y],++y)if(b+l[y]>h){g=[].concat(zd(l.slice(0,y)),[h-b]);break}var x=g.length%2===0?[0,m]:[m];return[].concat(zd(e.repeat(l,d)),zd(g),x).map(function(S){return"".concat(S,"px")}).join(", ")}),Js(n,"id",qy("recharts-line-")),Js(n,"pathRef",function(o){n.mainCurve=o}),Js(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Js(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return THe(e,t),SHe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,a=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,h=$s(d,Yy);if(!h)return null;var m=function(b,x){return{x:b.x,y:b.y,value:b.value,errorVal:ls(b.payload,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(qn,g,h.map(function(y){return H.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,dataPointFormatter:m})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,d=a.dataKey,h=Mt(this.props,!1),m=Mt(l,!0),g=c.map(function(b,x){var S=Hi(Hi(Hi({key:"dot-".concat(x),r:3},h),m),{},{index:x,cx:b.x,cy:b.y,value:b.value,dataKey:d,payload:b.payload,points:c});return e.renderDotItem(l,S)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return H.createElement(qn,Tm({className:"recharts-line-dots",key:"dots"},y),g)}},{key:"renderCurveStatically",value:function(r,i,s,o){var a=this.props,l=a.type,c=a.layout,d=a.connectNulls;a.ref;var h=PU(a,pHe),m=Hi(Hi(Hi({},Mt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:l,layout:c,connectNulls:d});return H.createElement(T3,Tm({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.strokeDasharray,c=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,m=o.animationEasing,g=o.animationId,y=o.animateNewValues,b=o.width,x=o.height,S=this.state,N=S.prevPoints,T=S.totalLength;return H.createElement(Wa,{begin:d,duration:h,isActive:c,easing:m,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var P=j.t;if(N){var E=N.length/a.length,O=a.map(function(V,U){var L=Math.floor(U*E);if(N[L]){var z=N[L],F=to(z.x,V.x),q=to(z.y,V.y);return Hi(Hi({},V),{},{x:F(P),y:q(P)})}if(y){var M=to(b*2,V.x),D=to(x/2,V.y);return Hi(Hi({},V),{},{x:M(P),y:D(P)})}return Hi(Hi({},V),{},{x:V.x,y:V.y})});return s.renderCurveStatically(O,r,i)}var _=to(0,T),$=_(P),B;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});B=s.getStrokeDasharray($,T,I)}else B=s.generateSimpleStrokeDasharray(T,$);return s.renderCurveStatically(a,r,i,{strokeDasharray:B})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,a=s.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return a&&o&&o.length&&(!c&&d>0||!g2(c,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,c=i.xAxis,d=i.yAxis,h=i.top,m=i.left,g=i.width,y=i.height,b=i.isAnimationActive,x=i.id;if(s||!a||!a.length)return null;var S=this.state.isAnimationFinished,N=a.length===1,T=It("recharts-line",l),j=c&&c.allowDataOverflow,P=d&&d.allowDataOverflow,E=j||P,O=kt(x)?this.id:x,_=(r=Mt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},$=_.r,B=$===void 0?3:$,I=_.strokeWidth,V=I===void 0?2:I,U=ORe(o)?o:{},L=U.clipDot,z=L===void 0?!0:L,F=B*2+V;return H.createElement(qn,{className:T},j||P?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(O)},H.createElement("rect",{x:j?m:m-g/2,y:P?h:h-y/2,width:j?g:g*2,height:P?y:y*2})),!z&&H.createElement("clipPath",{id:"clipPath-dots-".concat(O)},H.createElement("rect",{x:m-F/2,y:h-F/2,width:g+F,height:y+F}))):null,!N&&this.renderCurve(E,O),this.renderErrorBar(E,O),(N||o)&&this.renderDots(E,z,O),(!b||S)&&ec.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(zd(r),[0]):r,o=[],a=0;a<i;++a)o=[].concat(zd(o),zd(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(H.isValidElement(r))s=H.cloneElement(r,i);else if(Pt(r))s=r(i);else{var o=i.key,a=PU(i,mHe),l=It("recharts-line-dot",typeof r!="boolean"?r.className:"");s=H.createElement(KM,Tm({key:o},a,{className:l}))}return s}}])})(C.PureComponent);Js(Xy,"displayName","Line");Js(Xy,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Lh.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Js(Xy,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,h=l.map(function(m,g){var y=ls(m,o);return d==="horizontal"?{x:ZV({axis:n,ticks:i,bandSize:a,entry:m,index:g}),y:kt(y)?null:r.scale(y),value:y,payload:m}:{x:kt(y)?null:n.scale(y),y:ZV({axis:r,ticks:s,bandSize:a,entry:m,index:g}),value:y,payload:m}});return Hi({points:h,layout:d},c)});function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function jHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EHe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jie(r.key),r)}}function kHe(t,e,n){return e&&EHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OHe(t,e,n){return e=Db(e),$He(t,Xie()?Reflect.construct(e,n||[],Db(t).constructor):e.apply(t,n))}function $He(t,e){if(e&&(lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _He(t)}function _He(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xie=function(){return!!t})()}function Db(t){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Db(t)}function MHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X3(t,e)}function X3(t,e){return X3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X3(t,e)}function Zie(t,e,n){return e=Jie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jie(t){var e=IHe(t,"string");return lh(e)=="symbol"?e:e+""}function IHe(t,e){if(lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Z3(){return Z3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z3.apply(this,arguments)}function RHe(t){var e=t.xAxisId,n=XM(),r=ZM(),i=Die(e);return i==null?null:C.createElement(zh,Z3({},i,{className:It("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Na(o,!0)}}))}var ch=(function(t){function e(){return jHe(this,e),OHe(this,e,arguments)}return MHe(e,t),kHe(e,[{key:"render",value:function(){return C.createElement(RHe,this.props)}}])})(C.Component);Zie(ch,"displayName","XAxis");Zie(ch,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function DHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LHe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nse(r.key),r)}}function FHe(t,e,n){return e&&LHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BHe(t,e,n){return e=Lb(e),VHe(t,ese()?Reflect.construct(e,n||[],Lb(t).constructor):e.apply(t,n))}function VHe(t,e){if(e&&(uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zHe(t)}function zHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ese(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ese=function(){return!!t})()}function Lb(t){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lb(t)}function UHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J3(t,e)}function J3(t,e){return J3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J3(t,e)}function tse(t,e,n){return e=nse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nse(t){var e=qHe(t,"string");return uh(e)=="symbol"?e:e+""}function qHe(t,e){if(uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eO(){return eO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eO.apply(this,arguments)}var HHe=function(e){var n=e.yAxisId,r=XM(),i=ZM(),s=Lie(n);return s==null?null:C.createElement(zh,eO({},s,{className:It("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Na(a,!0)}}))},dh=(function(t){function e(){return DHe(this,e),BHe(this,e,arguments)}return UHe(e,t),FHe(e,[{key:"render",value:function(){return C.createElement(HHe,this.props)}}])})(C.Component);tse(dh,"displayName","YAxis");tse(dh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function jU(t){return QHe(t)||GHe(t)||KHe(t)||WHe()}function WHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KHe(t,e){if(t){if(typeof t=="string")return tO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tO(t,e)}}function GHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QHe(t){if(Array.isArray(t))return tO(t)}function tO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nO=function(e,n,r,i,s){var o=$s(e,e4),a=$s(e,C2),l=[].concat(jU(o),jU(a)),c=$s(e,P2),d="".concat(i,"Id"),h=i[0],m=n;if(l.length&&(m=l.reduce(function(b,x){if(x.props[d]===r&&Vo(x.props,"extendDomain")&&_e(x.props[h])){var S=x.props[h];return[Math.min(b[0],S),Math.max(b[1],S)]}return b},m)),c.length){var g="".concat(h,"1"),y="".concat(h,"2");m=c.reduce(function(b,x){if(x.props[d]===r&&Vo(x.props,"extendDomain")&&_e(x.props[g])&&_e(x.props[y])){var S=x.props[g],N=x.props[y];return[Math.min(b[0],S,N),Math.max(b[1],S,N)]}return b},m)}return s&&s.length&&(m=s.reduce(function(b,x){return _e(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},m)),m},Dj={exports:{}},EU;function YHe(){return EU||(EU=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,h,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,h||l,m),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],g]:l._events[y].push(g):(l._events[y]=g,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)e.call(d,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,g=h.length,y=new Array(g);m<g;m++)y[m]=h[m].fn;return y},a.prototype.listenerCount=function(c){var d=n?n+c:c,h=this._events[d];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,d,h,m,g,y){var b=n?n+c:c;if(!this._events[b])return!1;var x=this._events[b],S=arguments.length,N,T;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),S){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,m),!0;case 5:return x.fn.call(x.context,d,h,m,g),!0;case 6:return x.fn.call(x.context,d,h,m,g,y),!0}for(T=1,N=new Array(S-1);T<S;T++)N[T-1]=arguments[T];x.fn.apply(x.context,N)}else{var j=x.length,P;for(T=0;T<j;T++)switch(x[T].once&&this.removeListener(c,x[T].fn,void 0,!0),S){case 1:x[T].fn.call(x[T].context);break;case 2:x[T].fn.call(x[T].context,d);break;case 3:x[T].fn.call(x[T].context,d,h);break;case 4:x[T].fn.call(x[T].context,d,h,m);break;default:if(!N)for(P=1,N=new Array(S-1);P<S;P++)N[P-1]=arguments[P];x[T].fn.apply(x[T].context,N)}}return!0},a.prototype.on=function(c,d,h){return s(this,c,d,h,!1)},a.prototype.once=function(c,d,h){return s(this,c,d,h,!0)},a.prototype.removeListener=function(c,d,h,m){var g=n?n+c:c;if(!this._events[g])return this;if(!d)return o(this,g),this;var y=this._events[g];if(y.fn)y.fn===d&&(!m||y.once)&&(!h||y.context===h)&&o(this,g);else{for(var b=0,x=[],S=y.length;b<S;b++)(y[b].fn!==d||m&&!y[b].once||h&&y[b].context!==h)&&x.push(y[b]);x.length?this._events[g]=x.length===1?x[0]:x:o(this,g)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Dj)),Dj.exports}var XHe=YHe();const ZHe=Zt(XHe);var Lj=new ZHe,Fj="recharts.syncMouseEvents";function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function JHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rse(r.key),r)}}function tWe(t,e,n){return e&&eWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bj(t,e,n){return e=rse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rse(t){var e=nWe(t,"string");return uy(e)=="symbol"?e:e+""}function nWe(t,e){if(uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rWe=(function(){function t(){JHe(this,t),Bj(this,"activeIndex",0),Bj(this,"coordinateList",[]),Bj(this,"layout","horizontal")}return tWe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,a=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,d=n.offset,h=d===void 0?null:d,m=n.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=s+l+c,m=o+this.offset.top+a/2+d;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])})();function iWe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&_e(r)&&_e(i))return!0}return!1}function sWe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function ise(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=Ur(e,n,r,i),a=Ur(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function oWe(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,h=e.angle,m=Ur(a,l,c,h),g=Ur(a,l,d,h);r=m.x,i=m.y,s=g.x,o=g.y}else return ise(e);return[{x:r,y:i},{x:s,y:o}]}function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function kU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kU(Object(n),!0).forEach(function(r){aWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aWe(t,e,n){return e=lWe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lWe(t){var e=cWe(t,"string");return dy(e)=="symbol"?e:e+""}function cWe(t,e){if(dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uWe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,m=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!s||!o||m!=="ScatterChart"&&i!=="axis")return null;var y,b=T3;if(m==="ScatterChart")y=o,b=lze;else if(m==="BarChart")y=sWe(h,o,l,d),b=WM;else if(h==="radial"){var x=ise(o),S=x.cx,N=x.cy,T=x.radius,j=x.startAngle,P=x.endAngle;y={cx:S,cy:N,startAngle:j,endAngle:P,innerRadius:T,outerRadius:T},b=hie}else y={points:oWe(h,o,l)},b=T3;var E=W0(W0(W0(W0({stroke:"#ccc",pointerEvents:"none"},l),y),Mt(g,!1)),{},{payload:a,payloadIndex:c,className:It("recharts-tooltip-cursor",g.className)});return C.isValidElement(g)?C.cloneElement(g,E):C.createElement(b,E)}var dWe=["item"],fWe=["children","className","width","height","style","compact","title","desc"];function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function of(){return of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},of.apply(this,arguments)}function OU(t,e){return mWe(t)||pWe(t,e)||ose(t,e)||hWe()}function hWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pWe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function mWe(t){if(Array.isArray(t))return t}function $U(t,e){if(t==null)return{};var n=gWe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ase(r.key),r)}}function xWe(t,e,n){return e&&vWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bWe(t,e,n){return e=Fb(e),wWe(t,sse()?Reflect.construct(e,n||[],Fb(t).constructor):e.apply(t,n))}function wWe(t,e){if(e&&(fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SWe(t)}function SWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sse(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sse=function(){return!!t})()}function Fb(t){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fb(t)}function CWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rO(t,e)}function rO(t,e){return rO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rO(t,e)}function hh(t){return TWe(t)||PWe(t)||ose(t)||NWe()}function NWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ose(t,e){if(t){if(typeof t=="string")return iO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iO(t,e)}}function PWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TWe(t){if(Array.isArray(t))return iO(t)}function iO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function de(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_U(Object(n),!0).forEach(function(r){rt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_U(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rt(t,e,n){return e=ase(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ase(t){var e=AWe(t,"string");return fh(e)=="symbol"?e:e+""}function AWe(t,e){if(fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jWe={xAxis:["bottom","top"],yAxis:["left","right"]},EWe={width:"100%",height:"100%"},lse={x:0,y:0};function K0(t){return t}var kWe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},OWe=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return de(de(de({},i),Ur(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,c=i.angle;return de(de(de({},i),Ur(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return lse},T2=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(hh(a),hh(c)):a},[]);return o.length>0?o:e&&e.length&&_e(i)&&_e(s)?e.slice(i,s+1):[]};function cse(t){return t==="number"?[0,"auto"]:void 0}var sO=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=T2(n,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(l,c){var d,h=(d=c.props.data)!==null&&d!==void 0?d:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var g=h===void 0?a:h;m=q1(g,o.dataKey,i)}else m=h&&h[r]||a[r];return m?[].concat(hh(l),[uie(c,m)]):l},[])},MU=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=kWe(s,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=kFe(o,a,c,l);if(d>=0&&c){var h=c[d]&&c[d].value,m=sO(e,n,d,h),g=OWe(r,a,d,s);return{activeTooltipIndex:d,activeLabel:h,activePayload:m,activeCoordinate:g}}return null},$We=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,h=e.children,m=e.stackOffset,g=aie(d,s);return r.reduce(function(y,b){var x,S=b.type.defaultProps!==void 0?de(de({},b.type.defaultProps),b.props):b.props,N=S.type,T=S.dataKey,j=S.allowDataOverflow,P=S.allowDuplicatedCategory,E=S.scale,O=S.ticks,_=S.includeHidden,$=S[o];if(y[$])return y;var B=T2(e.data,{graphicalItems:i.filter(function(Y){var le,pe=o in Y.props?Y.props[o]:(le=Y.type.defaultProps)===null||le===void 0?void 0:le[o];return pe===$}),dataStartIndex:l,dataEndIndex:c}),I=B.length,V,U,L;iWe(S.domain,j,N)&&(V=w3(S.domain,null,j),g&&(N==="number"||E!=="auto")&&(L=Nm(B,T,"category")));var z=cse(N);if(!V||V.length===0){var F,q=(F=S.domain)!==null&&F!==void 0?F:z;if(T){if(V=Nm(B,T,N),N==="category"&&g){var M=wRe(V);P&&M?(U=V,V=Tb(0,I)):P||(V=nz(q,V,b).reduce(function(Y,le){return Y.indexOf(le)>=0?Y:[].concat(hh(Y),[le])},[]))}else if(N==="category")P?V=V.filter(function(Y){return Y!==""&&!kt(Y)}):V=nz(q,V,b).reduce(function(Y,le){return Y.indexOf(le)>=0||le===""||kt(le)?Y:[].concat(hh(Y),[le])},[]);else if(N==="number"){var D=IFe(B,i.filter(function(Y){var le,pe,he=o in Y.props?Y.props[o]:(le=Y.type.defaultProps)===null||le===void 0?void 0:le[o],Ae="hide"in Y.props?Y.props.hide:(pe=Y.type.defaultProps)===null||pe===void 0?void 0:pe.hide;return he===$&&(_||!Ae)}),T,s,d);D&&(V=D)}g&&(N==="number"||E!=="auto")&&(L=Nm(B,T,"category"))}else g?V=Tb(0,I):a&&a[$]&&a[$].hasStack&&N==="number"?V=m==="expand"?[0,1]:cie(a[$].stackGroups,l,c):V=oie(B,i.filter(function(Y){var le=o in Y.props?Y.props[o]:Y.type.defaultProps[o],pe="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return le===$&&(_||!pe)}),N,d,!0);if(N==="number")V=nO(h,V,$,s,O),q&&(V=w3(q,V,j));else if(N==="category"&&q){var Q=q,W=V.every(function(Y){return Q.indexOf(Y)>=0});W&&(V=Q)}}return de(de({},y),{},rt({},$,de(de({},S),{},{axisType:s,domain:V,categoricalDomain:L,duplicateDomain:U,originalDomain:(x=S.domain)!==null&&x!==void 0?x:z,isCategorical:g,layout:d})))},{})},_We=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,h=e.children,m=T2(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),g=m.length,y=aie(d,s),b=-1;return r.reduce(function(x,S){var N=S.type.defaultProps!==void 0?de(de({},S.type.defaultProps),S.props):S.props,T=N[o],j=cse("number");if(!x[T]){b++;var P;return y?P=Tb(0,g):a&&a[T]&&a[T].hasStack?(P=cie(a[T].stackGroups,l,c),P=nO(h,P,T,s)):(P=w3(j,oie(m,r.filter(function(E){var O,_,$=o in E.props?E.props[o]:(O=E.type.defaultProps)===null||O===void 0?void 0:O[o],B="hide"in E.props?E.props.hide:(_=E.type.defaultProps)===null||_===void 0?void 0:_.hide;return $===T&&!B}),"number",d),i.defaultProps.allowDataOverflow),P=nO(h,P,T,s)),de(de({},x),{},rt({},T,de(de({axisType:s},i.defaultProps),{},{hide:!0,orientation:Os(jWe,"".concat(s,".").concat(b%2),null),domain:P,originalDomain:j,isCategorical:y,layout:d})))}return x},{})},MWe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,h="".concat(i,"Id"),m=$s(d,s),g={};return m&&m.length?g=$We(e,{axes:m,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(g=_We(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),g},IWe=function(e){var n=Vl(e),r=Na(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:vM(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:yb(n,r)}},IU=function(e){var n=e.children,r=e.defaultShowTooltip,i=Gi(n,th),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},RWe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Oa(n&&n.type);return r&&r.indexOf("Bar")>=0})},RU=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},DWe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,c=r.width,d=r.height,h=r.children,m=r.margin||{},g=Gi(h,th),y=Gi(h,bf),b=Object.keys(l).reduce(function(P,E){var O=l[E],_=O.orientation;return!O.mirror&&!O.hide?de(de({},P),{},rt({},_,P[_]+O.width)):P},{left:m.left||0,right:m.right||0}),x=Object.keys(o).reduce(function(P,E){var O=o[E],_=O.orientation;return!O.mirror&&!O.hide?de(de({},P),{},rt({},_,Os(P,"".concat(_))+O.height)):P},{top:m.top||0,bottom:m.bottom||0}),S=de(de({},x),b),N=S.bottom;g&&(S.bottom+=g.props.height||th.defaultProps.height),y&&n&&(S=_Fe(S,i,r,n));var T=c-S.left-S.right,j=d-S.top-S.bottom;return de(de({brushBottom:N},S),{},{width:Math.max(T,0),height:Math.max(j,0)})},LWe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},use=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,m=function(S,N){var T=N.graphicalItems,j=N.stackGroups,P=N.offset,E=N.updateId,O=N.dataStartIndex,_=N.dataEndIndex,$=S.barSize,B=S.layout,I=S.barGap,V=S.barCategoryGap,U=S.maxBarSize,L=RU(B),z=L.numericAxisName,F=L.cateAxisName,q=RWe(T),M=[];return T.forEach(function(D,Q){var W=T2(S.data,{graphicalItems:[D],dataStartIndex:O,dataEndIndex:_}),Y=D.type.defaultProps!==void 0?de(de({},D.type.defaultProps),D.props):D.props,le=Y.dataKey,pe=Y.maxBarSize,he=Y["".concat(z,"Id")],Ae=Y["".concat(F,"Id")],me={},Se=l.reduce(function(Fn,X){var te=N["".concat(X.axisType,"Map")],ie=Y["".concat(X.axisType,"Id")];te&&te[ie]||X.axisType==="zAxis"||Hu();var Ie=te[ie];return de(de({},Fn),{},rt(rt({},X.axisType,Ie),"".concat(X.axisType,"Ticks"),Na(Ie)))},me),ue=Se[F],Pe=Se["".concat(F,"Ticks")],Oe=j&&j[he]&&j[he].hasStack&&KFe(D,j[he].stackGroups),oe=Oa(D.type).indexOf("Bar")>=0,lt=yb(ue,Pe),ae=[],yt=q&&OFe({barSize:$,stackGroups:j,totalSize:LWe(Se,F)});if(oe){var ot,Ut,qt=kt(pe)?U:pe,gr=(ot=(Ut=yb(ue,Pe,!0))!==null&&Ut!==void 0?Ut:qt)!==null&&ot!==void 0?ot:0;ae=$Fe({barGap:I,barCategoryGap:V,bandSize:gr!==lt?gr:lt,sizeList:yt[Ae],maxBarSize:qt}),gr!==lt&&(ae=ae.map(function(Fn){return de(de({},Fn),{},{position:de(de({},Fn.position),{},{offset:Fn.position.offset-gr/2})})}))}var yr=D&&D.type&&D.type.getComposedData;yr&&M.push({props:de(de({},yr(de(de({},Se),{},{displayedData:W,props:S,dataKey:le,item:D,bandSize:lt,barPosition:ae,offset:P,stackedData:Oe,layout:B,dataStartIndex:O,dataEndIndex:_}))),{},rt(rt(rt({key:D.key||"item-".concat(Q)},z,Se[z]),F,Se[F]),"animationId",E)),childIndex:MRe(D,S.children),item:D})}),M},g=function(S,N){var T=S.props,j=S.dataStartIndex,P=S.dataEndIndex,E=S.updateId;if(!m7({props:T}))return null;var O=T.children,_=T.layout,$=T.stackOffset,B=T.data,I=T.reverseStackOrder,V=RU(_),U=V.numericAxisName,L=V.cateAxisName,z=$s(O,r),F=qFe(B,z,"".concat(U,"Id"),"".concat(L,"Id"),$,I),q=l.reduce(function(Y,le){var pe="".concat(le.axisType,"Map");return de(de({},Y),{},rt({},pe,MWe(T,de(de({},le),{},{graphicalItems:z,stackGroups:le.axisType===U&&F,dataStartIndex:j,dataEndIndex:P}))))},{}),M=DWe(de(de({},q),{},{props:T,graphicalItems:z}),N?.legendBBox);Object.keys(q).forEach(function(Y){q[Y]=d(T,q[Y],M,Y.replace("Map",""),n)});var D=q["".concat(L,"Map")],Q=IWe(D),W=m(T,de(de({},q),{},{dataStartIndex:j,dataEndIndex:P,updateId:E,graphicalItems:z,stackGroups:F,offset:M}));return de(de({formattedGraphicalItems:W,graphicalItems:z,offset:M,stackGroups:F},Q),q)},y=(function(x){function S(N){var T,j,P;return yWe(this,S),P=bWe(this,S,[N]),rt(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),rt(P,"accessibilityManager",new rWe),rt(P,"handleLegendBBoxUpdate",function(E){if(E){var O=P.state,_=O.dataStartIndex,$=O.dataEndIndex,B=O.updateId;P.setState(de({legendBBox:E},g({props:P.props,dataStartIndex:_,dataEndIndex:$,updateId:B},de(de({},P.state),{},{legendBBox:E}))))}}),rt(P,"handleReceiveSyncEvent",function(E,O,_){if(P.props.syncId===E){if(_===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(O)}}),rt(P,"handleBrushChange",function(E){var O=E.startIndex,_=E.endIndex;if(O!==P.state.dataStartIndex||_!==P.state.dataEndIndex){var $=P.state.updateId;P.setState(function(){return de({dataStartIndex:O,dataEndIndex:_},g({props:P.props,dataStartIndex:O,dataEndIndex:_,updateId:$},P.state))}),P.triggerSyncEvent({dataStartIndex:O,dataEndIndex:_})}}),rt(P,"handleMouseEnter",function(E){var O=P.getMouseInfo(E);if(O){var _=de(de({},O),{},{isTooltipActive:!0});P.setState(_),P.triggerSyncEvent(_);var $=P.props.onMouseEnter;Pt($)&&$(_,E)}}),rt(P,"triggeredAfterMouseMove",function(E){var O=P.getMouseInfo(E),_=O?de(de({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(_),P.triggerSyncEvent(_);var $=P.props.onMouseMove;Pt($)&&$(_,E)}),rt(P,"handleItemMouseEnter",function(E){P.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),rt(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),rt(P,"handleMouseMove",function(E){E.persist(),P.throttleTriggeredAfterMouseMove(E)}),rt(P,"handleMouseLeave",function(E){P.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};P.setState(O),P.triggerSyncEvent(O);var _=P.props.onMouseLeave;Pt(_)&&_(O,E)}),rt(P,"handleOuterEvent",function(E){var O=_Re(E),_=Os(P.props,"".concat(O));if(O&&Pt(_)){var $,B;/.*touch.*/i.test(O)?B=P.getMouseInfo(E.changedTouches[0]):B=P.getMouseInfo(E),_(($=B)!==null&&$!==void 0?$:{},E)}}),rt(P,"handleClick",function(E){var O=P.getMouseInfo(E);if(O){var _=de(de({},O),{},{isTooltipActive:!0});P.setState(_),P.triggerSyncEvent(_);var $=P.props.onClick;Pt($)&&$(_,E)}}),rt(P,"handleMouseDown",function(E){var O=P.props.onMouseDown;if(Pt(O)){var _=P.getMouseInfo(E);O(_,E)}}),rt(P,"handleMouseUp",function(E){var O=P.props.onMouseUp;if(Pt(O)){var _=P.getMouseInfo(E);O(_,E)}}),rt(P,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),rt(P,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&P.handleMouseDown(E.changedTouches[0])}),rt(P,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&P.handleMouseUp(E.changedTouches[0])}),rt(P,"handleDoubleClick",function(E){var O=P.props.onDoubleClick;if(Pt(O)){var _=P.getMouseInfo(E);O(_,E)}}),rt(P,"handleContextMenu",function(E){var O=P.props.onContextMenu;if(Pt(O)){var _=P.getMouseInfo(E);O(_,E)}}),rt(P,"triggerSyncEvent",function(E){P.props.syncId!==void 0&&Lj.emit(Fj,P.props.syncId,E,P.eventEmitterSymbol)}),rt(P,"applySyncEvent",function(E){var O=P.props,_=O.layout,$=O.syncMethod,B=P.state.updateId,I=E.dataStartIndex,V=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)P.setState(de({dataStartIndex:I,dataEndIndex:V},g({props:P.props,dataStartIndex:I,dataEndIndex:V,updateId:B},P.state)));else if(E.activeTooltipIndex!==void 0){var U=E.chartX,L=E.chartY,z=E.activeTooltipIndex,F=P.state,q=F.offset,M=F.tooltipTicks;if(!q)return;if(typeof $=="function")z=$(M,E);else if($==="value"){z=-1;for(var D=0;D<M.length;D++)if(M[D].value===E.activeLabel){z=D;break}}var Q=de(de({},q),{},{x:q.left,y:q.top}),W=Math.min(U,Q.x+Q.width),Y=Math.min(L,Q.y+Q.height),le=M[z]&&M[z].value,pe=sO(P.state,P.props.data,z),he=M[z]?{x:_==="horizontal"?M[z].coordinate:W,y:_==="horizontal"?Y:M[z].coordinate}:lse;P.setState(de(de({},E),{},{activeLabel:le,activeCoordinate:he,activePayload:pe,activeTooltipIndex:z}))}else P.setState(E)}),rt(P,"renderCursor",function(E){var O,_=P.state,$=_.isTooltipActive,B=_.activeCoordinate,I=_.activePayload,V=_.offset,U=_.activeTooltipIndex,L=_.tooltipAxisBandSize,z=P.getTooltipEventType(),F=(O=E.props.active)!==null&&O!==void 0?O:$,q=P.props.layout,M=E.key||"_recharts-cursor";return H.createElement(uWe,{key:M,activeCoordinate:B,activePayload:I,activeTooltipIndex:U,chartName:n,element:E,isActive:F,layout:q,offset:V,tooltipAxisBandSize:L,tooltipEventType:z})}),rt(P,"renderPolarAxis",function(E,O,_){var $=Os(E,"type.axisType"),B=Os(P.state,"".concat($,"Map")),I=E.type.defaultProps,V=I!==void 0?de(de({},I),E.props):E.props,U=B&&B[V["".concat($,"Id")]];return C.cloneElement(E,de(de({},U),{},{className:It($,U.className),key:E.key||"".concat(O,"-").concat(_),ticks:Na(U,!0)}))}),rt(P,"renderPolarGrid",function(E){var O=E.props,_=O.radialLines,$=O.polarAngles,B=O.polarRadius,I=P.state,V=I.radiusAxisMap,U=I.angleAxisMap,L=Vl(V),z=Vl(U),F=z.cx,q=z.cy,M=z.innerRadius,D=z.outerRadius;return C.cloneElement(E,{polarAngles:Array.isArray($)?$:Na(z,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(B)?B:Na(L,!0).map(function(Q){return Q.coordinate}),cx:F,cy:q,innerRadius:M,outerRadius:D,key:E.key||"polar-grid",radialLines:_})}),rt(P,"renderLegend",function(){var E=P.state.formattedGraphicalItems,O=P.props,_=O.children,$=O.width,B=O.height,I=P.props.margin||{},V=$-(I.left||0)-(I.right||0),U=iie({children:_,formattedGraphicalItems:E,legendWidth:V,legendContent:c});if(!U)return null;var L=U.item,z=$U(U,dWe);return C.cloneElement(L,de(de({},z),{},{chartWidth:$,chartHeight:B,margin:I,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),rt(P,"renderTooltip",function(){var E,O=P.props,_=O.children,$=O.accessibilityLayer,B=Gi(_,Xs);if(!B)return null;var I=P.state,V=I.isTooltipActive,U=I.activeCoordinate,L=I.activePayload,z=I.activeLabel,F=I.offset,q=(E=B.props.active)!==null&&E!==void 0?E:V;return C.cloneElement(B,{viewBox:de(de({},F),{},{x:F.left,y:F.top}),active:q,label:z,payload:q?L:[],coordinate:U,accessibilityLayer:$})}),rt(P,"renderBrush",function(E){var O=P.props,_=O.margin,$=O.data,B=P.state,I=B.offset,V=B.dataStartIndex,U=B.dataEndIndex,L=B.updateId;return C.cloneElement(E,{key:E.key||"_recharts-brush",onChange:U0(P.handleBrushChange,E.props.onChange),data:$,x:_e(E.props.x)?E.props.x:I.left,y:_e(E.props.y)?E.props.y:I.top+I.height+I.brushBottom-(_.bottom||0),width:_e(E.props.width)?E.props.width:I.width,startIndex:V,endIndex:U,updateId:"brush-".concat(L)})}),rt(P,"renderReferenceElement",function(E,O,_){if(!E)return null;var $=P,B=$.clipPathId,I=P.state,V=I.xAxisMap,U=I.yAxisMap,L=I.offset,z=E.type.defaultProps||{},F=E.props,q=F.xAxisId,M=q===void 0?z.xAxisId:q,D=F.yAxisId,Q=D===void 0?z.yAxisId:D;return C.cloneElement(E,{key:E.key||"".concat(O,"-").concat(_),xAxis:V[M],yAxis:U[Q],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:B})}),rt(P,"renderActivePoints",function(E){var O=E.item,_=E.activePoint,$=E.basePoint,B=E.childIndex,I=E.isRange,V=[],U=O.props.key,L=O.item.type.defaultProps!==void 0?de(de({},O.item.type.defaultProps),O.item.props):O.item.props,z=L.activeDot,F=L.dataKey,q=de(de({index:B,dataKey:F,cx:_.x,cy:_.y,r:4,fill:HM(O.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Mt(z,!1)),H1(z));return V.push(S.renderActiveDot(z,q,"".concat(U,"-activePoint-").concat(B))),$?V.push(S.renderActiveDot(z,de(de({},q),{},{cx:$.x,cy:$.y}),"".concat(U,"-basePoint-").concat(B))):I&&V.push(null),V}),rt(P,"renderGraphicChild",function(E,O,_){var $=P.filterFormatItem(E,O,_);if(!$)return null;var B=P.getTooltipEventType(),I=P.state,V=I.isTooltipActive,U=I.tooltipAxis,L=I.activeTooltipIndex,z=I.activeLabel,F=P.props.children,q=Gi(F,Xs),M=$.props,D=M.points,Q=M.isRange,W=M.baseLine,Y=$.item.type.defaultProps!==void 0?de(de({},$.item.type.defaultProps),$.item.props):$.item.props,le=Y.activeDot,pe=Y.hide,he=Y.activeBar,Ae=Y.activeShape,me=!!(!pe&&V&&q&&(le||he||Ae)),Se={};B!=="axis"&&q&&q.props.trigger==="click"?Se={onClick:U0(P.handleItemMouseEnter,E.props.onClick)}:B!=="axis"&&(Se={onMouseLeave:U0(P.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:U0(P.handleItemMouseEnter,E.props.onMouseEnter)});var ue=C.cloneElement(E,de(de({},$.props),Se));function Pe(X){return typeof U.dataKey=="function"?U.dataKey(X.payload):null}if(me)if(L>=0){var Oe,oe;if(U.dataKey&&!U.allowDuplicatedCategory){var lt=typeof U.dataKey=="function"?Pe:"payload.".concat(U.dataKey.toString());Oe=q1(D,lt,z),oe=Q&&W&&q1(W,lt,z)}else Oe=D?.[L],oe=Q&&W&&W[L];if(Ae||he){var ae=E.props.activeIndex!==void 0?E.props.activeIndex:L;return[C.cloneElement(E,de(de(de({},$.props),Se),{},{activeIndex:ae})),null,null]}if(!kt(Oe))return[ue].concat(hh(P.renderActivePoints({item:$,activePoint:Oe,basePoint:oe,childIndex:L,isRange:Q})))}else{var yt,ot=(yt=P.getItemByXY(P.state.activeCoordinate))!==null&&yt!==void 0?yt:{graphicalItem:ue},Ut=ot.graphicalItem,qt=Ut.item,gr=qt===void 0?E:qt,yr=Ut.childIndex,Fn=de(de(de({},$.props),Se),{},{activeIndex:yr});return[C.cloneElement(gr,Fn),null,null]}return Q?[ue,null,null]:[ue,null]}),rt(P,"renderCustomized",function(E,O,_){return C.cloneElement(E,de(de({key:"recharts-customized-".concat(_)},P.props),P.state))}),rt(P,"renderMap",{CartesianGrid:{handler:K0,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:K0},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:K0},YAxis:{handler:K0},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((T=N.id)!==null&&T!==void 0?T:qy("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=ire(P.triggeredAfterMouseMove,(j=N.throttleDelay)!==null&&j!==void 0?j:1e3/60),P.state={},P}return CWe(S,x),xWe(S,[{key:"componentDidMount",value:function(){var T,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,j=T.children,P=T.data,E=T.height,O=T.layout,_=Gi(j,Xs);if(_){var $=_.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,I=sO(this.state,P,$,B),V=this.state.tooltipTicks[$].coordinate,U=(this.state.offset.top+E)/2,L=O==="horizontal",z=L?{x:V,y:U}:{y:V,x:U},F=this.state.formattedGraphicalItems.find(function(M){var D=M.item;return D.type.name==="Scatter"});F&&(z=de(de({},z),F.props.points[$].tooltipPosition),I=F.props.points[$].tooltipPayload);var q={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:B,activePayload:I,activeCoordinate:z};this.setState(q),this.renderCursor(_),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var P,E;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(T){Uk([Gi(T.children,Xs)],[Gi(this.props.children,Xs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=Gi(this.props.children,Xs);if(T&&typeof T.props.shared=="boolean"){var j=T.props.shared?"axis":"item";return a.indexOf(j)>=0?j:s}return s}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var j=this.container,P=j.getBoundingClientRect(),E=b6e(P),O={chartX:Math.round(T.pageX-E.left),chartY:Math.round(T.pageY-E.top)},_=P.width/j.offsetWidth||1,$=this.inRange(O.chartX,O.chartY,_);if(!$)return null;var B=this.state,I=B.xAxisMap,V=B.yAxisMap,U=this.getTooltipEventType(),L=MU(this.state,this.props.data,this.props.layout,$);if(U!=="axis"&&I&&V){var z=Vl(I).scale,F=Vl(V).scale,q=z&&z.invert?z.invert(O.chartX):null,M=F&&F.invert?F.invert(O.chartY):null;return de(de({},O),{},{xValue:q,yValue:M},L)}return L?de(de({},O),L):null}},{key:"inRange",value:function(T,j){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,O=T/P,_=j/P;if(E==="horizontal"||E==="vertical"){var $=this.state.offset,B=O>=$.left&&O<=$.left+$.width&&_>=$.top&&_<=$.top+$.height;return B?{x:O,y:_}:null}var I=this.state,V=I.angleAxisMap,U=I.radiusAxisMap;if(V&&U){var L=Vl(V);return sz({x:O,y:_},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,j=this.getTooltipEventType(),P=Gi(T,Xs),E={};P&&j==="axis"&&(P.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=H1(this.props,this.handleOuterEvent);return de(de({},O),E)}},{key:"addListener",value:function(){Lj.on(Fj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Lj.removeListener(Fj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,j,P){for(var E=this.state.formattedGraphicalItems,O=0,_=E.length;O<_;O++){var $=E[O];if($.item===T||$.props.key===T.key||j===Oa($.item.type)&&P===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,j=this.state.offset,P=j.left,E=j.top,O=j.height,_=j.width;return H.createElement("defs",null,H.createElement("clipPath",{id:T},H.createElement("rect",{x:P,y:E,height:O,width:_})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(j,P){var E=OU(P,2),O=E[0],_=E[1];return de(de({},j),{},rt({},O,_.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(j,P){var E=OU(P,2),O=E[0],_=E[1];return de(de({},j),{},rt({},O,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[T])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(T){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[T])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(T){var j=this.state,P=j.formattedGraphicalItems,E=j.activeItem;if(P&&P.length)for(var O=0,_=P.length;O<_;O++){var $=P[O],B=$.props,I=$.item,V=I.type.defaultProps!==void 0?de(de({},I.type.defaultProps),I.props):I.props,U=Oa(I.type);if(U==="Bar"){var L=(B.data||[]).find(function(M){return ZVe(T,M)});if(L)return{graphicalItem:$,payload:L}}else if(U==="RadialBar"){var z=(B.data||[]).find(function(M){return sz(T,M)});if(z)return{graphicalItem:$,payload:z}}else if(x2($,E)||b2($,E)||sy($,E)){var F=zze({graphicalItem:$,activeTooltipItem:E,itemData:V.data}),q=V.activeIndex===void 0?F:V.activeIndex;return{graphicalItem:de(de({},$),{},{childIndex:q}),payload:sy($,E)?V.data[F]:$.props.data[F]}}}return null}},{key:"render",value:function(){var T=this;if(!m7(this))return null;var j=this.props,P=j.children,E=j.className,O=j.width,_=j.height,$=j.style,B=j.compact,I=j.title,V=j.desc,U=$U(j,fWe),L=Mt(U,!1);if(B)return H.createElement(fU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(Hk,of({},L,{width:O,height:_,title:I,desc:V}),this.renderClipPath(),y7(P,this.renderMap)));if(this.props.accessibilityLayer){var z,F;L.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,L.role=(F=this.props.role)!==null&&F!==void 0?F:"application",L.onKeyDown=function(M){T.accessibilityManager.keyboardEvent(M)},L.onFocus=function(){T.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return H.createElement(fU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",of({className:It("recharts-wrapper",E),style:de({position:"relative",cursor:"default",width:O,height:_},$)},q,{ref:function(D){T.container=D}}),H.createElement(Hk,of({},L,{width:O,height:_,title:I,desc:V,style:EWe}),this.renderClipPath(),y7(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(C.Component);rt(y,"displayName",n),rt(y,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),rt(y,"getDerivedStateFromProps",function(x,S){var N=x.dataKey,T=x.data,j=x.children,P=x.width,E=x.height,O=x.layout,_=x.stackOffset,$=x.margin,B=S.dataStartIndex,I=S.dataEndIndex;if(S.updateId===void 0){var V=IU(x);return de(de(de({},V),{},{updateId:0},g(de(de({props:x},V),{},{updateId:0}),S)),{},{prevDataKey:N,prevData:T,prevWidth:P,prevHeight:E,prevLayout:O,prevStackOffset:_,prevMargin:$,prevChildren:j})}if(N!==S.prevDataKey||T!==S.prevData||P!==S.prevWidth||E!==S.prevHeight||O!==S.prevLayout||_!==S.prevStackOffset||!xf($,S.prevMargin)){var U=IU(x),L={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},z=de(de({},MU(S,T,O)),{},{updateId:S.updateId+1}),F=de(de(de({},U),L),z);return de(de(de({},F),g(de({props:x},F),S)),{},{prevDataKey:N,prevData:T,prevWidth:P,prevHeight:E,prevLayout:O,prevStackOffset:_,prevMargin:$,prevChildren:j})}if(!Uk(j,S.prevChildren)){var q,M,D,Q,W=Gi(j,th),Y=W&&(q=(M=W.props)===null||M===void 0?void 0:M.startIndex)!==null&&q!==void 0?q:B,le=W&&(D=(Q=W.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&D!==void 0?D:I,pe=Y!==B||le!==I,he=!kt(T),Ae=he&&!pe?S.updateId:S.updateId+1;return de(de({updateId:Ae},g(de(de({props:x},S),{},{updateId:Ae,dataStartIndex:Y,dataEndIndex:le}),S)),{},{prevChildren:j,dataStartIndex:Y,dataEndIndex:le})}return null}),rt(y,"renderActiveDot",function(x,S,N){var T;return C.isValidElement(x)?T=C.cloneElement(x,S):Pt(x)?T=x(S):T=H.createElement(KM,S),H.createElement(qn,{className:"recharts-active-dot",key:N},T)});var b=C.forwardRef(function(S,N){return H.createElement(y,of({},S,{ref:N}))});return b.displayName=y.displayName,b},FWe=use({chartName:"LineChart",GraphicalChild:Xy,axisComponents:[{axisType:"xAxis",AxisComp:ch},{axisType:"yAxis",AxisComp:dh}],formatAxisMap:Eie}),BWe=use({chartName:"BarChart",GraphicalChild:rd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ch},{axisType:"yAxis",AxisComp:dh}],formatAxisMap:Eie});function VWe(){const{data:t,isLoading:e}=Ka(),{data:n,isLoading:r}=Gme(),[i,s]=C.useState(),{data:o,isLoading:a}=Kme(i);if(e||r)return u.jsx("div",{className:"min-h-[400px] flex items-center justify-center",children:u.jsx(mt,{className:"w-8 h-8 animate-spin text-primary"})});const l=o?.categoryPerformance?Object.entries(o.categoryPerformance).map(([c,d])=>({name:c,accuracy:d.total>0?Math.round(d.correct/d.total*100):0,correct:d.correct,total:d.total,avgTime:d.avgTime})):[];return u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Performance Reports"}),u.jsx("p",{className:"text-muted-foreground",children:"Track progress and identify areas for improvement"})]})}),n&&n.length>0&&u.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map(c=>u.jsxs(Ye,{className:"hover-elevate cursor-pointer",onClick:()=>s(c.id),"data-testid":`card-student-summary-${c.id}`,children:[u.jsx(jt,{className:"pb-2",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(_t,{className:"text-lg",children:c.firstName}),c.weakAreasCount>0&&u.jsxs(Ft,{variant:"outline",className:"text-amber-600 border-amber-300",children:[c.weakAreasCount," areas to improve"]})]})}),u.jsx(Je,{children:u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-2xl font-bold text-primary",children:c.completedTests}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Tests Done"})]}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[c.totalQuestions>0?Math.round(c.correctAnswers/c.totalQuestions*100):0,"%"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Accuracy"})]}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[c.averageTimePerQuestion,"s"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Time"})]})]})})]},c.id))}),u.jsx(Ye,{children:u.jsx(jt,{children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Io,{className:"w-5 h-5 text-muted-foreground"}),u.jsxs(nn,{value:i,onValueChange:s,children:[u.jsx(Jt,{className:"w-[200px]","data-testid":"select-student",children:u.jsx(rn,{placeholder:"Select a student"})}),u.jsx(en,{children:t?.map(c=>u.jsx(He,{value:c.id,"data-testid":`option-student-${c.id}`,children:c.firstName||c.email?.split("@")[0]},c.id))})]})]})})}),i&&u.jsx(u.Fragment,{children:a?u.jsx("div",{className:"min-h-[300px] flex items-center justify-center",children:u.jsx(mt,{className:"w-6 h-6 animate-spin text-primary"})}):o?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[u.jsxs(Ye,{children:[u.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(_t,{className:"text-sm font-medium",children:"Tests Completed"}),u.jsx($ce,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Je,{children:[u.jsx("div",{className:"text-2xl font-bold",children:o.overallStats.completedTests}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",o.overallStats.totalTests," started"]})]})]}),u.jsxs(Ye,{children:[u.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(_t,{className:"text-sm font-medium",children:"Overall Accuracy"}),u.jsx(Yle,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Je,{children:[u.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[o.overallStats.totalQuestions>0?Math.round(o.overallStats.correctAnswers/o.overallStats.totalQuestions*100):0,"%"]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.overallStats.correctAnswers," / ",o.overallStats.totalQuestions," correct"]})]})]}),u.jsxs(Ye,{children:[u.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(_t,{className:"text-sm font-medium",children:"Avg Time/Question"}),u.jsx(Pu,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Je,{children:[u.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[o.overallStats.averageTimePerQuestion,"s"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"per question average"})]})]}),u.jsxs(Ye,{children:[u.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(_t,{className:"text-sm font-medium",children:"Areas to Improve"}),u.jsx(eE,{className:"h-4 w-4 text-amber-500"})]}),u.jsxs(Je,{children:[u.jsx("div",{className:"text-2xl font-bold text-amber-600",children:o.weakAreas?.length||0}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"categories below 60%"})]})]})]}),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs(Ye,{children:[u.jsxs(jt,{children:[u.jsxs(_t,{className:"flex items-center gap-2",children:[u.jsx(Qb,{className:"w-5 h-5"}),"Score Trend Over Time"]}),u.jsx(ss,{children:"Performance progression across tests"})]}),u.jsx(Je,{children:o.scoreTrend&&o.scoreTrend.length>0?u.jsx(FB,{width:"100%",height:250,"data-testid":"chart-score-trend",children:u.jsxs(FWe,{data:o.scoreTrend.map(c=>({...c,percentage:Math.round(c.score/c.total*100)})),children:[u.jsx(G3,{strokeDasharray:"3 3",className:"stroke-muted"}),u.jsx(ch,{dataKey:"date",className:"text-xs"}),u.jsx(dh,{domain:[0,100],className:"text-xs"}),u.jsx(Xs,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:c=>[`${c}%`,"Score"]}),u.jsx(Xy,{type:"monotone",dataKey:"percentage",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))"}})]})}):u.jsx("div",{className:"h-[250px] flex items-center justify-center text-muted-foreground",children:"No test data available yet"})})]}),u.jsxs(Ye,{children:[u.jsxs(jt,{children:[u.jsxs(_t,{className:"flex items-center gap-2",children:[u.jsx(fx,{className:"w-5 h-5"}),"Performance by Category"]}),u.jsx(ss,{children:"Accuracy breakdown by topic"})]}),u.jsx(Je,{children:l.length>0?u.jsx(FB,{width:"100%",height:250,"data-testid":"chart-category-performance",children:u.jsxs(BWe,{data:l,layout:"vertical",children:[u.jsx(G3,{strokeDasharray:"3 3",className:"stroke-muted"}),u.jsx(ch,{type:"number",domain:[0,100],className:"text-xs"}),u.jsx(dh,{type:"category",dataKey:"name",width:100,className:"text-xs"}),u.jsx(Xs,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:(c,d,h)=>[`${c}% (${h.payload.correct}/${h.payload.total})`,"Accuracy"]}),u.jsx(rd,{dataKey:"accuracy",radius:[0,4,4,0],children:l.map((c,d)=>u.jsx(bM,{fill:c.accuracy>=60?"#22c55e":"#f59e0b"},`cell-${d}`))})]})}):u.jsx("div",{className:"h-[250px] flex items-center justify-center text-muted-foreground",children:"No category data available yet"})})]})]}),o.weakAreas&&o.weakAreas.length>0&&u.jsxs(Ye,{children:[u.jsxs(jt,{children:[u.jsxs(_t,{className:"flex items-center gap-2 text-amber-600",children:[u.jsx(eE,{className:"w-5 h-5"}),"Areas Needing Improvement"]}),u.jsx(ss,{children:"Categories with less than 60% accuracy (minimum 3 questions attempted)"})]}),u.jsx(Je,{children:u.jsx("div",{className:"space-y-4","data-testid":"list-weak-areas",children:o.weakAreas.map((c,d)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"font-medium",children:c.category}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:[c.accuracy,"% (",c.questionsAttempted," questions)"]})]}),u.jsx(Gw,{value:c.accuracy,className:"h-2"})]}),u.jsxs(ce,{variant:"outline",size:"sm","data-testid":`button-practice-${c.category}`,children:["Practice",u.jsx(Go,{className:"w-4 h-4 ml-1"})]})]},d))})})]}),l.length>0&&u.jsxs(Ye,{children:[u.jsx(jt,{children:u.jsx(_t,{children:"Detailed Category Breakdown"})}),u.jsx(Je,{children:u.jsx("div",{className:"overflow-x-auto","data-testid":"table-category-breakdown",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b",children:[u.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Category"}),u.jsx("th",{className:"text-center py-3 px-4 font-medium",children:"Questions"}),u.jsx("th",{className:"text-center py-3 px-4 font-medium",children:"Correct"}),u.jsx("th",{className:"text-center py-3 px-4 font-medium",children:"Accuracy"}),u.jsx("th",{className:"text-center py-3 px-4 font-medium",children:"Avg Time"})]})}),u.jsx("tbody",{children:l.map((c,d)=>u.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/50",children:[u.jsx("td",{className:"py-3 px-4 font-medium",children:c.name}),u.jsx("td",{className:"py-3 px-4 text-center",children:c.total}),u.jsx("td",{className:"py-3 px-4 text-center text-green-600",children:c.correct}),u.jsx("td",{className:"py-3 px-4 text-center",children:u.jsxs(Ft,{variant:c.accuracy>=60?"default":"secondary",className:c.accuracy>=60?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700",children:[c.accuracy,"%"]})}),u.jsxs("td",{className:"py-3 px-4 text-center text-muted-foreground",children:[c.avgTime,"s"]})]},d))})]})})})]})]}):u.jsx(Ye,{children:u.jsx(Je,{className:"py-12 text-center text-muted-foreground",children:"No report data available for this student yet. Complete some tests to see analytics."})})}),!i&&t?.length>0&&u.jsx(Ye,{children:u.jsx(Je,{className:"py-12 text-center text-muted-foreground",children:"Select a student above to view their detailed performance report."})}),t?.length===0&&u.jsx(Ye,{children:u.jsx(Je,{className:"py-12 text-center text-muted-foreground",children:"No students found. Add students to your account to start tracking their progress."})})]})}function DU(){const{user:t}=wh(),{data:e}=Sh(),{data:n}=Ka(),{data:r}=ow(),{data:i}=UO(),[,s]=vo(),o=Wme(),a=localStorage.getItem("active_student_profile"),l=a?JSON.parse(a):null,d=n?.find(y=>y.id===(l?.userId||l?.id))?.firstName||l?.firstName||t?.firstName,h=async y=>{try{const b=await o.mutateAsync(y);s(`/student/test/${b.id}`)}catch(b){console.error(b)}},m=i?.filter(y=>y.completedAt).length||0,g=i?.reduce((y,b)=>y+(b.score||0),0)/(m||1);return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-gradient-to-r from-primary to-blue-600 rounded-3xl p-8 text-primary-foreground shadow-xl relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-16 -mt-16 blur-3xl pointer-events-none"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("h1",{className:"text-3xl font-display font-bold",children:["Hi, ",d,"!"]}),u.jsxs("p",{className:"text-primary-foreground/80 mt-2 max-w-lg",children:["Ready to learn something new today? You have ",r?.length," tests available."]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center text-green-600",children:u.jsx(Vr,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-2xl font-bold",children:m}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"})]})]}),u.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center text-yellow-600",children:u.jsx(_ce,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-2xl font-bold",children:[Math.round(g),"%"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Score"})]})]})]}),u.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-bold font-display",children:"Available Tests"}),u.jsx("div",{className:"space-y-4",children:r?.map(y=>u.jsxs("div",{className:"bg-card p-5 rounded-2xl border border-border shadow-sm hover:border-primary/50 transition-colors flex items-center justify-between group",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold",children:y.title}),u.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:y.description}),u.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Pu,{className:"w-3 h-3"})," 20 mins"]}),u.jsx("span",{children:""}),u.jsxs("span",{children:[y.questionIds.length," Questions"]})]})]}),u.jsx("button",{onClick:()=>h(y.id),disabled:o.isPending,className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-all",children:u.jsx(Cce,{className:"w-4 h-4 ml-0.5"})})]},y.id))})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-bold font-display",children:"Recent Results"}),u.jsx("div",{className:"space-y-4",children:i?.slice(0,5).map(y=>u.jsxs("div",{className:"bg-card p-5 rounded-2xl border border-border shadow-sm flex items-center justify-between opacity-80 hover:opacity-100 transition-opacity",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium",children:y.test?.title}),u.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(y.startedAt).toLocaleDateString()})]}),u.jsxs("div",{className:`text-lg font-bold ${(y.score||0)>=80?"text-green-600":(y.score||0)>=60?"text-yellow-600":"text-red-500"}`,children:[y.score,"%"]})]},y.id))})]})]})]})}function zWe(){const[,t]=Vb("/student/test/:id"),[,e]=vo(),{toast:n}=Gn(),[r,i]=C.useState(0),[s,o]=C.useState({}),[a,l]=C.useState(new Set),[c,d]=C.useState(!1),[h,m]=C.useState(0),[g,y]=C.useState(0),[b,x]=C.useState(""),[S,N]=C.useState({}),[T,j]=C.useState({}),{data:P,isLoading:E}=pt({queryKey:[`/api/tests/${t?.id}`]}),{data:O}=pt({queryKey:["/api/student/profile"]});C.useEffect(()=>{const z=setInterval(()=>{if(P?.questions[r]){const F=P.questions[r].id;N(q=>({...q,[F]:(q[F]||0)+1}))}},1e3);return()=>clearInterval(z)},[r,P?.questions]);const _=dt({mutationFn:async z=>(await $t("POST",`/api/tests/${t?.id}/submit`,z)).json(),onSuccess:z=>{n({title:"Test Submitted!",description:`You scored ${z.score}%`}),e(`/student/test/${t?.id}/results/${z.id}`)}});if(E)return u.jsx("div",{className:"p-8 text-center",children:"Loading test..."});if(!P)return u.jsx("div",{className:"p-8 text-center",children:"Test not found."});const $=P.questions[r],B=P.questions.length,I=(r+1)/B*100,V=()=>{_.mutate({answers:s,timings:S,feedback:{difficulty:h,feeling:g,comments:b}})},U=z=>{const F=new Set(a);F.has(z)?F.delete(z):F.add(z),l(F)},L=z=>{i(z),window.scrollTo({top:0,behavior:"smooth"})};return u.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex flex-col",children:[u.jsx("header",{className:"bg-white dark:bg-slate-900 border-b sticky top-0 z-10 px-4 py-3",children:u.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>e("/student/dashboard"),children:u.jsx(Cf,{className:"w-5 h-5"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"font-black text-lg md:text-xl truncate max-w-[200px] md:max-w-none",children:P.title}),u.jsxs("p",{className:"text-xs text-muted-foreground font-bold uppercase tracking-wider",children:["Question ",r+1," of ",B]})]})]}),u.jsx("div",{className:"flex-1 max-w-xs hidden md:block",children:u.jsx(Gw,{value:I,className:"h-3 rounded-full bg-slate-100"})}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs(Ft,{variant:"secondary",className:"px-3 py-1 rounded-full font-black bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400",children:[Math.floor(I),"% Done"]})})]})}),u.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto",children:$&&u.jsx("div",{className:"max-w-4xl mx-auto space-y-6 pb-24",children:u.jsx(Ye,{className:"border-none shadow-2xl shadow-slate-200/50 dark:shadow-none rounded-3xl overflow-hidden",children:u.jsxs(Je,{className:"p-0",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-700 p-6 md:p-8 text-white",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[u.jsx(Ft,{variant:"outline",className:"text-white border-white/30 font-bold bg-white/10 backdrop-blur-sm",children:$.category}),u.jsx(Ft,{variant:"outline",className:"text-white border-white/30 font-bold bg-white/10 backdrop-blur-sm",children:$.type==="mcq"?"Multiple Choice":"Open Ended"})]}),u.jsx("div",{className:"text-xl md:text-2xl font-bold leading-relaxed prose prose-invert max-w-none break-words overflow-hidden whitespace-normal",dangerouslySetInnerHTML:{__html:$.content}}),$.imageUrl&&u.jsx("div",{className:"mt-6 rounded-2xl overflow-hidden border-4 border-white/20 shadow-2xl",children:u.jsx("img",{src:$.imageUrl,alt:"Question",className:"w-full h-auto"})})]}),u.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[$.type==="mcq"&&$.options&&u.jsxs("div",{className:"grid gap-3",children:[$.options.map((z,F)=>{const q=String.fromCharCode(65+F),M=s[$.id]===q;return u.jsxs(ce,{variant:M?"default":"outline",className:`h-auto p-4 md:p-6 justify-start text-left rounded-2xl border-2 transition-all group relative overflow-hidden whitespace-normal break-words ${M?"bg-blue-600 border-blue-600 text-white shadow-lg scale-[1.02]":"hover:border-blue-200 hover:bg-blue-50/50 dark:hover:bg-blue-900/20"}`,onClick:()=>o(D=>({...D,[$.id]:q})),children:[u.jsx("span",{className:`w-10 h-10 shrink-0 rounded-xl flex items-center justify-center font-black mr-4 text-lg border-2 transition-colors ${M?"bg-white text-blue-600 border-white":"bg-slate-50 text-slate-400 border-slate-200"}`,children:q}),u.jsx("span",{className:"text-lg font-bold flex-1 pr-4",children:z})]},F)}),u.jsx("div",{className:"mt-8 pt-8 border-t",children:T[$.id]?u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/30 rounded-2xl p-6 border border-blue-100 dark:border-blue-900 animate-in zoom-in-95 duration-300",children:[u.jsxs("h4",{className:"text-sm font-black uppercase tracking-widest text-blue-500 mb-3 flex items-center gap-2",children:[u.jsx(eE,{className:"w-4 h-4"})," Solution"]}),u.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert text-blue-900 dark:text-blue-100 font-medium break-words overflow-hidden whitespace-normal",dangerouslySetInnerHTML:{__html:$.explanation||"No solution provided."}})]}):u.jsx(ce,{variant:"outline",className:"w-full h-14 rounded-2xl text-lg font-bold border-2",onClick:()=>j(z=>({...z,[$.id]:!0})),children:"Check Solution"})})]}),$.type==="open"&&u.jsx(Ci,{placeholder:"Type your answer here...",value:s[$.id]||"",onChange:z=>o(F=>({...F,[$.id]:z.target.value})),className:"min-h-[150px] rounded-2xl border-2 focus-visible:ring-primary/20 bg-white dark:bg-slate-800 p-4 text-lg"})]})]})})})}),u.jsx("footer",{className:"bg-white dark:bg-slate-900 border-t p-4 md:p-6 sticky bottom-0 w-full overflow-hidden",children:u.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col items-stretch justify-center gap-3 w-full",children:[u.jsx("div",{className:"w-full order-1",children:r<B-1?u.jsxs(ce,{size:"lg",className:"w-full rounded-xl px-8 font-black gap-2 bg-blue-600 hover:bg-blue-700 shadow-xl shadow-blue-600/25 text-base h-14",onClick:()=>L(r+1),children:["Next Question ",u.jsx(Go,{className:"w-5 h-5"})]}):u.jsxs(My,{open:c,onOpenChange:d,children:[u.jsx(Iy,{asChild:!0,children:u.jsx(ce,{size:"lg",className:"w-full rounded-xl px-8 font-black gap-2 bg-green-600 hover:bg-green-700 shadow-xl shadow-green-600/25 text-base h-14",children:"Finish Test"})}),u.jsxs(Ph,{className:"max-w-md rounded-3xl",children:[u.jsxs(Th,{children:[u.jsx(jh,{children:"How was the test?"}),u.jsx(Eh,{children:"Please provide your feedback before final submission."})]}),u.jsxs("div",{className:"space-y-6 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{children:"Difficulty Rating"}),u.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(z=>u.jsx(ce,{variant:h===z?"default":"outline",size:"sm",onClick:()=>m(z),children:z},z))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{children:"How are you feeling?"}),u.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(z=>u.jsx(ce,{variant:g===z?"default":"outline",size:"icon",onClick:()=>y(z),children:u.jsx(kce,{className:`w-4 h-4 ${g===z?"fill-current":""}`})},z))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Me,{children:"Comments (Optional)"}),u.jsx(Ci,{placeholder:"Any thoughts on the questions?",value:b,onChange:z=>x(z.target.value),className:"rounded-xl"})]})]}),u.jsxs(Ah,{children:[u.jsx(Oh,{onClick:()=>d(!1),children:"Back to Review"}),u.jsx(kh,{onClick:V,disabled:h===0||g===0,children:"Final Submit"})]})]})]})}),u.jsxs("div",{className:"flex flex-col gap-3 w-full order-2",children:[u.jsxs(ce,{variant:"outline",size:"lg",className:"w-full rounded-xl px-8 font-bold gap-2 border-2 hover:bg-muted text-base h-14",onClick:()=>L(Math.max(0,r-1)),disabled:r===0,children:[u.jsx(Cf,{className:"w-5 h-5"})," Previous Question"]}),u.jsxs(ce,{variant:"secondary",size:"lg",className:`w-full rounded-xl px-8 font-bold gap-2 border-none shadow-lg transition-all text-base h-14 ${a.has($?.id)?"bg-destructive text-destructive-foreground":"bg-amber-400 hover:bg-amber-500 text-amber-950 shadow-amber-400/20"}`,onClick:()=>$&&U($.id),children:[u.jsx(Zj,{className:`w-5 h-5 ${a.has($?.id)?"fill-current":""}`}),a.has($?.id)?"Unflag Question":"Flag for Review"]})]})]})})]})}function UWe(){const[,t]=Vb("/student/review/:attemptId/:questionId"),e=t?.attemptId?parseInt(t.attemptId):null,n=t?.questionId?parseInt(t.questionId):null;return!e||!n?null:u.jsx(qWe,{attemptId:e,questionId:n})}function qWe({attemptId:t,questionId:e}){const[,n]=vo(),{data:r,isLoading:i}=pt({queryKey:["/api/attempts",t],queryFn:async()=>{const N=await fetch(`/api/attempts/${t}`,{credentials:"include"});if(!N.ok)throw new Error("Failed to fetch attempt");return N.json()},enabled:!!t}),{attempt:s,test:o,questions:a}=r||{},l=a?.find(N=>N.id===e),c=s?.answers||{},d=c[e]||"",h=a?.findIndex(N=>N.id===e)??-1,m=a?.length||0;let g=!1;if(l)if(l.type==="mcq")if(/^[A-E]$/i.test(l.correctAnswer)){const T=l.correctAnswer.toUpperCase().charCodeAt(0)-65,j=l.options?.[T];g=d===j}else g=d===l.correctAnswer;else g=d?.trim().toLowerCase()===l.correctAnswer?.trim().toLowerCase();const y=N=>{n(`/student/review/${t}/${N}`)},b=()=>{h>0&&a&&y(a[h-1].id)},x=()=>{h<m-1&&a&&y(a[h+1].id)};if(i)return u.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex items-center justify-center",children:u.jsx(mt,{className:"w-8 h-8 animate-spin text-primary"})});if(!l||!s)return u.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-lg font-semibold mb-4",children:"Question not found"}),u.jsx(ce,{onClick:()=>n("/parent/results"),variant:"outline",children:"Back to Results"})]})});const S=m>0?(h+1)/m*100:0;return u.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex flex-col",children:[u.jsx("header",{className:"bg-white dark:bg-slate-900 border-b p-4 sticky top-0 z-10 shadow-sm",children:u.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>n(`/parent/results/${t}`),className:"rounded-full",children:u.jsx(Wb,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex-1 max-w-xs",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-xs font-bold text-primary",children:"Progress"}),u.jsxs("span",{className:"text-xs font-bold text-primary",children:[Math.round(S),"%"]})]}),u.jsx("div",{className:"w-full bg-primary/10 rounded-full h-2",children:u.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${S}%`}})}),u.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1 font-medium",children:["Question ",h+1," of ",m]})]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx(Ft,{className:se("px-4 py-2 text-sm font-bold",g?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:g?u.jsxs(u.Fragment,{children:[u.jsx(Vr,{className:"w-4 h-4 mr-2"}),"Correct"]}):u.jsxs(u.Fragment,{children:[u.jsx(my,{className:"w-4 h-4 mr-2"}),"Incorrect"]})})})]})}),u.jsx("main",{className:"flex-1 flex flex-col max-w-4xl mx-auto w-full p-4 md:p-6 lg:p-8 overflow-y-auto",children:u.jsx("div",{className:"flex-1 flex flex-col gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:u.jsxs(Ye,{className:"overflow-hidden border-none shadow-xl rounded-3xl",children:[u.jsx(jt,{className:"bg-muted/30 border-b px-8 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:l.subject||"Question"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:"Review Mode"})]})}),u.jsxs(Je,{className:"p-8",children:[u.jsx("div",{className:"prose prose-lg max-w-none dark:prose-invert font-body leading-relaxed mb-8 break-words overflow-hidden",dangerouslySetInnerHTML:{__html:l.content}}),u.jsxs("div",{className:"mt-8 pt-8 border-t border-border/50 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Your Answer:"}),l.type==="mcq"&&l.options?u.jsx("div",{className:"grid gap-4",children:l.options.map((N,T)=>{const j=d===N,P=l.correctAnswer===N,E=l.correctAnswer===String.fromCharCode(65+T),O=P||E;let _="border-border/30 bg-slate-50 opacity-60";return j&&O?_="border-green-500 bg-green-50 ring-1 ring-green-500 opacity-100":j&&!O?_="border-destructive bg-destructive/5 ring-1 ring-destructive opacity-100":!j&&O&&(_="border-green-500/50 bg-green-50/30 opacity-80"),u.jsxs("div",{className:se("flex items-center gap-4 p-5 rounded-2xl border-2 transition-all text-left shadow-sm",_),children:[u.jsx("span",{className:se("flex items-center justify-center w-8 h-8 rounded-xl text-sm font-black",j&&O?"bg-green-500 text-white":j&&!O?"bg-destructive text-white":O?"bg-green-500/50 text-white":"bg-muted text-muted-foreground"),children:String.fromCharCode(65+T)}),u.jsx("span",{className:se("text-base font-medium flex-1",j&&O?"text-green-700 font-bold":j&&!O?"text-destructive font-bold":O?"text-green-700":"text-slate-700 dark:text-slate-300"),children:N}),j&&u.jsx(Ft,{className:se(O?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:"Your Answer"}),!j&&O&&u.jsx(Ft,{className:"bg-green-100 text-green-700",children:"Correct Answer"})]},T)})}):u.jsx("div",{className:se("p-5 rounded-2xl border-2",g?"border-green-500 bg-green-50":"border-destructive bg-destructive/5"),children:u.jsx("p",{className:se("text-lg font-medium",g?"text-green-700":"text-destructive"),children:d||"No answer provided"})})]}),u.jsxs("div",{className:"bg-green-50 dark:bg-green-950/30 rounded-2xl p-6 border border-green-100 dark:border-green-900",children:[u.jsx("h4",{className:"text-sm font-black uppercase tracking-widest text-green-600 dark:text-green-400 mb-2",children:"Correct Answer"}),u.jsx("p",{className:"text-xl font-bold text-green-700 dark:text-green-300",children:(()=>{if(/^[A-E]$/.test(l.correctAnswer||"")&&l.options){const T=l.correctAnswer.charCodeAt(0)-65;return`${l.correctAnswer}: ${l.options[T]}`}return l.correctAnswer})()})]}),l.explanation&&u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/30 rounded-2xl p-6 border border-blue-100 dark:border-blue-900",children:[u.jsx("h4",{className:"text-sm font-black uppercase tracking-widest text-blue-500 mb-3",children:"Solution"}),u.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert text-blue-900 dark:text-blue-100 font-medium break-words overflow-hidden whitespace-normal",dangerouslySetInnerHTML:{__html:l.explanation||"No solution provided."}})]})]})]})]})})}),u.jsx("footer",{className:"bg-white dark:bg-slate-900 border-t p-6 sticky bottom-0",children:u.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs(ce,{variant:"outline",size:"lg",className:"rounded-2xl px-4 sm:px-8 font-bold gap-2 border-2 hover:bg-muted",onClick:b,disabled:h===0,children:[u.jsx(Cf,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-h-28 overflow-y-auto py-1",children:a?.map((N,T)=>{const j=c[N.id]||"";let P=!1;if(N.type==="mcq")if(/^[A-E]$/i.test(N.correctAnswer)){const O=N.correctAnswer.toUpperCase().charCodeAt(0)-65,_=N.options?.[O];P=j===_}else P=j===N.correctAnswer;else P=j?.trim().toLowerCase()===N.correctAnswer?.trim().toLowerCase();return u.jsx("button",{onClick:()=>y(N.id),className:se("w-10 h-10 rounded-xl border-2 flex items-center justify-center font-bold text-sm transition-all",N.id===e?"border-primary bg-primary text-white":P?"border-green-300 bg-green-50 text-green-700":"border-red-300 bg-red-50 text-red-700"),children:T+1},N.id)})})}),u.jsxs(ce,{variant:"outline",size:"lg",className:"rounded-2xl px-4 sm:px-8 font-bold gap-2 border-2 hover:bg-muted",onClick:x,disabled:h===m-1,children:[u.jsx("span",{className:"hidden sm:inline",children:"Next"}),u.jsx(Go,{className:"w-5 h-5"})]})]})})]})}function LU(){const{token:t}=QU(),[,e]=vo(),[n,r]=C.useState("loading"),[i,s]=C.useState(null);C.useEffect(()=>{async function l(){try{const c=await fetch(`/api/invitations/${t}`);if(c.ok){const d=await c.json();d.status==="pending"?(s(d),r("valid")):r("used")}else r("invalid")}catch{r("invalid")}}t&&l()},[t]);const o=()=>{localStorage.setItem("invitationToken",t||""),window.location.href="/api/login"},a=i?.planId?i.planId.charAt(0).toUpperCase()+i.planId.slice(1):"Discovery";return n==="loading"?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx(Ye,{className:"w-full max-w-md",children:u.jsxs(Je,{className:"flex flex-col items-center py-12",children:[u.jsx(mt,{className:"h-12 w-12 animate-spin text-primary mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"Verifying your invitation..."})]})})}):n==="invalid"?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:u.jsxs(Ye,{className:"w-full max-w-md",children:[u.jsxs(jt,{className:"text-center",children:[u.jsx(my,{className:"h-16 w-16 text-destructive mx-auto mb-4"}),u.jsx(_t,{children:"Invalid Invitation"}),u.jsx(ss,{children:"This invitation link is invalid or has expired."})]}),u.jsx(Je,{className:"flex justify-center",children:u.jsx(ce,{onClick:()=>e("/"),"data-testid":"button-go-home",children:"Go to Homepage"})})]})}):n==="used"?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:u.jsxs(Ye,{className:"w-full max-w-md",children:[u.jsxs(jt,{className:"text-center",children:[u.jsx(Vr,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),u.jsx(_t,{children:"Invitation Already Used"}),u.jsx(ss,{children:"This invitation has already been accepted. Please sign in to continue."})]}),u.jsx(Je,{className:"flex justify-center",children:u.jsx(ce,{onClick:()=>window.location.href="/api/login","data-testid":"button-sign-in",children:"Sign In"})})]})}):u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:u.jsxs(Ye,{className:"w-full max-w-md",children:[u.jsxs(jt,{className:"text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(lce,{className:"h-10 w-10 text-white"})}),u.jsx(_t,{className:"text-2xl",children:"You're Invited!"}),u.jsxs(ss,{children:["Join TutorAI with ",u.jsx("span",{className:"font-semibold text-primary",children:a})," plan access"]})]}),u.jsxs(Je,{className:"space-y-6",children:[u.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[u.jsx("h4",{className:"font-medium",children:"What you'll get:"}),u.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx(Vr,{className:"h-4 w-4 text-green-500"}),"5 bonus credits to get started"]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx(Vr,{className:"h-4 w-4 text-green-500"}),"Access to ",a," plan features"]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx(Vr,{className:"h-4 w-4 text-green-500"}),"AI-powered question generation"]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx(Vr,{className:"h-4 w-4 text-green-500"}),"Personalized test creation"]})]})]}),u.jsx(ce,{onClick:o,className:"w-full",size:"lg","data-testid":"button-accept-invitation",children:"Accept Invitation & Sign Up"}),u.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"By accepting, you agree to our Terms of Service and Privacy Policy"})]})]})})}function HWe(){const{user:t,isLoading:e}=wh(),{data:n,isLoading:r,isFetched:i}=Sh(),[s,o]=vo(),a=e||!!t&&!i;return C.useEffect(()=>{async function l(){const c=localStorage.getItem("invitationToken");if(c&&t)try{const d=await fetch(`/api/invitations/${c}/accept`,{method:"POST",headers:{"Content-Type":"application/json"}});d.ok?console.log("Invitation accepted via token"):d.status===400&&console.log("Invitation already processed")}catch(d){console.error("Failed to accept invitation:",d)}finally{localStorage.removeItem("invitationToken")}}t&&!a&&l()},[t,a]),C.useEffect(()=>{a||t&&s==="/"&&(localStorage.getItem("active_student_profile")?o("/student/dashboard"):n?.role==="parent"?o("/parent/dashboard"):n?.role==="student"&&o("/student/dashboard"))},[t,n,a,s,o]),a?u.jsx("div",{className:"min-h-screen bg-background grid place-items-center",children:u.jsx(mt,{className:"w-10 h-10 animate-spin text-primary"})}):s.startsWith("/public/test/")?u.jsx(c4e,{}):s.startsWith("/invite/")?u.jsx(LU,{}):t?u.jsx(xve,{children:u.jsxs(zR,{children:[u.jsx(pn,{path:"/profile",component:e4e}),u.jsx(pn,{path:"/admin/dashboard",component:u4e}),u.jsx(pn,{path:"/admin/users",component:yIe}),u.jsx(pn,{path:"/admin/prompts",component:vIe}),u.jsx(pn,{path:"/admin/plans",component:wIe}),u.jsx(pn,{path:"/admin/reference-tables",component:SIe}),u.jsx(pn,{path:"/parent/dashboard",component:Wbe}),u.jsx(pn,{path:"/parent/students",component:Jwe}),u.jsx(pn,{path:"/parent/questions",component:Tke}),u.jsx(pn,{path:"/parent/tests",component:Pke}),u.jsx(pn,{path:"/parent/tests/:id",component:kke}),u.jsx(pn,{path:"/parent/explanations",component:CIe}),u.jsx(pn,{path:"/parent/explanations/history",component:AIe}),u.jsx(pn,{path:"/parent/results",component:OIe}),u.jsx(pn,{path:"/parent/results/:id",component:$Ie}),u.jsx(pn,{path:"/parent/reports",component:VWe}),u.jsx(pn,{path:"/student/dashboard",component:DU}),u.jsx(pn,{path:"/student/tests",component:DU}),u.jsx(pn,{path:"/student/test/:id",component:zWe}),u.jsx(pn,{path:"/student/review/:attemptId/:questionId",component:UWe}),u.jsx(pn,{path:"/",component:()=>null})," ",u.jsx(pn,{component:O5})]})}):u.jsxs(zR,{children:[u.jsx(pn,{path:"/",component:Qme}),u.jsx(pn,{path:"/invite/:token",component:LU}),u.jsx(pn,{component:O5})]})}function WWe(){return u.jsx(Vae,{client:ba,children:u.jsxs(qde,{children:[u.jsx(xue,{}),u.jsx(HWe,{})]})})}nae.createRoot(document.getElementById("root")).render(u.jsx(WWe,{}));
